<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Anki Manual</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="Anki&#x27;s user manual. Anki is a flashcard program that makes learning easier.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="css/misc.css">
        <link rel="stylesheet" href="css/mdbook-admonish.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Anki Manual</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ankitects/anki-manual/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<h2 id="mobile-clients"><a class="header" href="#mobile-clients">Mobile Clients</a></h2>
<p>This is the manual for the computer version of Anki. Separate manuals are available for the mobile clients:</p>
<ul>
<li><a href="https://docs.ankidroid.org/">AnkiDroid Manual</a> (Android)</li>
<li><a href="https://docs.ankimobile.net/">AnkiMobile Manual</a> (iPhone/iPad)</li>
</ul>
<h2 id="quickstart"><a class="header" href="#quickstart">Quickstart</a></h2>
<p>In a hurry? Jump straight to <a href="getting-started.html">Getting Started</a>.</p>
<h2 id="getting-help"><a class="header" href="#getting-help">Getting Help</a></h2>
<p>Looking for help? Please see <a href="./getting-help.html">Getting Help</a>.</p>
<h2 id="translations"><a class="header" href="#translations">Translations</a></h2>
<p>Volunteers have contributed translations of this manual. The
translations may not always be up to date.</p>
<ul>
<li><a href="https://web.archive.org/web/20250228144632/https://apps.ankiweb.net/docs/manual.id.html">Bahasa Indonesia</a></li>
<li><a href="https://web.archive.org/web/20240413080739/https://www.dennisproksch.de/anki">Deutsch</a></li>
<li><a href="https://web.archive.org/web/20250130154657/https://apps.ankiweb.net/docs/manual.es.html">Español</a></li>
<li><a href="https://web.archive.org/web/20250209100830/https://apps.ankiweb.net/docs/manual.fr.html">Français</a></li>
<li><a href="https://web.archive.org/web/20160423223801/http://192.167.9.6/Anki_ITA/Manual_ITA.htm">Italiano</a></li>
<li><a href="https://platynowy.github.io/anki-manual/">Polski</a></li>
<li><a href="https://mizerablebr.github.io/anki-manual/">Português Brasileiro</a></li>
<li><a href="https://alexeygorelov.github.io/anki-manual-ru/">русский язык</a></li>
<li><a href="https://astropsy999.github.io/anki-manual/">Українська</a></li>
<li><a href="https://abdnh.github.io/anki-manual/">العربية</a></li>
<li><a href="https://web.archive.org/web/20250328102629/http://ankidroid.ir/anki.pdf">فارسى</a></li>
<li><a href="http://wikiwiki.jp/rage2050/">日本語</a></li>
<li><a href="https://open-spaced-repetition.github.io/anki-manual-zh-CN/">简体中文</a></li>
</ul>
<p>If you would like to help translate the manual into a different language,
please see the <a href="https://translating.ankiweb.net/anki/manual.html">translation docs</a>.</p>
<h2 id="legacy-documentation"><a class="header" href="#legacy-documentation">Legacy Documentation</a></h2>
<p>Not on the latest version of Anki? Find archives of this manual at the <a href="https://web.archive.org/web/20240829022941/https://docs.ankiweb.net/">Internet Archive</a>.</p>
<p>For information on old scheduler versions, see <a href="https://faqs.ankiweb.net/the-anki-2.1-scheduler.html">this FAQ</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="background"><a class="header" href="#background">Background</a></h1>
<ul>
<li><a href="background.html#active-recall-testing">Active Recall Testing</a></li>
<li><a href="background.html#use-it-or-lose-it">Use It or Lose It</a></li>
<li><a href="background.html#spaced-repetition">Spaced Repetition</a></li>
<li><a href="background.html#why-anki">Why Anki?</a></li>
</ul>
<p>Anki is a program which makes remembering things easy. Because it is a
lot more efficient than traditional study methods, you can either
greatly decrease your time spent studying, or greatly increase the
amount you learn.</p>
<p>Anyone who needs to remember things in their daily life can benefit from
Anki. Since it is content-agnostic and supports images, audio, videos
and scientific markup, the possibilities are endless. For
example:</p>
<ul>
<li>
<p>Learning a language</p>
</li>
<li>
<p>Studying for medical and law exams</p>
</li>
<li>
<p>Memorizing names and faces of people</p>
</li>
<li>
<p>Brushing up on geography</p>
</li>
<li>
<p>Mastering long poems</p>
</li>
<li>
<p>Even practising guitar chords!</p>
</li>
</ul>
<p>There are two simple concepts behind Anki: <strong>active recall testing</strong> and
<strong>spaced repetition</strong>. They are not known to most learners, despite being well-documented in scientific literature.
Understanding how these concepts work will make you a more effective learner.</p>
<h2 id="active-recall-testing"><a class="header" href="#active-recall-testing">Active Recall Testing</a></h2>
<p><em>Active recall testing</em> means being asked a question and trying to
remember the answer. This is in contrast to <em>passive study</em>, where we
read, watch, or listen to something without pausing to consider if we
know the answer. Research has shown that active recall testing is far
more effective at building strong memories than passive study. There are
two reasons for this:</p>
<ul>
<li>
<p>The act of recalling something <em>strengthens</em> the memory, increasing
the chances we’ll be able to remember it again.</p>
</li>
<li>
<p>When we’re unable to answer a question, it tells us we need to
return to the material to review or relearn it.</p>
</li>
</ul>
<p>You have probably encountered active recall testing in your school years
without even realizing it. When good teachers give you a series of
questions to answer after reading an article, or make you take weekly
tests, they are not doing it simply to see if you
understood the material or not. By testing you, they are increasing the
chances you will be able to remember the material in the future.</p>
<p>A good way to integrate active recall testing into your own studies is
to use <em>flashcards</em>. With traditional paper flashcards, you write a
question on one side of a card, and the answer on the other side. By not
turning the card over until you’ve recalled the answer, you can
learn things more effectively than passive observation allows.</p>
<h2 id="use-it-or-lose-it"><a class="header" href="#use-it-or-lose-it">Use It or Lose It</a></h2>
<p>Our brains are efficient machines, and they rapidly forget information
that doesn’t seem useful. Chances are that you don’t remember what you
had for dinner on Monday two weeks ago, because this information is not
usually useful. However, if you went to a fantastic restaurant that day and have spent
the last two weeks telling people about how great it was,
you’re likely to still remember it in vivid detail.</p>
<p>The brain’s “use it or lose it” policy applies to everything we learn.
If you spend an afternoon memorizing some science terms, and then don’t
think about that material for two weeks, you’ll probably have forgotten
most of it. In fact, studies show we forget about 75% of material learned
within a 48 hour period. This can seem pretty depressing when you need
to learn a lot of information!</p>
<p>However, the solution is simple: <em>review</em>. By reviewing newly-learned
information, we can greatly reduce forgetting.</p>
<p>The only problem is that traditionally, reviewing has not been very practical. If
you are using paper flashcards, it’s easy to flick through all of them
if you only have 30 of them to review, but as the number grows to 300 or
3000, it quickly becomes unmanageable.</p>
<h2 id="spaced-repetition"><a class="header" href="#spaced-repetition">Spaced Repetition</a></h2>
<p>The <em>spacing effect</em> was reported in 1885 by a German psychologist called Hermann Ebbinghaus. He
observed that we tend to remember things more effectively, if we spread
reviews out over time, instead of studying multiple times in one
session. Since the 1930s, there have been a number of proposals for
utilizing the spacing effect to improve learning, in what has come to be
called <em>spaced repetition</em>.</p>
<p>One example was in 1972, when a German scientist called Sebastian Leitner
popularized a method of spaced repetition with paper flashcards. By
separating the paper cards into a series of boxes, and moving the
cards to a different box on each successful or unsuccessful review, it
was possible to see at a glance a rough estimate of how well a card was
known and when it should be reviewed again. This was a great improvement
over a single box of cards, and it has been widely adopted by
computerized flashcard software. It is a rather rough approach however,
as it cannot give you an exact date on which you should review something
again, and it does not work very well with material of varying
difficulty.</p>
<p>The biggest developments in the last 30 years have come from the authors
of SuperMemo, a commercial flashcard program that implements spaced
repetition. SuperMemo pioneered the concept of a system that keeps track
of the ideal time to review material and optimizes itself based on the
performance of the user.</p>
<p>In SuperMemo’s spaced repetition system, every time you answer a
question, you tell the program how well you were able to remember it —
whether you forgot completely, made a small mistake, remembered with
trouble, remembered easily, etc. The program uses this feedback to
decide the optimal time to show you the question again. Because a memory
gets stronger each time you successfully recall it, the time between
reviews gets longer and longer — so you may see a question for the first
time today, then 3 days later, 15 days later, 45 days later, and so on.</p>
<p>This was a revolution in learning, as it meant material could be learned
and retained with the absolute minimum amount of effort necessary.
SuperMemo’s slogan sums it up: with spaced repetition, you can: “forget
about forgetting”.</p>
<h2 id="why-anki"><a class="header" href="#why-anki">Why Anki?</a></h2>
<p>While there is no denying the huge impact SuperMemo has had on the
field, it is not without its problems. The program is often criticized
for being buggy and difficult to navigate. It only runs on Windows
computers. It is proprietary software, meaning that end-users cannot extend it
or access the raw data. And while very old versions have been made available
for free, they are quite limited for modern use.</p>
<p>Anki addresses these issues. There are free clients for Anki available
on many platforms, so struggling students and teachers with budgetary
constraints are not left out. Anki is open source, with an already
flourishing library of add-ons contributed by end-users. It is
multi-platform, running on Windows, macOS, Linux/FreeBSD, and some
mobile devices. And it is considerably easier to use than SuperMemo.</p>
<p>Anki’s spaced repetition system is based on an older version of the
SuperMemo algorithm called <a href="https://faqs.ankiweb.net/what-spaced-repetition-algorithm">SM-2</a>. Recently, a new algorithm called <a href="https://docs.ankiweb.net/deck-options.html?highlight=FSRS#fsrs">FSRS</a> has been integrated as an alternative to the legacy SM-2 algorithm.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="platform-notes"><a class="header" href="#platform-notes">Platform Notes</a></h1>
<p>This section explains the way Anki is installed, and the possible problems you may encounter, depending on your OS:</p>
<ul>
<li><a href="platform/./windows/intro.html">Windows</a></li>
<li><a href="platform/./mac/intro.html">macOS</a></li>
<li><a href="platform/./linux/intro.html">Linux</a></li>
</ul>
<p>If you have already installed Anki, you can skip to the <a href="platform/../getting-started.html">Getting Started</a> section.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows"><a class="header" href="#windows">Windows</a></h1>
<h2 id="installing--upgrading-anki-on-windows"><a class="header" href="#installing--upgrading-anki-on-windows">Installing &amp; Upgrading Anki on Windows</a></h2>
<p>For instructions on how to install or upgrade Anki on Windows, please see:</p>
<ul>
<li><a href="platform/windows/installing.html">Install &amp; Upgrade</a></li>
</ul>
<h2 id="problems"><a class="header" href="#problems">Problems</a></h2>
<p>If you encounter any issues when installing or starting Anki, please see the
subsections in the table of contents.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installing--upgrading-anki-on-windows-1"><a class="header" href="#installing--upgrading-anki-on-windows-1">Installing &amp; Upgrading Anki on Windows</a></h1>
<ul>
<li><a href="platform/windows/installing.html#requirements">Requirements</a></li>
<li><a href="platform/windows/installing.html#installing">Installing</a></li>
<li><a href="platform/windows/installing.html#upgrading">Upgrading</a></li>
<li><a href="platform/windows/installing.html#add-on-compatibility">Add-on Compatibility</a></li>
<li><a href="platform/windows/installing.html#problems">Problems</a></li>
</ul>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<p>Recent Anki releases require a computer running the 64 bit version of Windows
10 or 11.</p>
<ul>
<li>The last Anki release that supported Windows 7 and 8.1 was Anki 2.1.49.</li>
<li>The last Anki release that supported 32 bit Windows was <a href="https://github.com/ankitects/anki/releases/tag/2.1.35">Anki 2.1.35-alternate</a>.</li>
</ul>
<p>If you’re on an old machine, you can obtain old releases from the <a href="https://github.com/ankitects/anki/releases">releases page</a>.</p>
<h2 id="installing"><a class="header" href="#installing">Installing</a></h2>
<p>To install Anki:</p>
<ol>
<li>Download Anki from <a href="https://apps.ankiweb.net">https://apps.ankiweb.net</a>.</li>
<li>Save the installer to your desktop or downloads folder.</li>
<li>Double-click on the installer to run it. If you see an error
message, please see the <a href="platform/windows/installation-issues.html">installation issues page</a>.</li>
<li>Once Anki is installed, double-click on the new star icon on your
desktop to start Anki.</li>
</ol>
<h2 id="upgrading"><a class="header" href="#upgrading">Upgrading</a></h2>
<p>If upgrading from Anki 2.1.6+, there is no need to uninstall the previous
version first. All you need to do is close Anki if it is open, and then follow
the installation steps above. Your cards will be preserved when you upgrade.</p>
<p>If upgrading from an Anki version before 2.1.6, or switching from the standard
to the alternate version or vice versa, we recommend uninstalling the old
version first, which will remove Anki’s program data, but not delete your card
data.</p>
<p>If you wish to downgrade to a previous version, please make sure you
<a href="http://changes.ankiweb.net">downgrade first</a>.</p>
<h2 id="add-on-compatibility"><a class="header" href="#add-on-compatibility">Add-on Compatibility</a></h2>
<p>Some add-ons may not always work with the latest Anki release. If you upgrade to
the latest Anki version and find an add-on you cannot live without stops working,
you can download older Anki versions from the <a href="https://github.com/ankitects/anki/releases">releases page</a>.</p>
<h2 id="problems-1"><a class="header" href="#problems-1">Problems</a></h2>
<p>If you encounter any issues when installing or starting Anki, please see the
following pages:</p>
<ul>
<li><a href="platform/windows/installation-issues.html">Installation Issues</a></li>
<li><a href="platform/windows/startup-issues.html">Startup Issues</a></li>
<li><a href="platform/windows/display-issues.html">Display Issues</a></li>
<li><a href="platform/windows/permission-problems.html">Permission Problems</a></li>
</ul>
<p>If you encounter any interface issues when using Anki, please see the following pages:</p>
<ul>
<li><a href="platform/windows/copy-and-paste.html">Copy and Paste Issues</a></li>
<li><a href="platform/windows/text-size.html">Text Size Issues</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows-installation-issues"><a class="header" href="#windows-installation-issues">Windows installation issues</a></h1>
<p>Some error messages you may encounter when installing Anki:</p>
<ul>
<li><a href="platform/windows/installation-issues.html#error-opening-file-for-writing">“Error opening file for writing”</a></li>
<li><a href="platform/windows/installation-issues.html#antivirus-issues">Antivirus issues</a></li>
</ul>
<p>Please also see <a href="platform/windows/./startup-issues.html">startup issues</a>.</p>
<h2 id="error-opening-file-for-writing"><a class="header" href="#error-opening-file-for-writing">“Error opening file for writing”</a></h2>
<p>If closing Anki and your browser does not help, please try restarting your
computer, then running the installer again.</p>
<h2 id="antivirus-issues"><a class="header" href="#antivirus-issues">Antivirus issues</a></h2>
<p>Antivirus programs may sometimes report a <a href="https://faqs.ankiweb.net/my-antivirus-program-says-anki-is-infected.html">false positive</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows-startup-issues"><a class="header" href="#windows-startup-issues">Windows startup issues</a></h1>
<ul>
<li><a href="platform/windows/startup-issues.html#no-error-but-app-does-not-appear">No error, but app does not appear</a></li>
<li><a href="platform/windows/startup-issues.html#windows-updates">Windows updates</a></li>
<li><a href="platform/windows/startup-issues.html#windows-78">Windows 7/8</a></li>
<li><a href="platform/windows/startup-issues.html#video-driver-issues">Video driver issues</a></li>
<li><a href="platform/windows/startup-issues.html#multiple-displays">Multiple displays</a></li>
<li><a href="platform/windows/startup-issues.html#antivirusfirewall-software">Antivirus/firewall software</a></li>
<li><a href="platform/windows/startup-issues.html#admin-access">Admin access</a></li>
<li><a href="platform/windows/startup-issues.html#multiple-anki-installations-present-after-updating">Multiple Anki installations present after updating</a></li>
<li><a href="platform/windows/startup-issues.html#debugging">Debugging</a></li>
<li><a href="platform/windows/startup-issues.html#if-all-else-fails">If all else fails</a></li>
</ul>
<h2 id="no-error-but-app-does-not-appear"><a class="header" href="#no-error-but-app-does-not-appear">No error, but app does not appear</a></h2>
<p>If you start Anki and it fails to appear, without
any error message, you can try the following:</p>
<ul>
<li>Disconnect multiple/external displays.</li>
<li>Install the <a href="https://apps.ankiweb.net/">latest Anki version</a>.</li>
<li>Adjust <a href="https://forums.ankiweb.net/t/windows-update-broke-anki/1822/75">your decimal separator</a>, if it is not a period.</li>
<li>Install the old <a href="https://github.com/ankitects/anki/releases/tag/2.1.35">2.1.35-alternate build</a> of Anki.</li>
</ul>
<h2 id="windows-updates"><a class="header" href="#windows-updates">Windows updates</a></h2>
<p>When starting Anki, you may receive a message like the following:</p>
<ul>
<li><em>Error loading Python DLL</em></li>
<li><em>The program can’t start because api-ms-win…. is missing</em></li>
<li><em>Failed to execute script runanki</em></li>
<li><em>Failed to execute script pyi_rth_multiprocessing</em></li>
<li><em>Failed to execute script pyi_rth_win32comgenpy</em></li>
</ul>
<p>These errors are usually because your computer is missing a Windows update
or Windows library.</p>
<p>Please open Windows update, and ensure your system has all updates installed.
If any needed to be installed, please restart your device after installing.</p>
<h2 id="windows-78"><a class="header" href="#windows-78">Windows 7/8</a></h2>
<p>On Windows 7/8, you may need to manually install extra updates. Please try:</p>
<ul>
<li><a href="https://www.microsoft.com/en-us/download/details.aspx?id=48234">https://www.microsoft.com/en-us/download/details.aspx?id=48234</a></li>
<li><a href="https://aka.ms/vs/15/release/vc_redist.x64.exe">https://aka.ms/vs/15/release/vc_redist.x64.exe</a></li>
<li><a href="http://www.catalog.update.microsoft.com/Search.aspx?q=kb4474419">http://www.catalog.update.microsoft.com/Search.aspx?q=kb4474419</a></li>
<li><a href="http://www.catalog.update.microsoft.com/Search.aspx?q=kb4490628">http://www.catalog.update.microsoft.com/Search.aspx?q=kb4490628</a></li>
</ul>
<h2 id="video-driver-issues"><a class="header" href="#video-driver-issues">Video driver issues</a></h2>
<p>Please see <a href="platform/windows/./display-issues.html">display issues</a>.</p>
<h2 id="multiple-displays"><a class="header" href="#multiple-displays">Multiple displays</a></h2>
<p>If you get a <em>LoadLibrary failed with error 126</em>, this may be caused by the
toolkit Anki is built on having trouble with <a href="https://forums.ankiweb.net/t/error-126-on-open-anki-desktop/13967">multiple displays</a>.</p>
<h2 id="antivirusfirewall-software"><a class="header" href="#antivirusfirewall-software">Antivirus/firewall software</a></h2>
<p>Third-party software on your machine may prevent Anki from loading. You can
try adding an exception for Anki, or temporarily disabling your antivirus/firewall
to see if it helps.</p>
<h2 id="admin-access"><a class="header" href="#admin-access">Admin access</a></h2>
<p>Some users have reported that Anki did not run for them until they right-clicked
on the Anki icon and chose “Run as administrator”. Anki stores all of its data in
your user folder, and should not need administrator privileges, but it’s something
you can try if you’ve exhausted other options.</p>
<h2 id="multiple-anki-installations-present-after-updating"><a class="header" href="#multiple-anki-installations-present-after-updating">Multiple Anki installations present after updating</a></h2>
<p>If the update process leaves you with multiple Anki installs (such as within
<code>C:\Program Files\Anki</code> and <code>C:\Program Files (x86)\Anki</code>), they may be left in a
non-working state, and Anki may refuse to start without showing an error message.</p>
<p>Try uninstalling all copies of Anki from your computer. To do this, find them in Windows Settings &gt; Apps &amp; features (or Apps &gt; Installed apps) and uninstall, or run <code>uninstall.exe</code> in each Anki program
folder. Afterward, install Anki again.</p>
<h2 id="debugging"><a class="header" href="#debugging">Debugging</a></h2>
<p>Starting Anki from a terminal may reveal a bit more information about some
errors. After installing the latest Anki version and ensuring all Windows
updates are installed, instead of running Anki directly, press the <kbd>Windows</kbd> key (or open the Start menu), type <code>cmd</code>, and launch Command Prompt. When the terminal window opens, paste the following command, and press <kbd>Enter</kbd>. (The path will be different if Anki is installed in a location that is not the default.)</p>
<pre><code>%LocalAppData%\Programs\Anki\anki-console.bat
</code></pre>
<p>Presumably Anki will fail to open like before, but the output in the terminal window may reveal something about
what is causing the problem.</p>
<h2 id="if-all-else-fails"><a class="header" href="#if-all-else-fails">If all else fails</a></h2>
<p>If you are unable to start Anki after trying the above workarounds, you have
two remaining options:</p>
<ul>
<li>You can try <a href="https://faqs.ankiweb.net/running-from-python.html">running from Python</a>.</li>
<li>You can try an older Anki version built with an older toolkit, such as
<a href="https://github.com/ankitects/anki/releases/tag/2.1.35">2.1.35-alternate</a>, or <a href="https://github.com/ankitects/anki/releases/tag/2.1.15">2.1.15</a>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows-display-issues"><a class="header" href="#windows-display-issues">Windows Display Issues</a></h1>
<ul>
<li><a href="platform/windows/display-issues.html#changing-the-driver-from-the-preferences-screen">Changing the Driver From the Preferences Screen</a></li>
<li><a href="platform/windows/display-issues.html#changing-the-driver-from-the-command-line">Changing the Driver From the Command Line</a></li>
<li><a href="platform/windows/display-issues.html#full-screen">Full Screen</a></li>
</ul>
<p>On Windows, there are three ways of content being displayed on screen. The
default is <em>software</em>, which is slower, but the most compatible. There are two
other options that are faster: <em>OpenGL</em> and <em>ANGLE</em>. They are faster, but they
may not work, or may cause display issues such as missing menubars, blank
windows, and so on. Which one works best will depend on your computer.</p>
<h2 id="changing-the-driver-from-the-preferences-screen"><a class="header" href="#changing-the-driver-from-the-preferences-screen">Changing the Driver From the Preferences Screen</a></h2>
<p>In Anki 23.10+, you can change the graphics driver from preferences screen by
navigating to <strong>Tools → Preferences</strong> and then selecting the driver from the
dropdown menu.</p>
<h2 id="changing-the-driver-from-the-command-line"><a class="header" href="#changing-the-driver-from-the-command-line">Changing the Driver From the Command Line</a></h2>
<p>If you run into display issues, you can try switching to software mode via cmd:</p>
<pre><code class="language-bat">echo software &gt; %APPDATA%\Anki2\gldriver6
</code></pre>
<p>Or you can do it via PowerShell:</p>
<pre><code class="language-powershell">echo software &gt; $env:APPDATA\Anki2\gldriver6
</code></pre>
<p>It will not print anything. You can then start Anki again.</p>
<p>To revert to the default behaviour, change <code>software</code> to <code>auto</code>, or delete that file.</p>
<h2 id="full-screen"><a class="header" href="#full-screen">Full Screen</a></h2>
<p>Anki 2.1.50+ comes with a full screen mode, but due to various issues, it had to
be disabled while <code>OpenGL</code> is used. Turning on software rendering as described
above will allow the full screen option to be used, though please bear in mind
that rendering performance may suffer.</p>
<p>In Anki 23.10+, full screen mode is supported with the default Direct3D driver.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="copy-and-paste-issues"><a class="header" href="#copy-and-paste-issues">Copy and paste issues</a></h1>
<p>If you are experiencing problems with copying and pasting, please check if you
are running other programs on your computer that monitor the clipboard, such as
dictionary programs, clipboard managers or clipping tools. The toolkit Anki uses
can have trouble when such programs are running.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="text-size"><a class="header" href="#text-size">Text Size</a></h1>
<p>If you find the text is the wrong size, there are two environmental
variables you can try:</p>
<ul>
<li>
<p>ANKI_NOHIGHDPI=1 will turn off some of Qt’s high dpi support</p>
</li>
<li>
<p>ANKI_WEBSCALE=1 will alter the scale of Anki’s web views (like the
deck list, study screen, etc), while leaving interface elements like
the menu bar alone. Replace 1 with the desired scale, such as 1.5 or
0.75.</p>
</li>
</ul>
<p>On Windows you can add these to a batch file to make it easier to start
Anki. For example, create a file called startanki.bat on your desktop
with the following text:</p>
<pre><code>set ANKI_WEBSCALE=0.75
start "Anki" "%LocalAppData%\Programs\Anki\anki.exe"
</code></pre>
<p>After saving, you can double click on the file to start Anki with that
setting.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows-permission-problems"><a class="header" href="#windows-permission-problems">Windows permission problems</a></h1>
<ul>
<li><a href="platform/windows/permission-problems.html#permission-problems">Permission Problems</a></li>
<li><a href="platform/windows/permission-problems.html#antivirusfirewallanti-malware">Antivirus/Firewall/Anti-Malware</a></li>
<li><a href="platform/windows/permission-problems.html#debugging-permission-problems">Debugging Permission Problems</a></li>
</ul>
<h2 id="permission-problems"><a class="header" href="#permission-problems">Permission Problems</a></h2>
<p>If you receive “access denied” messages, some of Anki’s files may be set to read only mode, meaning Anki is not able to write to them.</p>
<p>To fix the problem, you can do the following:</p>
<ul>
<li>in the search area of the start bar, type <code>cmd.exe</code> and hit <kbd>Enter</kbd></li>
<li>in the window that opens, type the following and hit <kbd>Enter</kbd> to see your username:</li>
</ul>
<p>whoami</p>
<ul>
<li>type the following, hitting <kbd>Enter</kbd> after each line, and replacing ____ (and keeping the :F part) with your username from the previous command</li>
</ul>
<p>cd %APPDATA%</p>
<p>icacls Anki2 /grant ____:F /t</p>
<p>That command should fix the permissions on Anki’s data folder, and you should now be able to start the program.</p>
<h2 id="antivirusfirewallanti-malware"><a class="header" href="#antivirusfirewallanti-malware">Antivirus/Firewall/Anti-Malware</a></h2>
<p>Some users have experienced “permission denied” or “readonly” errors that were caused by security software installed on their machine. You may need to add an exception for Anki, or try temporarily disabling the software to rule it out as the cause. Some users have reported that simply turning off their software did not fix the problem, and they either had to add an exception for Anki or uninstall the software.</p>
<h2 id="debugging-permission-problems"><a class="header" href="#debugging-permission-problems">Debugging Permission Problems</a></h2>
<p>If problems persist after you’ve ruled out Antivirus and related programs, have performed the steps above to fix permissions, and don’t use OneDrive, please run the following commands in <code>cmd.exe</code>, pressing <kbd>Enter</kbd> after each one.</p>
<p>whoami</p>
<p>cd %APPDATA%</p>
<p>icacls Anki2 /t</p>
<p>Then please copy &amp; paste or screenshot what you see, and post it to us in a support ticket.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="macos"><a class="header" href="#macos">macOS</a></h1>
<h2 id="installing--upgrading-anki-on-macos"><a class="header" href="#installing--upgrading-anki-on-macos">Installing &amp; Upgrading Anki on macOS</a></h2>
<p>For instructions on how to install or upgrade Anki on macOS, please see:</p>
<ul>
<li><a href="platform/mac/installing.html">Install &amp; Upgrade</a></li>
</ul>
<h2 id="problems-2"><a class="header" href="#problems-2">Problems</a></h2>
<p>If you encounter any issues when installing or starting Anki, please see the subsections in the table of contents.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installing--upgrading-anki-on-macos-1"><a class="header" href="#installing--upgrading-anki-on-macos-1">Installing &amp; Upgrading Anki on macOS</a></h1>
<ul>
<li><a href="platform/mac/installing.html#requirements">Requirements</a></li>
<li><a href="platform/mac/installing.html#installing">Installing</a></li>
<li><a href="platform/mac/installing.html#upgrading">Upgrading</a></li>
<li><a href="platform/mac/installing.html#homebrew">Homebrew</a></li>
<li><a href="platform/mac/installing.html#add-on-compatibility">Add-on Compatibility</a></li>
<li><a href="platform/mac/installing.html#problems">Problems</a></li>
</ul>
<h2 id="requirements-1"><a class="header" href="#requirements-1">Requirements</a></h2>
<p>macOS version requirements are listed on the download page.</p>
<p>If you’re on an old machine, you can obtain the old version from the <a href="https://github.com/ankitects/anki/releases">releases page</a>. The Qt5 builds on 24.11 and earlier support macOS 10.14 and later. If your macOS
is between 10.10 and 10.13, you’ll need to use <a href="https://github.com/ankitects/anki/releases/tag/2.1.35">Anki 2.1.35-alternate</a>.</p>
<h2 id="installing-1"><a class="header" href="#installing-1">Installing</a></h2>
<ol>
<li>Download Anki from <a href="https://apps.ankiweb.net">https://apps.ankiweb.net</a>.</li>
<li>Save the file to your desktop or downloads folder.</li>
<li>Open it, and drag Anki to your Applications folder or desktop.</li>
<li>Double-click on Anki in the location you placed it.</li>
</ol>
<h2 id="upgrading-1"><a class="header" href="#upgrading-1">Upgrading</a></h2>
<p>To upgrade, close Anki if it is open, and then follow the steps above. Drag
the Anki icon into the same location you previously stored it, and when prompted,
overwrite the old version. Your card data will be preserved.</p>
<h2 id="homebrew"><a class="header" href="#homebrew">Homebrew</a></h2>
<p><a href="https://brew.sh/">Homebrew</a> users can install Anki using
<code>brew install --cask anki</code> in their preferred Terminal application.</p>
<p>Upgrading can be done using <code>brew upgrade</code>, and for uninstalling: <code>brew uninstall --cask anki</code></p>
<h2 id="add-on-compatibility-1"><a class="header" href="#add-on-compatibility-1">Add-on Compatibility</a></h2>
<p>Some add-ons may not always work with the latest Anki release. If you upgrade to
the latest Anki version and find an add-on you cannot live without stops working,
you can download older Anki versions from the <a href="https://github.com/ankitects/anki/releases">releases page</a>.</p>
<h2 id="problems-3"><a class="header" href="#problems-3">Problems</a></h2>
<p>If you encounter any issues when installing or starting Anki, please see:</p>
<ul>
<li><a href="platform/mac/display-issues.html">Display Issues</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="display-issues-on-macos"><a class="header" href="#display-issues-on-macos">Display Issues on macOS</a></h1>
<ul>
<li><a href="platform/mac/display-issues.html#change-the-video-driver">Change the Video Driver</a>
<ul>
<li><a href="platform/mac/display-issues.html#changing-the-driver-from-the-preferences-screen">Changing the Driver From the Preferences Screen</a></li>
<li><a href="platform/mac/display-issues.html#changing-the-driver-from-terminalapp">Changing the Driver From Terminal.app</a></li>
</ul>
</li>
<li><a href="platform/mac/display-issues.html#egpus">eGPUs</a></li>
<li><a href="platform/mac/display-issues.html#monitors-with-different-resolutions">Monitors with Different Resolutions</a></li>
</ul>
<h2 id="change-the-video-driver"><a class="header" href="#change-the-video-driver">Change the Video Driver</a></h2>
<h3 id="changing-the-driver-from-the-preferences-screen-1"><a class="header" href="#changing-the-driver-from-the-preferences-screen-1">Changing the Driver From the Preferences Screen</a></h3>
<p>If you’re experiencing display issues or crashes in Anki 23.10+, you can try
changing the video driver in the preferences screen by navigating to <strong>Anki →
Preferences</strong> and then selecting the driver from the dropdown menu. After that it
is necessary to restart Anki.</p>
<h3 id="changing-the-driver-from-terminalapp"><a class="header" href="#changing-the-driver-from-terminalapp">Changing the Driver From Terminal.app</a></h3>
<p>Older Anki versions did not provide an option in the preferences, but allowed
you to adjust the driver by opening Terminal.app, then pasting the following and hit <kbd>Enter</kbd>:</p>
<pre><code>echo software &gt; ~/Library/Application\ Support/Anki2/gldriver6
</code></pre>
<p>It will not print anything. You can then start Anki again.</p>
<p>If you wish to switch back to the default, change <code>software</code> to <code>auto</code>, or
remove that file.</p>
<h2 id="egpus"><a class="header" href="#egpus">eGPUs</a></h2>
<p>If you experience blank screens when using an external graphics card on a Mac, you can <kbd>Ctrl</kbd>+click on the Anki app, click <strong>Get Info</strong>, and enable the <strong>prefer eGPU</strong> option.</p>
<h2 id="monitors-with-different-resolutions"><a class="header" href="#monitors-with-different-resolutions">Monitors with Different Resolutions</a></h2>
<p>Please see <a href="https://forums.ankiweb.net/t/mac-known-issues-wording-suggestion/7331">this forum post</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linux"><a class="header" href="#linux">Linux</a></h1>
<h2 id="installing--upgrading-anki-on-linux"><a class="header" href="#installing--upgrading-anki-on-linux">Installing &amp; Upgrading Anki on Linux</a></h2>
<p>For instructions on how to install or upgrade Anki on Linux, please see:</p>
<ul>
<li><a href="platform/linux/installing.html">Install &amp; Upgrade</a></li>
</ul>
<h2 id="problems-4"><a class="header" href="#problems-4">Problems</a></h2>
<p>If you encounter any issues when installing or starting Anki, please see the subsections in the table of contents.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installing--upgrading-anki-on-linux-1"><a class="header" href="#installing--upgrading-anki-on-linux-1">Installing &amp; Upgrading Anki on Linux</a></h1>
<ul>
<li><a href="platform/linux/installing.html#requirements">Requirements</a></li>
<li><a href="platform/linux/installing.html#installing">Installing</a></li>
<li><a href="platform/linux/installing.html#upgrading">Upgrading</a></li>
<li><a href="platform/linux/installing.html#add-on-compatibility">Add-on Compatibility</a></li>
<li><a href="platform/linux/installing.html#system-qt-versions">System Qt versions</a></li>
<li><a href="platform/linux/installing.html#problems">Problems</a></li>
</ul>
<h2 id="requirements-2"><a class="header" href="#requirements-2">Requirements</a></h2>
<p>The packaged version requires a recent 64 bit Intel/AMD Linux with glibc 2.36+, and common
libraries like libwayland-client and systemd. If you are on a different
architecture (e.g ARM/AArch64), or a barebones Linux distro, you will not be able to use the
packaged version, but you may be able to use the <a href="https://betas.ankiweb.net/#via-pypipip">Python wheels</a>
instead.</p>
<p>Debian and derivatives, such as Ubuntu and <a href="https://support.google.com/chromebook/answer/9145439?">Chromebooks with Linux enabled</a>, please use the following before
installing:</p>
<pre><code class="language-shell">sudo apt install libxcb-xinerama0 libxcb-cursor0 libnss3
</code></pre>
<p>If Anki fails to start after installing, you may be <a href="platform/linux/./missing-libraries.html">missing other libraries</a>.</p>
<p>If you’re on Ubuntu 24.04 and Anki won’t start, please see <a href="https://forums.ankiweb.net/t/issues-running-on-ubuntu-24-04/40974">this thread</a>.</p>
<p>Anki’s build system only supports glibc, so musl-based distros are not currently supported.</p>
<h2 id="installing-2"><a class="header" href="#installing-2">Installing</a></h2>
<p>To install Anki:</p>
<ol>
<li>Download Anki from <a href="https://apps.ankiweb.net">https://apps.ankiweb.net</a> to your Downloads folder.</li>
<li>If zstd is not already installed on your system, you’ll need to install it (e.g <code>sudo apt install zstd</code>).</li>
<li>Open a terminal and run the following commands, replacing the filename as appropriate.</li>
</ol>
<pre><code class="language-shell">tar xaf Downloads/anki-2XXX-linux-qt6.tar.zst
cd anki-2XXX-linux-qt6
sudo ./install.sh
</code></pre>
<p>On some Linux systems, you may need to use <code>tar xaf --use-compress-program=unzstd</code>.</p>
<ol start="4">
<li>You can then start Anki by typing <code>anki</code> and hitting <kbd>Enter</kbd>. If you encounter
any issues, please see the links on the left.</li>
</ol>
<h2 id="upgrading-2"><a class="header" href="#upgrading-2">Upgrading</a></h2>
<p>If you were running Anki from a .deb/.rpm/etc in the past, please make
sure to remove the system version before installing the package
provided here.</p>
<p>If you’re upgrading from a previous package, simply repeat the
installation steps to upgrade to the latest version. Your user data
will be preserved.</p>
<p>If you wish to downgrade to a previous version, please make sure you
<a href="http://changes.ankiweb.net">downgrade first</a>.</p>
<h2 id="add-on-compatibility-2"><a class="header" href="#add-on-compatibility-2">Add-on Compatibility</a></h2>
<p>Some add-ons may not always work with the latest Anki release. If you upgrade to
the latest Anki version and find an add-on you cannot live without stops working,
you can download older Anki versions from the <a href="https://github.com/ankitects/anki/releases">releases page</a>.</p>
<h2 id="system-qt-versions"><a class="header" href="#system-qt-versions">System Qt versions</a></h2>
<p>Anki’s launcher uses the official PyQt builds by default. This makes it easier to
install Anki on distros that don’t have the relevant Python/Qt versions, but means that
you may not have access certain Qt features provided by your Linux distro, such as certain
Qt themes, support for the FCITX input method, etc.</p>
<p>If your Linux distro provides up-to-date Anki packages, you may find using them easiest.</p>
<p>If it doesn’t, advanced users may wish to combine Anki’s launcher with their system’s Qt version.
To do this, your system needs to have a Python version Anki supports (soon to be 3.11+),
and suitable PyQt libraries (6.2+).</p>
<p>WARNING: This is an experimental feature, and your system’s Qt may fix some bugs while
introducing others.</p>
<ol>
<li>
<p>Install Python and the relevant PyQt packages. On Ubuntu:</p>
<blockquote>
<p>sudo apt install python3-pyqt6.qtwebengine</p>
</blockquote>
</li>
<li>
<p>If you previously used the launcher, <code>rm -rf ~/.local/share/AnkiProgramFiles</code>.</p>
</li>
<li>
<p>Untar the launcher, and cd to its folder.</p>
</li>
<li>
<p>Run <code>touch system_qt</code> to create a system_qt file in that folder.</p>
</li>
<li>
<p>Install Anki via ./anki or ./install.sh. In the list of installed packages,
you should not see any mention of PyQt6.</p>
</li>
</ol>
<h2 id="problems-5"><a class="header" href="#problems-5">Problems</a></h2>
<p>If you encounter any issues when installing or starting Anki, please see the
following pages:</p>
<ul>
<li><a href="platform/linux/missing-libraries.html">Missing Libraries</a></li>
<li><a href="platform/linux/display-issues.html">Display Issues</a></li>
<li><a href="platform/linux/blank-window.html">Blank Main Window</a></li>
<li><a href="platform/linux/distro-packages.html">Linux Distro Packages</a></li>
<li><a href="platform/linux/gtk-theme.html">Incorrect GTK Theme</a></li>
<li><a href="platform/linux/wayland.html">Wayland</a></li>
<li><a href="platform/linux/input-methods.html">Input Methods</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="missing-libraries"><a class="header" href="#missing-libraries">Missing Libraries</a></h1>
<p>If Anki fails to start, please run it from a terminal with <code>anki</code>. If it says a
library is missing, please install it and try again.</p>
<p>If it complains about no platform being available, please start Anki with the
following command line, which should reveal a missing library:</p>
<pre><code class="language-shell">QT_DEBUG_PLUGINS=1 anki
</code></pre>
<p>After installing the library with apt-get or similar, repeat the process. You
may need to do this a few times before all required libraries are installed.</p>
<div style="break-before: page; page-break-before: always;"></div><h2 id="display-issues-on-linux"><a class="header" href="#display-issues-on-linux">Display Issues on Linux</a></h2>
<p>Hardware acceleration defaults to on. If you experience blank screens
or display issues, you can try enabling software rendering.</p>
<h3 id="changing-the-driver-from-the-preferences-screen-2"><a class="header" href="#changing-the-driver-from-the-preferences-screen-2">Changing the Driver From the Preferences Screen</a></h3>
<p>In Anki 23.10+, you can change the graphics driver from preferences screen by
navigating to <strong>Tools → Preferences</strong> and then selecting the driver from the
dropdown menu.</p>
<h3 id="changing-the-driver-from-the-terminal"><a class="header" href="#changing-the-driver-from-the-terminal">Changing the Driver From the Terminal</a></h3>
<pre><code>echo software &gt; ~/.local/share/Anki2/gldriver6
</code></pre>
<p>If you wish to switch back to the default, change <code>software</code> to <code>auto</code>, or
remove that file.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="blank-main-window"><a class="header" href="#blank-main-window">Blank Main Window</a></h1>
<p>Some Linux distros have recently updated glibc. Recent versions break the web toolkit that Anki is built on, causing Anki’s main window to appear blank.</p>
<p>There are two ways to work around this:</p>
<ol>
<li>Install the latest Qt6 version of Anki, which uses an updated toolkit:</li>
</ol>
<p><a href="https://apps.ankiweb.net">https://apps.ankiweb.net</a></p>
<ol start="2">
<li>Use one of the workarounds posted on the following threads:</li>
</ol>
<ul>
<li><a href="https://forums.ankiweb.net/t/another-blank-main-window-solution-for-linux/32835">https://forums.ankiweb.net/t/another-blank-main-window-solution-for-linux/32835</a></li>
<li><a href="https://forums.ankiweb.net/t/please-use-file-import-popup-on-startup/14695">https://forums.ankiweb.net/t/please-use-file-import-popup-on-startup/14695</a></li>
<li><a href="https://forums.ankiweb.net/t/setting-disable-seccomp-filter-sandbox-by-default-on-linux/13765">https://forums.ankiweb.net/t/setting-disable-seccomp-filter-sandbox-by-default-on-linux/13765</a></li>
<li><a href="https://forums.ankiweb.net/t/fedora-35-and-anki-2-1-47-updates-with-blank-anki-window/13431/11">https://forums.ankiweb.net/t/fedora-35-and-anki-2-1-47-updates-with-blank-anki-window/13431/11</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="packages-distributed-by-linux-distributions"><a class="header" href="#packages-distributed-by-linux-distributions">Packages Distributed by Linux Distributions</a></h1>
<p>We have seen a lot of issues caused by the customized versions of Anki
distributed by Linux distributions:</p>
<ul>
<li>Anki depends on third-party libraries like Qt, and Linux distributions often
substitute different versions of those libraries, without testing the impact
of those changes.</li>
<li>Sometimes the version of Anki they distribute is years old, or is an
alpha/beta version not intended for stable release. Distributions will often
disable the built-in update check as well, to prevent you from being notified
of newer versions.</li>
</ul>
<p>Compiled builds of Anki are available on <a href="https://apps.ankiweb.net">https://apps.ankiweb.net</a>. Most of the
necessary libraries are included, and Anki has been tested to work with these
library versions. If you’re experiencing issues with your distro’s version, the
first thing you should try is switching to the latest packaged version we
provide.</p>
<p>You are welcome to continue using your distro’s version of Anki if you prefer,
but if you run into any issues, you will need to report them to your
distribution’s package maintainers.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="anki-not-picking-up-gtk-theme-on-gnomelinux"><a class="header" href="#anki-not-picking-up-gtk-theme-on-gnomelinux">Anki not picking up GTK theme on Gnome/Linux</a></h1>
<p>You can work around this issue by explicitly telling Anki what the GTK theme is. Run the following commands in a terminal:</p>
<pre><code class="language-shell">theme=$(gsettings get org.gnome.desktop.interface gtk-theme)
echo "gtk-theme-name=$theme" &gt;&gt; ~/.gtkrc-2.0
echo "export GTK2_RC_FILES=$HOME/.gtkrc-2.0" &gt;&gt; ~/.profile
</code></pre>
<p>Then log out and log back into your computer, and Anki should pick up the GTK theme.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wayland"><a class="header" href="#wayland">Wayland</a></h1>
<p>From Anki 2.1.48, you can force Anki to use Wayland by defining ANKI_WAYLAND=1
before starting Anki. Wayland may give you better rendering across multiple
displays, but it is currently off by default, due to the following issues:</p>
<ul>
<li>On some distros, windows are rendered without borders.</li>
<li>Bringing windows to the front is not possible, so for example, clicking on Add
to reveal an existing Add Cards window will not work.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="input-methods-on-linux"><a class="header" href="#input-methods-on-linux">Input Methods on Linux</a></h1>
<h2 id="fcitx"><a class="header" href="#fcitx">Fcitx</a></h2>
<p>The standard Anki build includes fcitx support, but it may not work on
all distributions. If you are unable to use fcitx, you may want to run
Anki from <a href="https://betas.ankiweb.net/#via-pypipip">Python wheels</a>
instead.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<ul>
<li><a href="getting-started.html#installing--upgrading">Installing &amp; Upgrading</a></li>
<li><a href="getting-started.html#videos">Videos</a></li>
<li><a href="getting-started.html#key-concepts">Key Concepts</a>
<ul>
<li><a href="getting-started.html#cards">Cards</a>
<ul>
<li><a href="getting-started.html#card-states">Card States</a></li>
</ul>
</li>
<li><a href="getting-started.html#decks">Decks</a></li>
<li><a href="getting-started.html#notes--fields">Notes &amp; Fields</a></li>
<li><a href="getting-started.html#card-types">Card Types</a></li>
<li><a href="getting-started.html#note-types">Note Types</a></li>
<li><a href="getting-started.html#collection">Collection</a></li>
</ul>
</li>
<li><a href="getting-started.html#shared-decks">Shared Decks</a></li>
</ul>
<h2 id="installing--upgrading"><a class="header" href="#installing--upgrading">Installing &amp; Upgrading</a></h2>
<p>The Anki ecosystem is made up of Anki, AnkiMobile, AnkiDroid, and AnkiWeb, all
of which are linked from our <a href="https://apps.ankiweb.net">official website</a>.</p>
<p>For instructions on how to install and upgrade Anki for your computer, please
read the links below:</p>
<ul>
<li><a href="./platform/windows/installing.html">Windows</a></li>
<li><a href="./platform/mac/installing.html">Mac</a></li>
<li><a href="./platform/linux/installing.html">Linux</a></li>
</ul>
<h2 id="videos"><a class="header" href="#videos">Videos</a></h2>
<p>For a quick way to dive into Anki, have a look at these intro
videos. Some were made with a previous Anki version, but the concepts
are the same.</p>
<ul>
<li>
<p><a href="http://www.youtube.com/watch?v=QS2G-k2hQyg&amp;yt:cc=on">Shared Decks and Review Basics</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=YkiM4DPzSVc&amp;list=PLGgmaKOIHykFoomqkBJAyGiDQ2kyiuTao&amp;yt:cc=on">Syncing</a></p>
</li>
<li>
<p><a href="http://www.youtube.com/watch?v=DnbKwHEQ1mA&amp;yt:cc=on">Switching Card Order</a></p>
</li>
<li>
<p><a href="http://www.youtube.com/watch?v=F1j1Zx0mXME&amp;yt:cc=on">Styling Cards</a></p>
</li>
<li>
<p><a href="http://www.youtube.com/watch?v=5tYObQ3ocrw&amp;yt:cc=on">Typing in the Answer</a></p>
</li>
</ul>
<h2 id="key-concepts"><a class="header" href="#key-concepts">Key Concepts</a></h2>
<h3 id="cards"><a class="header" href="#cards">Cards</a></h3>
<p>A question and answer pair is called a <em>card</em>. It’s similar to a paper
flashcard with a question on the front and answer on the back. However, in
Anki, a card doesn’t look like a physical card, and when you
show the answer the question remains visible by default. For example, if
you’re studying basic chemistry, you might see a question like:</p>
<pre><code>Q: Chemical symbol for oxygen?
</code></pre>
<p>After deciding the answer is O, you click the
“Show Answer” button, and Anki shows you:</p>
<pre><code>Q: Chemical symbol for oxygen?
A: O
</code></pre>
<p>After confirming that you are correct, you tell Anki how well you
remembered the answer, and Anki will choose when to show you the card again. For example, Anki might decide to show you the card again in 3 days. In this case, we say the card now has a 3 day interval.</p>
<h4 id="card-states"><a class="header" href="#card-states">Card States</a></h4>
<div id="types-of-cards" />
<ul>
<li>
<p><strong>New:</strong> Cards that you have downloaded or created yourself, but have never studied before.</p>
</li>
<li>
<p><strong>Learning:</strong> Cards that were seen for the first time recently, and are still being learned.</p>
</li>
<li>
<p><strong>Review:</strong> Cards that you have finished learning. These cards will be shown again after their delay (interval) has elapsed.
There are two types of review cards:</p>
<ul>
<li><strong>Young:</strong> A young card is one that has an interval of less than 21 days.</li>
<li><strong>Mature:</strong> A mature card is one that has an interval of 21 days or greater.</li>
</ul>
</li>
<li>
<p><strong>Relearn:</strong> Cards that you forgot in the review stage. These cards are returned to the relearning state to be learned again.</p>
</li>
</ul>
<h3 id="decks"><a class="header" href="#decks">Decks</a></h3>
<p>A <em>deck</em> is a group of cards. You can place cards in different decks to
study parts of your card collection instead of studying everything at
once. Each deck can have different settings, such as how many new cards
to show each day, or how long to wait until cards are shown again.</p>
<p>Decks can contain other decks, which allows you to organize decks into a
tree. Anki uses double colons (“::”) to show different levels within the deck tree. For example, a deck called
“Chinese::Hanzi” refers to a “Hanzi” deck, which is part of a “Chinese”
deck. If you select “Hanzi”, then only the Hanzi cards will be shown; if
you select “Chinese”, then all the Chinese cards will be shown, including the Hanzi cards.</p>
<p>To place decks within a tree, you can either name them with double colons between
each level, or drag and drop them within the deck list. Decks that have
been placed inside another deck are often called “subdecks”, and top-level decks are called “parent decks”.</p>
<p>Anki starts with a deck called “Default”; any cards which have somehow
become separated from other decks will go here. Anki will hide the
default deck if it contains no cards and you have added other decks.
Alternatively, you may rename this deck and use it for other cards.</p>
<p>Decks in the deck list are sorted alphabetically. This can result in
a surprising order if your deck names contain numbers. For example, “My Deck 10”
will come before “My Deck 9”, as 1 comes before 9. If you want “My deck 9” to appear earlier, you can rename it to “My deck 09”, which appears before “My deck 10”.</p>
<p>Decks are best used to hold broad categories of cards, rather than
specific topics such as “food verbs” or “lesson 1”. For more information about
this, please see the <a href="editing.html#using-decks-appropriately">using decks appropriately</a> section.</p>
<p>For information on how the order of decks affects the order cards are studied in,
please see the <a href="studying.html#display-order">display order</a> section.</p>
<h3 id="notes--fields"><a class="header" href="#notes--fields">Notes &amp; Fields</a></h3>
<p>When making flashcards, it’s often desirable to make more than one card
that relates to the same information. For example, if you’re learning
French, and you learn that the word <em>bonjour</em> means hello, you may
wish to create one card that shows you “bonjour” and asks you to
remember “hello”, and another card that shows you “hello” and asks you
to remember “bonjour”. One card is testing your ability to recognize the
French word, and the other card is testing your ability to produce it.</p>
<p>When using paper flashcards, your only option in this case is to write
out the information twice, once for each card. Some flashcard
programs make life easier by providing a feature to flip the front and
back sides. This is an improvement over the paper situation, but there
are two major downsides:</p>
<ul>
<li>
<p>Because such programs don’t track your performance of recognition
and production separately, cards will tend not to be shown to you at
the optimum time, meaning you forget more than you’d like, or you
study more than is necessary.</p>
</li>
<li>
<p>Reversing the question and answer only works when you want exactly
the same content on each side. This means it’s not possible to
display extra info on the back of each card for example.</p>
</li>
</ul>
<p>Anki solves these problems by allowing you to split the content of your
cards up into separate pieces of information. You can then tell Anki
which pieces of information you want on each card, and Anki takes care of creating the cards for you, and updating them if you make any
edits in the future.</p>
<p>Imagine we want to study French vocabulary, and we want to include a textbook
page number on the back of each card. We want our cards to look like
this:</p>
<pre><code>Q: Bonjour
A: Hello
   Page #12
</code></pre>
<p>And this:</p>
<pre><code>Q: Hello
A: Bonjour
   Page #12
</code></pre>
<p>In both cards, we have the same three related pieces of information: a French
word, an English meaning, and a page number. If we put them together,
they’d look like this:</p>
<pre><code>French: Bonjour
English: Hello
Page: 12
</code></pre>
<p>In Anki, this collection of related information is called a <em>note</em> and each piece of information is contained in a <em>field</em>. In this example, the note
has three fields: “French”, “English”, and “Page”.</p>
<p>To add and edit fields, click the “Fields…​” button while adding or
editing notes. For more information on fields, please see the
<a href="editing.html#customizing-fields">Customizing Fields</a> section.</p>
<h3 id="card-types"><a class="header" href="#card-types">Card Types</a></h3>
<p>In order for Anki to create cards based on our notes, we need to give it
a blueprint that says which fields should be displayed on the front or
back of each card. This blueprint is called a <em>card type</em>. Each type of
note can have one or more card types; when you add a note, Anki will
create one card for each card type.</p>
<p>All card types have two <em>templates</em>, one for the question and one for the
answer. In the previous French example, we wanted the back of our recognition card to
look like this:</p>
<pre><code>Q: Bonjour
A: Hello
   Page #12
</code></pre>
<p>To do this, we can set the answer template to:</p>
<pre><code>Q: {{French}}
A: {{English}}&lt;br&gt;
   Page #{{Page}}
</code></pre>
<p>In card templates, field names are wrapped in double curly brackets, like <code>{{French}}</code> or <code>{{English}}</code>. Anki replaces those with the actual text the fields contain. This is called a <a href="templates/fields.html">“Field replacement”</a>. Text not wrapped in double curly brackets appears the same on each card. For example, we won’t need to add “Page #” on every note because the template will add it automatically to every card. The <code>&lt;br&gt;</code> tag is
a special code that tells Anki to move to the next line. For details, see the <a href="templates/intro.html">templates</a> section.</p>
<p>The production card’s templates will also work in a similar way:</p>
<pre><code>Q: {{English}}
A: {{French}}&lt;br&gt;
   Page #{{Page}}
</code></pre>
<p>After a card type has been created, every time you add a new note, a card
will be created based on that card type. Card types make it easy to keep
the formatting of your cards consistent and can greatly reduce the
amount of effort involved in adding information. They also mean Anki can
ensure related cards don’t appear too close to each other, and they
allow you to fix a typing mistake or factual error once and have all the
related cards update at once.</p>
<p>To add and edit card types, click the “Cards…​” button while adding or
editing notes. For more information on card types, please see the <a href="templates/intro.html">Cards and Templates</a> section.</p>
<h3 id="note-types"><a class="header" href="#note-types">Note Types</a></h3>
<p>Anki allows you to create different types of notes for different
material. Each type of note has its own set of fields and card types.
It’s a good idea to create a separate note type for each broad topic
you’re studying. In the previous French example, we might create a note
type called “French” for that. If we wanted to learn capital cities, we
could create a note type for that as well, with fields such as
“Country” and “Capital City”.</p>
<p>Anki comes with some standard
note types included. These note types are provided to make Anki easier for
new users, but in the long run it’s recommended you create your own note
types specifically for the content you are learning. The standard note types are:</p>
<ul>
<li>
<p><strong>Basic</strong><br />
Has “Front” and “Back” fields, and will create one card. Text you enter in
“Front” will appear on the front of the card, and text you enter in “Back”
will appear on the back of the card.</p>
</li>
<li>
<p><strong>Basic (and reversed card)</strong><br />
Like “Basic”, but creates two cards for the text you enter:
front→back and back→front.</p>
</li>
<li>
<p><strong>Basic (optional reversed card)</strong><br />
Like “Basic”, but has a third field called “Add Reverse”. If you enter any text into
that field, a reversed card (back→front) will also be created. For details, see the <a href="templates/intro.html">Cards and Templates</a> section.</p>
</li>
<li>
<p><strong>Basic (type in the answer)</strong><br />
This is essentially “Basic”, with an extra text box on the front where you
can type your answer in. When you reveal the back, Anki will show you any differences between your input and the actual answer. For details, see the
<a href="templates/fields.html#checking-your-answer">Checking Your Answer</a> section.</p>
</li>
<li>
<p><strong>Cloze</strong><br />
A note type that allows you to select text and turn it into a cloze
deletion (e.g. “Humans landed on the moon in […​]” → “Humans landed on the
moon in 1969”). For details, see the <a href="editing.html#cloze-deletion">cloze deletion</a> section.</p>
</li>
<li>
<p><strong>Image Occlusion</strong><br />
Like the cloze note type, but it works with images instead of text,
which is especially useful when studying material that heavily relies on images,
such as anatomy and geography. For details, please see the <a href="editing.html#image-occlusion">Image Occlusion</a>
section of the manual.</p>
</li>
</ul>
<p>To add your own note types and modify existing ones, you can use Tools →
Manage Note Types from the main Anki window.</p>
<p>Notes and note types are common to your whole collection rather than
limited to an individual deck. This means you can use different
note types in a single deck, or have cards generated from the
same note put into different decks. When you add notes using the
Add window, you can select what note type to use and what deck to use,
and these choices are completely independent of each other. You can also
<a href="browsing.html#notes">change the note type of notes</a> after you’ve already created them.</p>
<h3 id="collection"><a class="header" href="#collection">Collection</a></h3>
<p>Your <em>collection</em> is all the material stored in Anki: your cards,
notes, decks, note types, deck options, and so on.</p>
<h2 id="shared-decks"><a class="header" href="#shared-decks">Shared Decks</a></h2>
<p>You can watch a video about <a href="http://www.youtube.com/watch?v=QS2G-k2hQyg&amp;yt:cc=on">Shared Decks and Review Basics</a> on YouTube.</p>
<p>The easiest way to get started with Anki is to download a deck of cards
someone else has shared:</p>
<ol>
<li>
<p>Click the “Get Shared” button at the bottom of the deck list.</p>
</li>
<li>
<p>When you’ve found a deck you’re interested in, click the “Download”
button to download a deck package.</p>
</li>
<li>
<p>Double-click the downloaded package to import it into Anki, or go to
File → Import.</p>
</li>
</ol>
<p>Note: It’s not currently possible to add shared decks
directly to your AnkiWeb account. You need to first import them to the
desktop app, AnkiMobile, or AnkiDroid, then <a href="./syncing.html">synchronize</a> to upload the decks to AnkiWeb.</p>
<p>Creating your own deck is the most effective way to learn a complex
subject. Subjects like languages and the sciences can’t be understood
simply by memorizing facts — you need explanation and context to
learn them effectively. Furthermore, inputting the information yourself
forces you to decide what the key points are, leading to a better
understanding.</p>
<p>If you are a language learner, you may be tempted to download a long
list of words and their translations, but this won’t teach you a
language any more than memorizing scientific equations will teach you
astrophysics. To learn properly, you might need textbooks, teachers, or
exposure to real-world sentences.</p>
<pre><code>Do not learn if you do not understand.
--SuperMemo
</code></pre>
<p>Most shared decks are created by people who are learning material
outside Anki, such as from textbooks, classes, TV, etc. They select the
interesting points from what they learn and put them into Anki. They
might not make any effort to add background information or explanations to the
cards, because they already understand the material. So when someone
else downloads their deck and tries to use it, they might find it very
difficult as the background information and explanations are missing.</p>
<p>That is not to say shared decks are useless. If you’re studying textbook ABC and
someone has shared a deck of ideas from ABC, that’s a great way to save
some time. And for simple subjects that are basically a list of facts,
such as capital city names or country flags, you probably don’t need any
external material. However, for complex subjects, shared decks should be used as a <em>supplement</em> to external material, not as a <em>replacement</em> for it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-help-1"><a class="header" href="#getting-help-1">Getting help</a></h1>
<h2 id="asking-good-questions"><a class="header" href="#asking-good-questions">Asking good questions</a></h2>
<p>With the exception of AnkiMobile, Anki and its support are provided free of
charge, by people who generously volunteer their time. Please bear this in mind
when posting - if you are rude and demanding, or have made no effort to solve
the problem on your own, people are less likely to want to help you.</p>
<p>Please start by trying to resolve the issue on your own:</p>
<ul>
<li>Read the <a href="./getting-started.html">getting started</a> section
of the manual, and check out the intro videos.</li>
<li>If you’ve encountered a bug, please follow <a href="./troubleshooting.html">these steps</a>.</li>
<li>Use the search button on this page to search frequently asked questions.</li>
<li>Use the search button in the manual.</li>
<li>Use the search button on the forums.</li>
<li>Google the issue.</li>
</ul>
<p>If you have tried the above and are still stuck, it’s time to ask for help.
When writing a post, please explain the problem you are having clearly, and in detail.</p>
<p>Please avoid vague questions like:</p>
<blockquote>
<p>“My Anki doesn’t work, what should I do?”</p>
</blockquote>
<p>Instead, please provide as much detail as you can. For example:</p>
<blockquote>
<p>“When I double-click on the Anki icon, an error message pops up. I tried
searching for the error on Google, but couldn’t find anything useful. I have
copied and pasted the error message to the bottom of my post. I followed the
steps on the “When problems occur” page, but the error message does not go
away. What should I do?“</p>
</blockquote>
<p>This is a much better question. It tells us:</p>
<ul>
<li>What you have tried.</li>
<li>What steps you are taking when the problem happens.</li>
<li>What problems/errors you are getting when things go wrong.</li>
</ul>
<p>Knowing these things makes it much easier to answer your question.</p>
<p>The user forums use a different login to AnkiWeb, so please create an
account there if it’s your first time.</p>
<h2 id="anki-desktop-the-computer-version-and-ankiweb"><a class="header" href="#anki-desktop-the-computer-version-and-ankiweb">Anki Desktop (the computer version) and AnkiWeb</a></h2>
<p>After reading the above section, please post on the
<a href="https://forums.ankiweb.net">user forums</a> for assistance.</p>
<p>The user forums use a different login to AnkiWeb, so please create an
account there if it’s your first time.</p>
<h2 id="ankidroid-android-devices"><a class="header" href="#ankidroid-android-devices">AnkiDroid (Android devices)</a></h2>
<p>Please see <a href="https://docs.ankidroid.org/help.html">AnkiDroid’s support page</a>.</p>
<h2 id="ankimobile-iphoneipad"><a class="header" href="#ankimobile-iphoneipad">AnkiMobile (iPhone/iPad)</a></h2>
<p>Please see <a href="https://docs.ankimobile.net/support.html">AnkiMobile’s support page</a>.</p>
<h2 id="private-questions"><a class="header" href="#private-questions">Private questions</a></h2>
<p>For security reports and business enquiries, you can post a private ticket
<a href="https://anki.tenderapp.com/discussions/private">here</a>. If you have a question
about Anki, AnkiWeb or AnkiDroid, please use the <a href="https://forums.ankiweb.net">user forums</a>
instead.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="studying"><a class="header" href="#studying">Studying</a></h1>
<ul>
<li><a href="studying.html#decks">Decks</a></li>
<li><a href="studying.html#study-overview">Study Overview</a></li>
<li><a href="studying.html#questions">Questions</a></li>
<li><a href="studying.html#answer-buttons">Answer Buttons</a></li>
<li><a href="studying.html#fuzz-factor">Fuzz Factor</a></li>
<li><a href="studying.html#editing-and-more">Editing and More</a></li>
<li><a href="studying.html#display-order">Display Order</a></li>
<li><a href="studying.html#siblings-and-burying">Siblings and Burying</a></li>
<li><a href="studying.html#keyboard-shortcuts">Keyboard Shortcuts</a></li>
<li><a href="studying.html#falling-behind">Falling Behind</a></li>
</ul>
<p>When you have found a deck you like or entered some notes in, it’s time
to start studying.</p>
<h2 id="decks-1"><a class="header" href="#decks-1">Decks</a></h2>
<p>Study in Anki is limited to the currently selected deck as well as any
subdecks it contains.</p>
<p>On the decks screen, your decks and subdecks will be displayed in a list. <a href="getting-started.html#card-states">New, Learn, and Due (To Review)</a>
cards for that day will be also displayed here.</p>
<p><img src="media/decks_screen.png" alt="Decks screen" /></p>
<p>When you click on a deck, it will become the “current deck”, and Anki
will change to the study screen. You can return to the deck list at any time by clicking on “Decks” at
the top of the main window. (You can also use the Study
Deck action in the menu to select a new deck from the keyboard, or you
can press the <kbd>S</kbd> key to study the currently selected deck.)</p>
<p>You can click the gears button to the right of a deck to rename or
delete the deck, change its <a href="deck-options.html">options</a>, or <a href="exporting.html">export</a> it.</p>
<h2 id="study-overview"><a class="header" href="#study-overview">Study Overview</a></h2>
<p>After clicking on a deck to study, you’ll see a screen that shows you
how many cards are due today. This is called the “deck overview” screen:</p>
<p><img src="media/study_overview.png" alt="Study overview" /></p>
<p>The cards are split into <a href="getting-started.html#card-states">three types</a>: New, Learning, and To Review.
If you have <a href="studying.html#siblings-and-burying">Bury siblings</a> activated in your deck options, you
may see how many cards will be buried in grey:</p>
<p><img src="media/study_overview_buried_cards.png" alt="Study overview (Buried Cards)" /></p>
<p>To start a study session, click the <strong>Study Now</strong> button. Anki will
proceed to show you cards until the cards to be shown for the day have
run out.</p>
<p>While studying, you can return to the overview by pressing the <kbd>S</kbd> key
on your keyboard.</p>
<h2 id="questions"><a class="header" href="#questions">Questions</a></h2>
<p>When a card is shown, only the question is shown at first. After
thinking about the answer, either click the <strong>Show Answer</strong> button, or
press the <kbd>Space</kbd>. The answer will then be shown. It’s okay if it takes
you a little while to recall the answer, but as a general rule if you
can’t answer within about 10 seconds, it’s probably better to move on
and show the answer than keep struggling to remember.</p>
<h2 id="answer-buttons"><a class="header" href="#answer-buttons">Answer Buttons</a></h2>
<p>After the answer is shown, compare the answer you thought of
with the answer that is shown and select any of the following buttons.</p>
<ul>
<li>
<p><strong>Again</strong>: Select this when your answer is incorrect or when you couldn’t recall the answer. If your answer is partially correct, you should be strict with yourself: if it counts as a fail in a real-life context outside of Anki, then it counts as a fail in Anki as well. You’ll typically use this button about 5-20% of the time.</p>
<p>Keyboard Shortcut: <kbd>1</kbd></p>
</li>
<li>
<p><strong>Hard</strong>: Select this button when your answer is correct, but you had doubts about it or it took a long time to recall.</p>
<p>Keyboard Shortcut: <kbd>2</kbd></p>
</li>
<li>
<p><strong>Good</strong>: Select this when your answer is correct, but it took some mental effort to recall it. When Anki is used properly, this should be the most commonly used button. You’ll typically use this button about 80-95% of the time.</p>
<p>Keyboard Shortcut: <kbd>3</kbd>, <kbd>Space</kbd>, <kbd>Enter</kbd></p>
</li>
<li>
<p><strong>Easy</strong>: Select this if your answer is correct and it took no mental effort to recall it.</p>
<p>Keyboard Shortcut: <kbd>4</kbd></p>
</li>
</ul>
<p>If you find it hard to use four answer buttons, you can also use only <strong>Again</strong> and <strong>Good</strong> buttons. Use <strong>Again</strong> for incorrect answers and use <strong>Good</strong> for correct answers.</p>
<p>Each answer button shows the next time a card will be reviewed again if you select that button. To learn about the settings that control the next review intervals, see the topics <a href="deck-options.html#learning-steps">Learning Steps</a>, <a href="deck-options.html#lapses">Lapses</a>, <a href="deck-options.html#fsrs">FSRS</a> and <a href="deck-options.html#advanced">Advanced</a> in the Deck Options section.</p>
<h2 id="fuzz-factor"><a class="header" href="#fuzz-factor">Fuzz Factor</a></h2>
<p>When you select an answer button on a review card, Anki also applies a small amount of random “fuzz”
to prevent cards that were introduced at the same time and given the same ratings
from sticking together and always coming up for review on the same day.</p>
<p>Learning cards are also given up to 5 minutes of extra delay so that they
don’t always appear in the same order, but answer buttons won’t reflect that. It
is not possible to turn this feature off.</p>
<h2 id="editing-and-more"><a class="header" href="#editing-and-more">Editing and More</a></h2>
<p>You can click the <strong>Edit</strong> button in the bottom left to edit the current
note. When you finish editing, you’ll be returned to study. The editing
screen works very similarly to the <a href="editing.html">add notes</a> screen.</p>
<p>At the bottom right of the study screen is a button labeled <strong>More</strong>.
This button provides some other operations you can do on the current
card or note:</p>
<ul>
<li>
<p><a href="editing.html#using-flags"><strong>Flag Card</strong></a>: Adds a colored marker to the card, or toggles it off. Flags will appear during
study, and you can search for flagged cards in the Browse screen. This is useful
when you want to take some action on the card at a later date, such as looking
up a word when you get home. If you’re using Anki 2.1.45+, you can also rename flags
from the <a href="browsing.html">browser</a>.</p>
</li>
<li>
<p><strong>Bury Card / Note</strong>: Hides a card or all of the note’s cards from review until the next day.
(If you want to unbury cards before then, you can click the “unbury”
button on the <a href="studying.html#study-overview">deck overview</a> screen.) This is useful if
you cannot answer the card at the moment or you want to come back to it
another time. Burying can also <a href="studying.html#siblings-and-burying">happen automatically</a> for
cards of the same note.</p>
</li>
<li>
<p><strong>Reset card</strong>: Moves the current card to <a href="browsing.html#cards">the end of the new queue</a>.</p>
<p>The “Restore original position” option allows you to reset the card back to its original position when you reset it.</p>
<p>The “Reset repetition and lapse count” option, if enabled, will set the review and failure counters
for the card back to zero. It does not remove the review history that is shown at the bottom of the
card info screen.</p>
</li>
<li>
<p><strong>Set Due Date</strong>: Puts cards in the review queue, and <a href="browsing.html#cards">makes them due on a certain date.</a></p>
</li>
<li>
<p><strong>Suspend Card / Note</strong>: Hides a card or all of the note’s cards from review until they are
manually unsuspended (by clicking the suspend button in the browser).
This is useful if you want to avoid reviewing the note for some time,
but don’t want to delete it.</p>
</li>
<li>
<p><strong>Options</strong>: Edit the <a href="deck-options.html">options</a> for the current deck.</p>
</li>
<li>
<p><strong>Card Info</strong>: Displays <a href="stats.html#card-info">statistical information</a> about the card.</p>
</li>
<li>
<p><strong>Previous Card Info</strong>: Displays <a href="stats.html#card-info">statistical information</a> about the previous card.</p>
</li>
<li>
<p><a href="editing.html#the-marked-tag"><strong>Mark Note</strong></a>: Adds a “marked” tag to the current note, so it can be easily found in the
browser. This is similar to flagging individual cards, but works with a tag
instead, so if the note has multiple cards, all cards will appear in a search
for the marked tag. Most users will want to use flags instead.</p>
</li>
<li>
<p><strong>Create Copy</strong>: Opens a <a href="browsing.html#finding-duplicates">duplicate</a> of the current
note in the editor, which can be slightly modified to easily obtain variations of your cards.
By default, the duplicate card will be created in the same deck as the original.</p>
</li>
<li>
<p><strong>Delete Note</strong>: Deletes the note and all of its cards.</p>
</li>
<li>
<p><strong>Replay Audio</strong>: If the card has audio on the front or back, play it again.</p>
</li>
<li>
<p><strong>Pause Audio</strong>: Pauses the audio if it is playing.</p>
</li>
<li>
<p><strong>Audio -5s / +5s</strong>: Jump backwards / forward 5 seconds in the currently playing audio.</p>
</li>
<li>
<p><strong>Record Own Voice</strong>: Record from your microphone for the purposes of checking your
pronunciation. This recording is temporary and will go away when you
move to the next card. If you want to add audio to a card permanently,
you can do that in the edit window.</p>
</li>
<li>
<p><strong>Replay Own Voice</strong>: Replay the previous recording of your voice (presumably after showing
the answer).</p>
</li>
</ul>
<h2 id="display-order"><a class="header" href="#display-order">Display Order</a></h2>
<p>Studying will show cards from the selected deck and any decks it
contains. Thus, if you select your “French” deck, the subdecks
“French::Vocab” and “French::My Textbook::Lesson 1” will be shown as
well.</p>
<p>By default, for new cards, Anki gathers cards from the decks in
alphabetical order. So in the above example, you would get cards first
from “French”, then “My Textbook”, and finally “Vocab”. You can use this
to control the order cards appear in, placing high priority cards in
decks that appear higher in the list. When computers sort text
alphabetically, the “-” character comes before alphabetical characters,
and “~” comes after them. So you could call the deck “-Vocab” to make
them appear first, and you could call the other deck “~My Textbook” to
force it to appear after everything else.</p>
<p>New cards and reviews are gathered separately, and Anki won’t wait until
both queues are empty before moving on to the next deck, so it’s
possible you’ll be exposed to new cards from one deck while seeing
reviews from another deck, or vice versa. If you don’t want this, click
directly on the deck you want to study instead of one of the parent
decks.</p>
<p>Since cards in learning are somewhat time-critical, they are fetched
from all decks at once and shown in the order they are due.</p>
<p>To control the order cards appear in, see <a href="./deck-options.html#display-order">Display Order</a>. For more fine-grained ordering of new cards, you
can change the order in the <a href="browsing.html">browser</a>.</p>
<h2 id="siblings-and-burying"><a class="header" href="#siblings-and-burying">Siblings and Burying</a></h2>
<p>Recall from <a href="getting-started.html">the basics</a> that Anki can create more than one
card for each thing you input, such as a front→back card and a
back→front card, or two different cloze deletions from the same text.
These related cards are called “siblings”.</p>
<p>When you answer a card that has siblings, Anki can prevent the card’s
siblings from being shown in the same session by automatically “burying”
them. Buried cards are hidden from review until the clock rolls over to
a new day or you manually unbury them using the “Unbury” button that’s
visible at the bottom of the <a href="studying.html#study-overview">deck overview</a> screen. Anki
will bury siblings even if the siblings are not in the same deck (for
instance, if you use the <a href="templates/intro.html">deck override</a> feature).</p>
<p>You can enable burying from the <a href="deck-options.html">deck options</a> screen -
there are separate settings for new cards and reviews.</p>
<p>Anki will only bury siblings that are new or review cards. It will not
hide cards in learning, as time is of the essence for those cards. On
the other hand, when you study a learning card, any new/review siblings
will be buried.</p>
<p>Also note that a card cannot be buried and suspended at the same time. Suspending a
buried card will unbury it. Suspended cards can’t be buried.</p>
<h2 id="keyboard-shortcuts"><a class="header" href="#keyboard-shortcuts">Keyboard Shortcuts</a></h2>
<p>Most of the common operations in Anki have keyboard shortcuts. Most of
them are discoverable in the interface: menu items list their shortcuts
next to them, and hovering the mouse cursor over a button will generally
show its shortcut in a tooltip.</p>
<p>When studying, either <kbd>Space</kbd> or <kbd>Enter</kbd> will show the answer. When the
answer is shown, you can use <kbd>Space</kbd> or <kbd>Enter</kbd> to select the Good button.
You can use the <kbd>1</kbd>-<kbd>4</kbd> keys to select a specific ease button. Many people
find it convenient to answer most cards with <kbd>Space</kbd> and keep one finger
on <kbd>1</kbd> for when they forget.</p>
<p>The “Study Deck” item in the Tools menu allows you to quickly switch to
a deck with the keyboard. You can trigger it with the <kbd>/</kbd> key. When
opened, it will display all of your decks and show a filter area at the
top. As you type characters, Anki will display only decks matching the
characters you type. You can add a space to separate multiple search
terms, and Anki will show only decks that match all the terms. So “ja 1”
or “on1 ja” would both match a deck called “Japanese::Lesson1”.</p>
<h2 id="falling-behind"><a class="header" href="#falling-behind">Falling Behind</a></h2>
<p>When you fall behind in your reviews, Anki by default prioritizes cards that have
been waiting the longest. This ordering ensures that no cards will
be left waiting indefinitely, but it means that if you introduce new
cards, their reviews won’t appear until you’ve gotten through your
backlog.</p>
<p>When you answer cards that have been waiting for a while, Anki factors
in that delay when determining the next time a card should be shown. This means if you are returning to Anki after a long break, you don’t have to start anew and can just start back from where you left.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="addingediting"><a class="header" href="#addingediting">Adding/Editing</a></h1>
<ul>
<li><a href="editing.html#adding-cards-and-notes">Adding Cards and Notes</a>
<ul>
<li><a href="editing.html#duplicate-check">Duplicate Check</a></li>
<li><a href="editing.html#effective-learning">Effective Learning</a></li>
</ul>
</li>
<li><a href="editing.html#adding-a-note-type">Adding a Note Type</a></li>
<li><a href="editing.html#customizing-fields">Customizing Fields</a></li>
<li><a href="editing.html#changing-deck--note-type">Changing Deck / Note Type</a></li>
<li><a href="editing.html#organizing-content">Organizing Content</a>
<ul>
<li><a href="editing.html#using-decks-appropriately">Using Decks Appropriately</a></li>
<li><a href="editing.html#using-tags">Using Tags</a></li>
<li><a href="editing.html#using-flags">Using Flags</a></li>
<li><a href="editing.html#the-marked-tag">The “Marked” Tag</a></li>
<li><a href="editing.html#using-fields">Using Fields</a></li>
<li><a href="editing.html#custom-study-and-filtered-decks">Custom Study and Filtered Decks</a></li>
</ul>
</li>
<li><a href="editing.html#editing-features">Editing Features</a></li>
<li><a href="editing.html#cloze-deletion">Cloze Deletion</a></li>
<li><a href="editing.html#image-occlusion">Image Occlusion</a>
<ul>
<li><a href="editing.html#adding-an-image">Adding an image</a></li>
<li><a href="editing.html#adding-io-cards">Adding IO cards</a></li>
</ul>
</li>
<li><a href="editing.html#editing-io-notes">Editing IO notes</a></li>
<li><a href="editing.html#inputting-non-latin-characters-and-accents">Inputting Non-Latin Characters and Accents</a>
<ul>
<li><a href="editing.html#adding-international-keyboard-layouts">Adding international keyboard layouts</a></li>
<li><a href="editing.html#adding-keyboard-layouts-for-specific-languages">Adding keyboard layouts for specific languages</a></li>
<li><a href="editing.html#right-to-left-languages">Right-to-left Languages</a></li>
<li><a href="editing.html#limitations">Limitations</a></li>
</ul>
</li>
<li><a href="editing.html#unicode-normalization">Unicode Normalization</a></li>
</ul>
<h2 id="adding-cards-and-notes"><a class="header" href="#adding-cards-and-notes">Adding Cards and Notes</a></h2>
<p>Recall from the <a href="getting-started.html">basics</a> that in Anki we add notes rather than
cards, and Anki creates cards for us. Click <strong>Add</strong> in the <a href="studying.html#decks">main window</a>,
and the Add Notes window will appear.</p>
<p><img src="media/add_screen.png" alt="Add Screen" /></p>
<p>The top left of the window shows us the current <a href="getting-started.html#note-types">note type</a>. If it does
not say “Basic,” then you may have added some note types when you
downloaded a shared deck. The text below assumes that “Basic” is
selected.</p>
<p>The top right of the window shows us the <a href="getting-started.html#decks">deck</a> cards will be added to. If
you would like to add cards to a new deck, you can click on the deck name
button and then click <strong>Add</strong>.</p>
<p>Below the note type, you’ll see some buttons, and an area labelled
“Front” and “Back”. Front and Back are called <a href="getting-started.html#notes--fields">fields</a>, and you can add,
remove, and rename them by clicking the “Fields…​” button above.</p>
<p>Below the fields is another area labelled “<strong>tags</strong>”. Tags are labels that
you can attach to your notes, to make organizing and finding notes
easier. You can leave the tags blank if you wish, or add one or more of
them. Tags are separated by a space. If the tags area says</p>
<pre><code>vocab check_with_tutor
</code></pre>
<p>…​then the note you add would have two tags.</p>
<p>When you have entered text into the front and back, you can click the
“Add” button or press <kbd>Ctrl</kbd>+<kbd>Enter</kbd> (<kbd>Command</kbd>+<kbd>Enter</kbd> on a Mac) to add the
note to your collection. When you do so, a card will be created as well,
and placed into the deck you chose. If you would like to edit a card you
added, you can click the history button to search for a recently added
card in the <a href="browsing.html">browser</a>.</p>
<p>For more information on the buttons between the note type and the
fields, please see the <a href="editing.html">editor</a> section.</p>
<h3 id="duplicate-check"><a class="header" href="#duplicate-check">Duplicate Check</a></h3>
<p>Anki checks the first field for uniqueness, so it will warn you if you
enter two cards with a Front field of “apple” (for example). The
uniqueness check is limited to the current note type, so if you’re
studying multiple languages, two cards with the same Front would not be
listed as duplicates as long as you had a different note type for each
language.</p>
<p>Anki does not check for duplicates in other fields automatically for
efficiency reasons, but the browser has a “Find Duplicates” function,
which you can run periodically.</p>
<h3 id="effective-learning"><a class="header" href="#effective-learning">Effective Learning</a></h3>
<p>Different people like to review in different ways, but there are some
general concepts to keep in mind. An excellent introduction is <a href="https://super-memory.com/articles/20rules.htm">this article</a> on the SuperMemo
site. In particular:</p>
<ul>
<li>
<p><strong>Keep it simple</strong>: The shorter your cards, the easier they are to
review. You may be tempted to include lots of information “just in
case,” but reviews will quickly become painful.</p>
</li>
<li>
<p><strong>Don’t memorize without understanding</strong>: If you are studying a
language, try to avoid large lists of words. The best way to learn
languages is in context, which means seeing those words used in a
sentence. Likewise, imagine you’re studying a computer course. If
you attempt to memorize the mountain of acronyms, you’ll find it
very difficult to make progress. But if you take the time to
understand the concepts behind the acronyms, learning the acronyms
will become a lot easier.</p>
</li>
</ul>
<h2 id="adding-a-note-type"><a class="header" href="#adding-a-note-type">Adding a Note Type</a></h2>
<p>While basic note types are sufficient for simple cards with only a word
or phrase on each side, as soon as you find yourself wanting to include
more than one piece of information on the front or back, it’s better to
split that information up into more fields.</p>
<p>You may find yourself thinking “but I only want one card, so why can’t I
just include the audio, a picture, a hint, and the translation in the
Front field?” If you’d prefer to do that, that’s fine. But the
disadvantage of that approach is that all the information is stuck
together. If you wanted to sort your cards by the hint, you wouldn’t be
able to do that as it is mixed in with the other content. You also
wouldn’t be able to do things such as moving the audio from the front to the
back, except by laboriously copying and pasting it for every note. By
keeping content in separate fields, you make it much easier to adjust
the layout of your cards in the future.</p>
<p>To create a new type of note, choose Tools → Manage Note Types from the
main Anki window. Then click “Add” to add a new type of note. You will now
see another screen that gives you a choice of note types to base the new
type on. “Add” means to base the newly created type on one that comes
with Anki. “Clone” means to base the newly created type on one that is
already in your collection. For instance, if you’d created a French
vocab type already, you might want to clone that when creating a German
vocab type.</p>
<p>After choosing OK, you will be asked to name the new type. The subject
material that you are studying is a good choice here – things like “Japanese”,
“Trivia”, and so on. Once you have chosen a name, close the Note Types
window, and you will return to the adding window.</p>
<h2 id="customizing-fields"><a class="header" href="#customizing-fields">Customizing Fields</a></h2>
<p>To customize fields, click the “Fields…​” button when adding or editing
a note, or while the note type is selected in the Manage Note Types
window.</p>
<p><img src="media/fields.png" alt="Fields" /></p>
<p>You can add, remove, or rename fields by clicking the appropriate
buttons.</p>
<p>To change the order in which the fields appear in this dialog
and the add notes dialog, you can use the reposition button, which asks
for the numerical position you want the field to have. So if you want to
change a field to be the new first field, enter “1”.</p>
<p>Alternatively you can also drag and drop the field names to re-order them. To do
that, use your mouse or finger to drag the field to the desired position. An indicator will
show you where the field will be moved to.</p>
<p>Do not use “Tags”, “Type”, “Deck”, “Card”, or “FrontSide” as field
names, as they are <a href="templates/fields.html#special-fields">special fields</a> and will not work
properly.</p>
<p>The options at the bottom of the screen allow you to edit various
properties of the fields to be used when adding and editing the cards.
This is <em>not</em> where you customize what appears on your cards when
reviewing; for that, please see <a href="templates/intro.html">templates</a>.</p>
<ul>
<li>
<p><strong>Editing Font</strong> allows you to customize the font and size used when
editing notes. This is useful if you want to make unimportant
information smaller, or increase the size of non-Latin characters which
are hard to read. The changes you make here do not affect how cards
appear when reviewing: to do that, please see the
<a href="templates/intro.html">templates</a> section. If you have enabled the “type in the
answer” function, however, the text you type will use the font size
defined here. (For information about how to change the actual font face
when typing the answer, please see the <a href="templates/fields.html#checking-your-answer">checking your answer</a> section.)</p>
</li>
<li>
<p><strong>Sort by this field…​</strong> tells Anki to show this field in the Sort Field
column of the browser. You can use this to sort cards by that field.
Only one field can be the sort field at once.</p>
</li>
<li>
<p><strong>Reverse text direction</strong> is useful if you are studying languages that
display text from right to left (RTL), such as Arabic or Hebrew. This
setting currently only controls editing; to make sure the text displays
correctly during review, you’ll need to adjust your
<a href="templates/styling.html#text-direction">template</a>.</p>
</li>
<li>
<p><strong>Use HTML editor by default</strong> is useful if you prefer to edit the fields
directly in HTML.</p>
</li>
<li>
<p><strong>Collapse by default</strong>. Fields can be collapsed/expanded.
The animation can be disabled in the <a href="preferences.html">preferences.</a></p>
</li>
<li>
<p><strong>Exclude from unqualified searches (slower)</strong> can be used if you want
the content of a certain field not to appear in unqualified <a href="searching.html#limiting-to-a-field">(not limited to a specific field)</a>
searches.</p>
</li>
</ul>
<p>After you have added fields, you will probably want to add them to the front
or back of your cards. For more information on that, please see the
<a href="templates/intro.html">templates</a> section.</p>
<h2 id="changing-deck--note-type"><a class="header" href="#changing-deck--note-type">Changing Deck / Note Type</a></h2>
<p>While adding, you can click on the top left button to change note type,
and the top right button to change deck. The window that opens up will
not only allow you to select a deck or note type, but also to add new
decks or manage your note types.</p>
<h2 id="organizing-content"><a class="header" href="#organizing-content">Organizing Content</a></h2>
<h3 id="using-decks-appropriately"><a class="header" href="#using-decks-appropriately">Using Decks Appropriately</a></h3>
<p><a href="getting-started.html#decks">Decks</a> are designed to divide your content up into
broad categories that you wish to study separately, such as English, Geography,
and so on. You may be tempted to create lots of little decks to keep your
content organized, such as “my geography book chapter 1”, or “food verbs”, but
this is not recommended, for the following reasons:</p>
<ul>
<li>
<p>Lots of little decks may mean you end up seeing cards in a
recognizable order. On older scheduler versions, new cards can only
be introduced in deck order. And if you were planning to click on each deck
in turn (which is slow), you will end up seeing all the “chapter 1” or
“food verb” reviews together. This makes it easier to answer the
cards, as you can guess them from the context, which leads to weaker
memories. When you need to recall the word or phrase outside Anki,
you won’t always have the luxury of being shown related content first!</p>
</li>
<li>
<p>While less of a problem than it was in earlier Anki versions,
adding hundreds of decks may cause slowdowns, and very large deck
trees with thousands of items can actually break the display of
the deck list in Anki versions before 2.1.50.</p>
</li>
</ul>
<h3 id="using-tags"><a class="header" href="#using-tags">Using Tags</a></h3>
<p>Instead of creating lots of little decks, it’s a better idea to use tags
and/or fields to classify your content. Tags are a useful way to boost
search results, find specific content, and keep your collection
organized.
There are many ways of using tags and flags effectively, and
thinking in advance about how you want to use them will help you decide
what will work best for you.</p>
<p>Some people prefer using decks and subdecks to keep their cards organized,
but using tags have a big advantage over decks for that: you can add several
tags to a single note, but a single card can only belong to one deck, which
makes tags a more powerful and flexible categorization system than
decks in most cases. You can also organize tags in trees <a href="getting-started.html#decks">in the same way as you can do for decks</a>.</p>
<p>For example, instead of creating a “food verbs” deck, you could add those
cards to your main language study deck, and tag the cards with “food” and
“verb”. Since each card can have multiple tags, you can do things like
<a href="searching.html#tags-decks-cards-and-notes">search</a> for all verbs, or all
food-related vocabulary, or all verbs that are related to food.</p>
<p>You can add tags from the Edit window and from the <a href="browsing.html">Browser</a>, and you can also add,
delete, rename, or organize tags there. Please note that
tags work at <a href="getting-started.html#notes--fields">note</a> level, which means that when you tag a card that has siblings,
all the siblings will be tagged as well. If you need to tag a single card,
but not its siblings, you should consider using flags instead.</p>
<h3 id="using-flags"><a class="header" href="#using-flags">Using Flags</a></h3>
<p>Flags are similar to tags, but they will appear during study in the review
window, showing a colored flag icon on the upper right area of the screen.
You can also search for flagged cards in the Browse screen, rename flags
from the browser and create filtered decks from flagged cards, but unlike tags,
a single card can have only one flag at a time. Another important difference
is that flags work at <a href="getting-started.html#cards">card</a> level, so flagging a card that has siblings
won’t have any effect on the card’s siblings.</p>
<p>You can flag / unflag cards directly while in review mode (by pressing
<kbd>CTRL</kbd> + <kbd>1-7</kbd> on Windows or <kbd>CMD</kbd> + <kbd>1-7</kbd> on Mac)
and from the <a href="browsing.html">Browser.</a></p>
<h3 id="the-marked-tag"><a class="header" href="#the-marked-tag">The “Marked” Tag</a></h3>
<p>Anki treats a tag called “marked” specially. There are options in the review
screen and browse screen to add and remove the “marked” tag. The study screen
will show a star when the current card’s note has that tag. And cards are
shown in a different color in the browse screen when their note is marked.</p>
<p>Note: Marking is mainly left around for compatibility with older Anki
versions; most users will want to use <a href="editing.html#using-flags">flags</a> instead.</p>
<h3 id="using-fields"><a class="header" href="#using-fields">Using Fields</a></h3>
<p>For those who like to stay very organized, you can add fields to your
notes to classify your content, such as “book”, “page”, and so on. Anki
supports searching in specific fields, which means you can do a search
for <code>"book:my book" page:63</code> and immediately find what you’re looking
for.</p>
<h3 id="custom-study-and-filtered-decks"><a class="header" href="#custom-study-and-filtered-decks">Custom Study and Filtered Decks</a></h3>
<p>Using <a href="filtered-decks.html">custom study and filtered deck</a> you can create
temporary decks out of search
terms. This allows you to review your content mixed together in a single
deck most of the time (for optimum memory), but also create temporary
decks when you need to focus on particular material, such as before a
test. The general rule is that if you always want to be able to study
some content separately, it should be in a normal deck; if you only
occasionally need to be able to study it separately (for a test, when
under a backlog, etc.), then filtered decks created from tags, flags,
marks or fields are better.</p>
<h2 id="editing-features"><a class="header" href="#editing-features">Editing Features</a></h2>
<p>The editor is shown when <a href="editing.html">adding notes</a>, <a href="studying.html#editing-and-more">editing a note</a> during reviews, or <a href="browsing.html">browsing</a>.</p>
<p><img src="media/editor_icons.png" alt="Editor icons" /></p>
<p>On the top left are two buttons, which open the <a href="editing.html#customizing-fields">fields</a> and
<a href="templates/intro.html">cards</a> windows.</p>
<p>On the right are buttons that control formatting. Bold, italic and
underline work like they do in a word processing program. The next two
buttons allow you to subscript or superscript text, which is useful for
chemical compounds like H<sub>2</sub>O or simple mathematical equations like
x<sup>2</sup>. Then, there are two buttons to allow you to change text colour.</p>
<p>The rubber eraser button clears any formatting in the currently selected text — including the colour
of the text, whether the selected text is bold, etc. The next three buttons allow creating lists, text alignment and text indent.</p>
<p>You can use the paper-clip button to select audio, images, and videos from
your computer’s hard drive and attach them to your notes. Alternatively, you
can copy the media onto your computer’s clipboard (for instance, by
right-clicking an image on the web and choosing “Copy Image”) and paste
it into the field that you want to place it in. For more information
about media, please see the <a href="media.html">media</a> section.</p>
<p>The microphone icon allows you to record from your computer’s microphone
and attach the recording to the note.</p>
<p>The Fx button shows shortcuts to add MathJax or
<a href="math.html">LaTeX</a> to your notes.</p>
<p>The […​] buttons are visible when a cloze note type is selected.
<img src="media/cloze_icons.png" alt="Cloze icons" /></p>
<p>The <code>&lt;/&gt;</code> button allows editing the underlying HTML of a field.
<img src="media/html_icon.png" alt="HTML icon" /></p>
<p>Anki 2.1.45+ supports adjusting sticky fields directly from the editing screen.
If you click on the pin icon on the right of a field, Anki will not clear out
the field’s content after a note is added. If you find yourself entering the
same content into multiple notes, you may find this useful. On previous Anki
versions, sticky fields were toggled from the Fields screen.</p>
<p><img src="media/Pin_icon.png" alt="Pin icon" /></p>
<p>Most of the buttons have shortcut keys. You can hover the mouse cursor
over a button to see its shortcut.</p>
<p>When pasting text, Anki will keep most formatting by default. If you
hold down the <kbd>Shift</kbd> key while pasting, Anki will strip most of the
formatting. Under Preferences, you can toggle “Paste without shift
key strips formatting” to modify the default behaviour.</p>
<h2 id="cloze-deletion"><a class="header" href="#cloze-deletion">Cloze Deletion</a></h2>
<p><em>Cloze deletion</em> is the process of hiding one or more words in a
sentence. For example, if you have the sentence:</p>
<pre><code>Canberra was founded in 1913.
</code></pre>
<p>…​and you create a cloze deletion on “1913”, then the sentence would
become:</p>
<pre><code>Canberra was founded in [...].
</code></pre>
<p>Sometimes sections that have been removed in this fashion are said to be
“occluded”.</p>
<p>For more information on why you might want to use cloze deletion, see
Rule 5 <a href="https://super-memory.com/articles/20rules.htm">here</a>.</p>
<p>Anki provides a special cloze deletion type of note, to make creating
clozes easy. To create a cloze deletion note, select the Cloze note
type, and type some text into the “Text” field. Then drag the mouse over
the text you want to hide to select it, and click the […​] button.
Anki will replace the text with:</p>
<pre><code>Canberra was founded in {{c1::1913}}.
</code></pre>
<p>The “c1” part means that you have created one cloze deletion on the
sentence. You can create more than one deletion if you’d like. For
example, if you select Canberra and click […​] again, the text will
now look like:</p>
<pre><code>{{c2::Canberra}} was founded in {{c1::1913}}.
</code></pre>
<p>When you add the above note, Anki will create two cards. The first card
will show:</p>
<pre><code>Canberra was founded in [...].
</code></pre>
<p>…​on the question, with the full sentence on the answer. The other card
will have the following on the question:</p>
<pre><code>[...] was founded in 1913.
</code></pre>
<p>You can also elide multiple sections on the same card. In the above
example, if you change c2 to c1, only one card would be created, with
both Canberra and 1913 hidden. If you hold down <kbd>Alt</kbd> (<kbd>Option</kbd> on a Mac)
while creating a cloze, Anki will automatically use the same number
instead of incrementing it.</p>
<p>Cloze deletions don’t need to fall on word boundaries, so if you select
“anberra” rather than “Canberra” in the above example, the question
would appear as “C[…​] was founded in 1913”, giving you a hint.</p>
<p>You can also give yourself hints that don’t match the text. If you
replace the original sentence with:</p>
<pre><code>Canberra::city was founded in 1913
</code></pre>
<p>…​and then press […​] after selecting “Canberra::city”, Anki will
treat the text after the two colons as a hint, changing the text into:</p>
<pre><code>{{c1::Canberra::city}} was founded in 1913
</code></pre>
<p>When the card comes up for review, it will appear as:</p>
<pre><code>[city] was founded in 1913.
</code></pre>
<p>For information on testing your ability to type in a cloze deletion
correctly, please see the section on <a href="templates/fields.html#checking-your-answer">typing answers</a>.</p>
<p>From version 2.1.56, nested cloze deletions are supported. For example, the following is valid:</p>
<pre><code>{{c1::Canberra was {{c2::founded}}}} in 1913
</code></pre>
<p>The inner cloze is entirely nested within the outer. There is no support for partial overlaps, such as:</p>
<pre><code>[...] founded in 1913 -&gt; Canberra was
Canberra [...] in 1913 -&gt; was founded
</code></pre>
<p>with the word “was” appearing in both deletions.</p>
<p>The current implementation can only handle a limited amount of nesting. In Anki 24.11, it is 3 levels.
In other versions, the limit is around 8, but Anki may become slow as you approach the limit. It is
not possible to extend the limit. If you use this feature, it is recommended you limit yourself to a
few levels of nesting.</p>
<p>Prior to version 2.1.56, if you need to create clozes from overlapping text, add another Text
field to your cloze, add it to the <a href="templates/intro.html">template</a>, and then when
creating notes, paste the text into two separate fields, like so:</p>
<pre><code>Text1 field: {{c1::Canberra was founded}} in 1913

Text2 field: {{c2::Canberra}} was founded in 1913
</code></pre>
<p>The default cloze note type has a second field called Extra, that is
shown on the answer side of each card. It can be used for adding some
usage notes or extra information.</p>
<p>The cloze note type is treated specially by Anki, and cannot be created
based on a regular note type. If you wish to customize it, please make
sure to clone the existing Cloze type instead of another type of note.
Things like formatting can be customized, but it is not possible to add
extra card templates to the cloze note type.</p>
<h2 id="image-occlusion"><a class="header" href="#image-occlusion">Image Occlusion</a></h2>
<p>Anki 23.10+ supports Image Occlusion cards natively. An Image
Occlusion (IO) note is a special case of cloze deletion based on images
instead of text, and allows you to create cards that hide some parts
of an image, testing your knowledge of that hidden information.</p>
<p><img src="media/io.jpg" alt="Image Occlusion" /></p>
<h3 id="adding-an-image"><a class="header" href="#adding-an-image">Adding an image</a></h3>
<p>To add IO cards to your collection, open the Add screen, click on “Type”
and choose “Image Occlusion” from the list of built-in note types.
Then, click on “Select Image” to load an image file saved on your
computer’s hard drive, or on “Paste image from clipboard”
if you have an image copied to the clipboard.</p>
<h3 id="adding-io-cards"><a class="header" href="#adding-io-cards">Adding IO cards</a></h3>
<p>After loading an image, the IO editor will open. Click on the
icons on the left to add as many areas to your image as you want.
There are three basic shapes to choose from:</p>
<ul>
<li>Rectangle</li>
<li>Ellipse</li>
<li>Polygon</li>
</ul>
<p>You can also choose between two different IO modes for each note:</p>
<ul>
<li><strong>Hide All, Guess One</strong>: All areas are hidden and only one
area at a time is revealed while learning.</li>
<li><strong>Hide One, Guess One</strong>: Only one area at a time is hidden
and will be revealed during learning. The other areas will be visible.</li>
</ul>
<p><img src="media/io_modes.jpg" alt="Image Occlusion Modes" /></p>
<!-- fields & tags are not intuitive to find in editor -->
<p>The default IO note type also has standard fields:
<strong>Header</strong> (displayed above the image on the front and back of each card),
<strong>Back Extra</strong> (displayed below the image on the back of each card),
and <strong>Comments</strong> (not displayed on the cards). To access those from the IO editor,
click the <strong>Toggle Mask Editor</strong> button.
There you can also view and edit the <strong>Tags</strong> of the note.</p>
<p>Once you’re done, click on the “Add” button, at the bottom of the screen.
Anki will add a card for each shape or group of shapes you added in the previous step,
and you can start reviewing them normally.</p>
<h2 id="editing-io-notes"><a class="header" href="#editing-io-notes">Editing IO notes</a></h2>
<p>You can edit your IO notes by clicking on “Edit” while reviewing,
or directly from the browser. There are several tools that you
can use. Of note:</p>
<ul>
<li>Select: It allows you selecting one or more shapes to move,
resize, delete or group them.</li>
<li>Zoom: You can freely move the image and zoom in or out using the mouse wheel.</li>
<li>Shapes (Rectangle, Ellipse or Polygon): Use them to add new shapes / cards.</li>
<li>Text: It adds text areas to your image. These text areas can be moved,
resized or deleted, but no card will be created when you use this tool.</li>
<li>Undo / Redo.</li>
<li>Zoom In / Out - Reset zoom.</li>
<li>Toggle Translucency: Use this tool to temporarily view the hidden areas.</li>
<li>Delete: Use this tool to delete selected shapes and text areas. Please
note that deleting a shape won’t delete its associated card automatically;
you will need to use Tools&gt;Empty Cards afterwards, the same as
with regular cloze deletions.</li>
<li>Duplicate.</li>
<li>Group selection: Use this tool to create a cluster of shapes, which will
allow you to move, resize or delete them simultaneously. Please note that
two or more single shapes will create only one card once grouped.</li>
<li>Ungroup selection: Select a group and then click this button to make each shape independent again.</li>
<li>Alignment: This tool can be used to align your shapes / text areas as desired.</li>
</ul>
<p>While reviewing IO Cards a “Toggle Masks” button will appear just below the image.
This button will temporary clear all shapes of the note when using “Hide All, Guess One” mode.</p>
<h2 id="inputting-non-latin-characters-and-accents"><a class="header" href="#inputting-non-latin-characters-and-accents">Inputting Non-Latin Characters and Accents</a></h2>
<p>All modern computers have built-in support for typing accents and
non-Latin characters, and multiple ways to go about it. The method we
recommend is by using a keyboard layout for the language you want to learn.</p>
<p>Languages with a separate script like Japanese, Chinese, Thai, and so on,
have their own layouts specific to that language.</p>
<p>European languages that use accents may have their own layout, but can
often be typed on a generic “international keyboard” layout. These work
by typing the accent, then the character you want accented - e.g. an
apostrophe (<kbd>´</kbd>) then the letter a (<kbd>a</kbd>) gives á.</p>
<h3 id="adding-international-keyboard-layouts"><a class="header" href="#adding-international-keyboard-layouts">Adding international keyboard layouts</a></h3>
<p>Instructions on how to use international keyboards vary depending on the operating
system and desktop environment that you are using. To get started, please see the
links below.</p>
<p>Windows:</p>
<ul>
<li><a href="https://thegeekpage.com/how-to-add-us-international-keyboard-in-windows-10/">https://thegeekpage.com/how-to-add-us-international-keyboard-in-windows-10/</a></li>
</ul>
<p>Mac:</p>
<ul>
<li><a href="http://www.macworld.com/article/1147039/os-x/accentinput.html">http://www.macworld.com/article/1147039/os-x/accentinput.html</a></li>
</ul>
<p>Linux:</p>
<ul>
<li>Gnome: <a href="https://help.gnome.org/users/gnome-help/stable/tips-specialchars.html.en">https://help.gnome.org/users/gnome-help/stable/tips-specialchars.html.en</a></li>
<li>KDE Plasma: <a href="https://userbase.kde.org/Tutorials/ComposeKey">https://userbase.kde.org/Tutorials/ComposeKey</a></li>
</ul>
<h3 id="adding-keyboard-layouts-for-specific-languages"><a class="header" href="#adding-keyboard-layouts-for-specific-languages">Adding keyboard layouts for specific languages</a></h3>
<p>Keyboards for specific languages are added in a similar way, but we can
not cover them all here. For more information, please try searching
on the internet for “input Japanese on a mac”, “type Chinese on Windows 10”, and
so on.</p>
<p>For Linux it’s best to look at the wiki pages of your distro, e.g.
<a href="https://wiki.archlinux.org/title/Input_method">Arch Linux</a> and
<a href="https://wiki.debian.org/Keyboard#Modern_strategy">Debian Linux</a>.
As an example, <code>apt install ibus-anthy</code> on Debian allows you to type hiragana characters.</p>
<h3 id="right-to-left-languages"><a class="header" href="#right-to-left-languages">Right-to-left Languages</a></h3>
<p>If you are learning a right-to-left language, there are lots of other
things to consider. Please see <a href="http://dotancohen.com/howto/rtl_right_to_left.html">this page</a>
for more information.</p>
<h3 id="limitations"><a class="header" href="#limitations">Limitations</a></h3>
<p>The toolkit on which Anki is built has trouble dealing with a few input
methods, such as holding down keys to select accented characters on macOS,
and typing characters by holding down the <kbd>Alt</kbd> key and typing a
numeric code on Windows.</p>
<h2 id="unicode-normalization"><a class="header" href="#unicode-normalization">Unicode Normalization</a></h2>
<p>Text like <code>á</code> can be represented in multiple ways on a computer, such as
using a specific code for that symbol, or by using a standard <code>a</code> and then
another code for the accent on top. This causes problems when mixing input
from different sources, or using different computers - if your computer
handles keyboard input in one form, but the content is stored in a different
form, it will not match when searching, even though the end result appears
identical.</p>
<p>To ensure content can easily be found in searches, Anki normalizes the text
to a standard form. For most users this process is transparent, but if you
are studying certain material like archaic Japanese symbols, the normalization
process can end up converting them to a more modern equivalent.</p>
<p>If you want character variants preserved, the following in the <a href="./misc.html">debug console</a>
will turn off normalization:</p>
<pre><code class="language-python">mw.col.conf["normalize_note_text"] = False
</code></pre>
<p>Any content added after that will remain untouched. The trade-off is that you may
find it difficult to search for the content if you’re switching between operating
systems, or pasting content from mixed sources.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="card-templates"><a class="header" href="#card-templates">Card Templates</a></h1>
<p>Card templates tell Anki which fields should appear on the front and back of your card,
and control which cards will be generated when certain fields have text in them.
By adjusting your card templates, you can alter the design and styling of many of your
cards at once.</p>
<p>Card templates are covered in some of the intro videos:</p>
<ul>
<li>
<p><a href="http://www.youtube.com/watch?v=DnbKwHEQ1mA&amp;yt:cc=on">Switching Card Order</a></p>
</li>
<li>
<p><a href="http://www.youtube.com/watch?v=F1j1Zx0mXME&amp;yt:cc=on">Styling Cards</a></p>
</li>
<li>
<p><a href="http://www.youtube.com/watch?v=5tYObQ3ocrw&amp;yt:cc=on">Typing in the Answer</a></p>
</li>
</ul>
<h2 id="the-templates-screen"><a class="header" href="#the-templates-screen">The Templates Screen</a></h2>
<p>You can modify card templates by clicking the <strong>Cards…</strong> button inside the
editing screen.</p>
<p>You can switch between <strong>Front template</strong>, <strong>Back template</strong> and <strong>Styling</strong> with <kbd>Ctrl</kbd>+<kbd>1</kbd>, <kbd>Ctrl</kbd>+<kbd>2</kbd>, and <kbd>Ctrl</kbd>+<kbd>3</kbd>.</p>
<p>In Anki, templates are written in HTML, which is the language that web
pages are written in. The styling section is CSS, which is the language
used for styling web pages.</p>
<p>On the right is a preview of the front and back of the currently
selected card. If you opened the window while adding notes, the preview
will be based on the text you had typed into the Add Notes window. If
you opened the window while editing a note, the preview will be based on
the content of that note. If you opened the window from Tools → Manage
Note Types, Anki will display each field’s name in parentheses in place
of content.</p>
<p>At the top right of the window is an Options button that gives you
options to rename or reorder the cards, as well as the following two
options:</p>
<ul>
<li>
<p>The <strong>Deck Override</strong> option allows you to change the deck that cards
generated from the current card type will be placed into. By
default, cards are placed into the deck you provide in the Add Notes
window. If you set a deck here, that card type will be placed into
the deck you specified, instead of the deck listed in the Add Notes
window. This can be useful if you want to separate cards into
different decks (for instance, when studying a language, to put
production cards in one deck and recognition cards in another). You
can check which deck the cards are currently going to by choosing
Deck Override again.</p>
</li>
<li>
<p>The <strong>Browser Appearance</strong> option allows you to set different (perhaps
simplified) templates for display in the Question and Answer columns
of the browser; see <a href="templates/styling.html#browser-appearance">browser appearance</a> for more
information.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="field-replacements"><a class="header" href="#field-replacements">Field Replacements</a></h1>
<ul>
<li><a href="templates/fields.html#basic-replacements">Basic Replacements</a></li>
<li><a href="templates/fields.html#newlines">Newlines</a></li>
<li><a href="templates/fields.html#text-to-speech-for-individual-fields">Text to Speech for individual fields</a></li>
<li><a href="templates/fields.html#text-to-speech-for-multiple-fields-and-static-text">Text to Speech for multiple fields and static text</a></li>
<li><a href="templates/fields.html#special-fields">Special Fields</a></li>
<li><a href="templates/fields.html#hint-fields">Hint Fields</a></li>
<li><a href="templates/fields.html#dictionary-links">Dictionary Links</a></li>
<li><a href="templates/fields.html#html-stripping">HTML Stripping</a></li>
<li><a href="templates/fields.html#right-to-left-text">Right To Left Text</a></li>
<li><a href="templates/fields.html#ruby-characters">Ruby Characters</a>
<ul>
<li><a href="templates/fields.html#additional-ruby-character-filters">Additional Ruby Character Filters</a></li>
</ul>
</li>
<li><a href="templates/fields.html#media--latex">Media &amp; LaTeX</a>
<ul>
<li><a href="templates/fields.html#static-soundsimages">Static Sounds/Images</a></li>
<li><a href="templates/fields.html#field-references">Field References</a></li>
</ul>
</li>
<li><a href="templates/fields.html#checking-your-answer">Checking Your Answer</a></li>
</ul>
<h2 id="basic-replacements"><a class="header" href="#basic-replacements">Basic Replacements</a></h2>
<p>The most basic template looks something like this:</p>
<pre><code>{{Front}}
</code></pre>
<p>When you place text within curly brackets, Anki looks for a field by
that name, and replaces the text with the actual content of the field.</p>
<p>Field names are case sensitive. If you have a field named <code>Front</code>,
writing <code>{{front}}</code> will not work properly.</p>
<p>Your templates are not limited to a list of fields. You can also include
arbitrary text on your templates. For example, if you’re studying
capital cities, and you’ve created a note type with a “Country” field,
you might create a front template like this:</p>
<pre><code>What's the capital city of {{Country}}?
</code></pre>
<p>The default back template will look something like this:</p>
<pre><code>{{FrontSide}}

&lt;hr id=answer&gt;

{{Back}}
</code></pre>
<p>This means “show me the text that’s on the front side, then a divider
line, and then the Back field”.</p>
<p>The “id=answer” part tells Anki where the divider is between the
question and the answer. This allows Anki to automatically scroll to the
spot where the answer starts when you press <strong>show answer</strong> on a long card
(especially useful on mobile devices with small screens). If you don’t
want a horizontal line at the beginning of the answer, you can use
another HTML element such as a paragraph or div instead.</p>
<h2 id="newlines"><a class="header" href="#newlines">Newlines</a></h2>
<p>Card templates are like web pages, which means a special command is required
to create a new line. For example, if you wrote the following in the template:</p>
<pre><code>one
two
</code></pre>
<p>In the preview, you’d actually see:</p>
<pre><code>one two
</code></pre>
<p>To add a new line, you need to add a &lt;br&gt; code to the end of a
line, like so:</p>
<pre><code>one&lt;br&gt;
two
</code></pre>
<p>The br code stands for “(line) br(eak)”.</p>
<p>The same applies for fields. If you want to display two fields, one on
each line, you would use</p>
<pre><code>{{Field 1}}&lt;br&gt;
{{Field 2}}
</code></pre>
<h2 id="text-to-speech-for-individual-fields"><a class="header" href="#text-to-speech-for-individual-fields">Text to Speech for individual fields</a></h2>
<p>This feature requires Anki 2.1.20, AnkiMobile 2.0.56 or AnkiDroid 2.17.</p>
<p>To have Anki read the Front field in a US English voice, you can place
the following in your card template:</p>
<pre><code>{{tts en_US:Front}}
</code></pre>
<p>On Windows, macOS, and iOS, Anki will use the OS’s built in voices. On
Linux, no voices are built in, but voices can be provided by add-ons,
such as <a href="https://ankiweb.net/shared/info/391644525">this one</a>.</p>
<p>To see a list of all available languages/voices, place the following on
your card template:</p>
<pre><code>{{tts-voices:}}
</code></pre>
<p>If there are multiple voices that support your chosen language, you can
specify desired voices in a list, and Anki will choose the first
available voice. For example:</p>
<pre><code>{{tts ja_JP voices=Apple_Otoya,Microsoft_Haruka:Field}}
</code></pre>
<p>This would use Otoya when on an Apple device, and Haruka when on a
Windows PC.</p>
<p>Specifying a different speed is possible in some TTS implementations:</p>
<pre><code>{{tts fr_FR speed=0.8:SomeField}}
</code></pre>
<p>Both speed and voices are optional, but the language must be included.</p>
<p>On a Mac, you can customize the available voices:</p>
<ul>
<li>
<p>Open the System Preferences screen.</p>
</li>
<li>
<p>Click on Accessibility.</p>
</li>
<li>
<p>Click on Speech.</p>
</li>
<li>
<p>Click on the system voice dropdown, and choose Customize.</p>
</li>
</ul>
<p>Some voices sound better than others, so experiment to choose the one
you prefer. Please note that the Siri voice can only be used by Apple
apps. Once you’ve installed new voices, you’ll need to restart Anki for
the new voices to become available.</p>
<p>On Windows, some voices like Cortana can not be selected, as Microsoft
does not make those voices available to other applications.</p>
<p>On a cloze note type, you can make Anki read only the elided sections
using the <code>cloze-only</code> filter, like so:</p>
<pre><code>{{tts en_US:cloze-only:Text}}
</code></pre>
<p>The cloze-only filter is supported in Anki 2.1.29+, AnkiMobile 2.0.65+, and AnkiDroid 2.17+.</p>
<h2 id="text-to-speech-for-multiple-fields-and-static-text"><a class="header" href="#text-to-speech-for-multiple-fields-and-static-text">Text to Speech for multiple fields and static text</a></h2>
<p>This feature requires Anki 2.1.50+, AnkiMobile 2.0.84+, or AnkiDroid 2.17+.</p>
<p>If you want TTS to read multiple fields or static text included in the template, you can use the following:</p>
<pre><code>[anki:tts lang=en_US] This text should be read. Here is {{Field1}} and {{Field2}}[/anki:tts]

This is other text on the template. It is outside of the tags so it should not be read.
</code></pre>
<h2 id="special-fields"><a class="header" href="#special-fields">Special Fields</a></h2>
<p>There are some special fields you can include in your templates:</p>
<pre><code>The note's tags: {{Tags}}

The type of note: {{Type}}

The card's deck: {{Deck}}

The card's subdeck: {{Subdeck}}

The card's flag: {{CardFlag}}

The type of card ("Forward", etc): {{Card}}

The content of the front template
(only valid in back template): {{FrontSide}}
</code></pre>
<p>FrontSide will not automatically play any audio that was on the front side
of the card. If you wish to have the same audio play automatically on both
the front and back of the card, you’ll need to manually include the audio
fields on the back as well.</p>
<p>As with other fields, special field names are case sensitive - you must use
<code>{{Tags}}</code> rather than <code>{{tags}}</code> for example.</p>
<h2 id="hint-fields"><a class="header" href="#hint-fields">Hint Fields</a></h2>
<p>It’s possible to add a field to the front or back of a card, but make it
hidden until you explicitly show it. We call this a <em>hint field</em>. Before
adding a hint, please bear in mind that the easier you make it to answer
a question in Anki, the less likely you are to remember that question
when you encounter it in real life. Please have a read about the
“minimum information principle” on
<a href="https://super-memory.com/articles/20rules.htm">https://super-memory.com/articles/20rules.htm</a> before proceeding.</p>
<p>First, you’ll need to add a field to store the hint in if you have not
already. Please see the <a href="templates/../editing.html#customizing-fields">fields</a> section if you’re not sure how
to do this.</p>
<p>Assuming you’ve created a field called MyField, you can tell Anki to
include it on the card but hide it by default by adding the following to
your template:</p>
<pre><code>{{hint:MyField}}
</code></pre>
<p>This will show a link labeled “show hint”; when you click it, the
content of the field will be displayed on the card. (If MyField is
empty, nothing will be shown.)</p>
<p>If you show the hint on the question and then reveal the answer, the
hint will be hidden again. If you want to have the hint always revealed
when the answer is shown, you will need to remove <code>{{FrontSide}}</code> from
your back template and manually add the fields you wish to appear.</p>
<p>It is not currently possible to use a hint field for audio — the audio
will play regardless of whether you’ve clicked on the hint link.</p>
<p>If you want to customize the appearance or behaviour, you’ll need to
implement the hint field yourself. We can not provide any support for
doing so, but the following code should get you started:</p>
<pre><code>{{#Back}}
﻿&lt;a class=hint href="#"
onclick="this.style.display='none';document.getElementById('hint4753594160').style.display='inline-block';return false;"&gt;
Show Back&lt;/a&gt;&lt;div id="hint4753594160" class=hint style="display: none"&gt;{{Back}}&lt;/div&gt;
{{/Back}}
</code></pre>
<h2 id="dictionary-links"><a class="header" href="#dictionary-links">Dictionary Links</a></h2>
<p>You can also use field replacement to create dictionary links. Imagine
you’re studying a language and your favourite online dictionary allows
you to search for text using a web URL like:</p>
<pre><code>http://example.com/search?q=myword
</code></pre>
<p>You could add an automatic link by doing the following in your template:</p>
<pre><code>{{Expression}}

&lt;a href="http://example.com/search?q={{Expression}}"&gt;check in dictionary&lt;/a&gt;
</code></pre>
<p>The template above would allow you to search for each note’s expression
by clicking on the link while reviewing. There is a caveat however, so
please see the next section.</p>
<h2 id="html-stripping"><a class="header" href="#html-stripping">HTML Stripping</a></h2>
<p>Like templates, fields are stored in HTML. In the dictionary link
example above, if the expression contained the word “myword” without any
formatting, then the HTML would be the same: “myword”. But when you
include formatting in your fields, extra HTML is included. If “myword”
was bolded for example, the actual HTML would be
“&lt;b&gt;myword&lt;/b&gt;”.</p>
<p>This can present a problem for things like dictionary links. In the
above example, the dictionary link would end up being:</p>
<pre><code>&lt;a href="http://example.com/search?q=&lt;b&gt;myword&lt;/b&gt;"&gt;check in dictionary&lt;/a&gt;
</code></pre>
<p>The extra characters in the link would likely confuse the dictionary
site, and you’re likely not to get any matches.</p>
<p>To solve this, Anki provides the ability to strip formatting from fields
when they are replaced. If you prefix a field name with text:, Anki will
not include any formatting. So a dictionary link that worked even with
formatted text would be:</p>
<pre><code>&lt;a href="http://example.com/search?q={{text:Expression}}"&gt;check in dictionary&lt;/a&gt;
</code></pre>
<h2 id="right-to-left-text"><a class="header" href="#right-to-left-text">Right To Left Text</a></h2>
<p>If you’re using a language that reads from right to left, you’ll need
to adjust the template like so:</p>
<pre><code>&lt;div dir=rtl&gt;{{FieldThatHasRTLTextInIt}}&lt;/div&gt;
</code></pre>
<h2 id="ruby-characters"><a class="header" href="#ruby-characters">Ruby Characters</a></h2>
<p>Some languages commonly use annotations above the text to display the
pronunciation of characters. These annotations are known as
<a href="https://en.wikipedia.org/wiki/Ruby_character">ruby characters</a>.
In Japanese, these are known as <a href="https://en.wikipedia.org/wiki/Furigana">furigana</a>.</p>
<p>In Anki, you can display ruby characters by using the following syntax:</p>
<pre><code>Text[Ruby]
</code></pre>
<p>Suppose the text above is written in MyField. By default, if you simply use
<code>{{Myfield}}</code>, the field will be displayed as is. To properly position the
ruby characters above the text, use the <code>furigana</code> filter in the templates
like so:</p>
<pre><code>{{furigana:MyField}}
</code></pre>
<p>Here are some examples:</p>
<!-- prettier-ignore -->
<div class="table-wrapper"><table><thead><tr><th>Raw Text</th><th>Rendered Text</th></tr></thead><tbody>
<tr><td><code>Text[Ruby]</code></td><td><ruby><rb>Text</rb><rt>Ruby</rt></ruby></td></tr>
<tr><td><code>日本語[にほんご]</code></td><td><ruby><rb>日本語</rb><rt>にほんご</rt></ruby></td></tr>
<tr><td><code>世[よ]の 中[なか]</code></td><td><ruby><rb>世</rb><rt>よ</rt></ruby>の<ruby><rb>中</rb><rt>なか</rt></ruby></td></tr>
<tr><td><code>世[よ]の中[なか]</code></td><td><ruby><rb>世</rb><rt>よ</rt></ruby><ruby><rb>の中</rb><rt>なか</rt></ruby> <em>(incorrect!)</em></td></tr>
</tbody></table>
</div>
<p>Notice how the third example has a space before the 中 character. This is
necessary to specify that the ruby text applies only to that character.
If there was no space, the ruby text will be misplaced above the の character,
as shown in the fourth example.</p>
<h3 id="additional-ruby-character-filters"><a class="header" href="#additional-ruby-character-filters">Additional Ruby Character Filters</a></h3>
<p>In addition to the <code>furigana</code> filter, you can also only show certain parts
of the ruby text, with the <code>kana</code> and <code>kanji</code> filters. The <code>kana</code> filter will
only show the ruby text, while the <code>kanji</code> filter removes the ruby text
entirely.</p>
<!-- prettier-ignore -->
<div class="table-wrapper"><table><thead><tr><th>Raw Text</th><th>Field Filter</th><th>Rendered Text</th></tr></thead><tbody>
<tr><td><code>日本語[にほんご]</code></td><td><code>{{furigana:MyField}}</code></td><td><ruby><rb>日本語</rb><rt>にほんご</rt></ruby></td></tr>
<tr><td><code>日本語[にほんご]</code></td><td><code>{{kana:MyField}}</code></td><td>にほんご</td></tr>
<tr><td><code>日本語[にほんご]</code></td><td><code>{{kanji:MyField}}</code></td><td>日本語</td></tr>
</tbody></table>
</div>
<p>These names are, again, borrowed from Japanese.
The term <a href="https://en.wikipedia.org/wiki/Kana">kana</a> represents the phonetic
system used to describe how words are pronounced, whereas the term
<a href="https://en.wikipedia.org/wiki/Kanji">kanji</a> represents its Chinese characters.</p>
<h2 id="media--latex"><a class="header" href="#media--latex">Media &amp; LaTeX</a></h2>
<p>Anki does not scan templates for media references, because it is slow to
do so. This has implications for including media on the template.</p>
<h3 id="static-soundsimages"><a class="header" href="#static-soundsimages">Static Sounds/Images</a></h3>
<p>If you wish to include images or sounds on your cards that are the same
for every card (eg, a company logo at the top of each card):</p>
<ol>
<li>
<p>Rename the file so it starts with an underscore, e.g “_logo.jpg”.
The underscore tells Anki that the file is used by the template and
it should be exported when sharing the deck.</p>
</li>
<li>
<p>Add a reference to the media on your front or back template, like:</p>
</li>
</ol>
<!-- -->
<pre><code>&lt;img src="_logo.jpg"&gt;
</code></pre>
<h3 id="field-references"><a class="header" href="#field-references">Field References</a></h3>
<p>Media references to fields are not supported. They may or may not display
during review, and will not work when checking for unused media,
importing/exporting, and so on. Examples that won’t work:</p>
<pre><code>&lt;img src="{{Expression}}.jpg"&gt;

[sound:{{Word}}]

[latex]{{Field 1}}[/latex]
</code></pre>
<p>Instead, you should include the media references in the field. Please
see the <a href="templates/../importing/text-files.html#importing-media">importing section</a> for more information.</p>
<h2 id="checking-your-answer"><a class="header" href="#checking-your-answer">Checking Your Answer</a></h2>
<p>You can watch <a href="http://www.youtube.com/watch?v=5tYObQ3ocrw&amp;yt:cc=on">a video about this feature</a> on
YouTube.</p>
<p>The easiest way to check your answer is to click “Basic” at the top
left of the card adding screen, and select “Basic (type in the answer)”.</p>
<p>If you have downloaded a shared deck and would like to type in the answer
with it, you can modify its card template. If it has a template like:</p>
<pre><code>{{Native Word}}

{{FrontSide}}

&lt;hr id=answer&gt;

{{Foreign Word}}
</code></pre>
<p>To type in the foreign word and check if you are correct, you need to
edit your front template so that it looks like this:</p>
<pre><code>{{Native Word}}
{{type:Foreign Word}}
</code></pre>
<p>Note that we have added <code>type:</code> in front of the field we want to
compare. Since FrontSide is on the back of the card, the type answer box
will appear on the back as well.</p>
<p>When reviewing, Anki will display a text box where you can type in the
answer, and upon hitting <kbd>Enter</kbd> or showing the answer, Anki will show you
which parts you got right and which parts you got wrong. The text box’s
font size will be the size you configured for that field (via the
“Fields” button when editing).</p>
<p>This feature does not change how the cards are answered, so it’s still
up to you to decide how well you remembered or not.</p>
<p>Only one typing comparison can be used on a card. If you add the above
text multiple times, it will not work. It also only supports a single
line, so it is not useful for comparing against a field that is
comprised of multiple lines.</p>
<p>Anki uses a monospaced font for the answer comparison so that the
“provided” and “correct” sections line up. If you wish to override the
font for the answer comparison, you can put the following at the bottom
of your styling section:</p>
<pre><code>code#typeans { font-family: "myfontname"; }
</code></pre>
<p>Which will affect the following HTML for the answer comparison:</p>
<pre><code>&lt;code id=typeans&gt;...&lt;/code&gt;
</code></pre>
<p>Advanced users can override the default type-answer colors with the css
classes “typeGood”, “typeBad” and “typeMissed”. AnkiMobile supports
“typeGood” and “typeBad”, but not “typeMissed”.</p>
<p>If you wish to override the size of the typing box and don’t want to
change the font in the Fields dialog, you can override the default
inline style using <code>!important</code>, like so:</p>
<pre><code>#typeans { font-size: 50px !important; }
</code></pre>
<p>It is also possible to type in the answer for cloze deletion cards. To
do this, add <code>{{type:cloze:Text}}</code> to both the front and back
template, so the back looks something like this:</p>
<pre><code>{{cloze:Text}}
{{type:cloze:Text}}
{{Extra}}
</code></pre>
<p>Note that since the cloze type does not use FrontSide, this must be
added to both sides on a cloze note type.</p>
<p>If there are multiple sections elided, you can separate the answers in
the text box with a comma.</p>
<p>Type answer boxes will not appear in the <a href="templates/intro.html">“preview” dialog</a> in the browser. When you review or look at
the preview in the card types window, they will display.</p>
<p>Type answer boxes will not be displayed when you review your cards on <a href="templates/../syncing.html">ankiweb.net</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="card-generation"><a class="header" href="#card-generation">Card Generation</a></h1>
<ul>
<li><a href="templates/generation.html#reverse-cards">Reverse Cards</a></li>
<li><a href="templates/generation.html#card-generation--deletion">Card Generation &amp; Deletion</a></li>
<li><a href="templates/generation.html#selective-card-generation">Selective Card Generation</a></li>
<li><a href="templates/generation.html#conditional-replacement">Conditional Replacement</a></li>
<li><a href="templates/generation.html#blank-back-sides">Blank Back Sides</a></li>
<li><a href="templates/generation.html#adding-empty-notes">Adding Empty Notes</a></li>
<li><a href="templates/generation.html#cloze-templates">Cloze Templates</a></li>
</ul>
<h2 id="reverse-cards"><a class="header" href="#reverse-cards">Reverse Cards</a></h2>
<p>You can watch <a href="http://www.youtube.com/watch?v=DnbKwHEQ1mA&amp;yt:cc=on">a video about reversing cards</a> on YouTube.</p>
<p>If you want to create cards that go in both directions (e.g., both
“ookii”→“big” and “big”→“ookii”), you have several options. The simplest
is to select the “Basic (and reversed card)” built-in note type. This
will generate two cards, one in each direction.</p>
<p>If you want to generate reverse cards for only some of your material
(perhaps you only want to take the time to study reverses for the most
important material, or some of your cards don’t make sense reversed),
you can select the “Basic (optional reversed card)” note type. This note
type generates a forward-only card when you fill in only the first two
fields; if you additionally enter something in the “Add Reverse” field
(like a “y”), Anki will generate a reverse card as well. The contents of
this field will never be displayed on a card.</p>
<h2 id="card-generation--deletion"><a class="header" href="#card-generation--deletion">Card Generation &amp; Deletion</a></h2>
<p>Anki will not create cards with empty front sides. Thus if “My Field”
was empty, and one card’s front template included only that field, the
card would not be created.</p>
<p>When you edit a previously added note, Anki will automatically create
extra cards if they were previously blank but no longer are. If your
edits have made some cards blank when they previously were not, however,
Anki will not delete them immediately, as that could lead to accidental
data loss. To remove the empty cards, go to Tools → Empty Cards in the
main window. You will be shown a list of empty cards and be given the
option to delete them.</p>
<p>Because of the way that card generation works, it is not possible to
manually delete individual cards, as they would just end up being recreated
the next time the note was edited. Instead, you should make the
relevant conditional replacement fields empty and then use the Empty
Cards option.</p>
<p>Anki does not consider special fields or non-field text for the purposes
of card generation. Thus if your front template looked like the
following, no card would be generated if Country was empty:</p>
<pre><code>Where is {{Country}} on the map?
</code></pre>
<h2 id="selective-card-generation"><a class="header" href="#selective-card-generation">Selective Card Generation</a></h2>
<p>Sometimes you may want to generate extra cards for only some of your
material, such as testing your ability to recall the most important
words of a set. You can accomplish this by adding an extra field to your
note, and adding some text into it (such as “1”) on the notes you want
the extra card. Then in the card template, you can make the card’s
creation depend on that field being non-empty. For more information on
this, please see the conditional replacement section below.</p>
<h2 id="conditional-replacement"><a class="header" href="#conditional-replacement">Conditional Replacement</a></h2>
<p>It is possible to include certain text, fields, or HTML on your cards
only if a field is empty or not empty. An example:</p>
<pre><code>This text is always shown.

{{#FieldName}}
    This text is only shown if FieldName has text in it
{{/FieldName}}

{{^FieldName}}
    This text is only shown if FieldName is empty
{{/FieldName}}
</code></pre>
<p>A real life example is only showing a label if the field is not empty:</p>
<pre><code>{{#Tags}}
    Tags: {{Tags}}
{{/Tags}}
</code></pre>
<p>Or say you want to display a specific field in blue on the front of your
card if there are extra notes on the back (perhaps the fact that there
are notes serves as a reminder that you should spend more time thinking
about the answer). You can style the field as follows:</p>
<pre><code>{{#Notes}}
    &lt;span style="color:blue;"&gt;
{{/Notes}}

{{FieldToFormat}}

{{#Notes}}
    &lt;/span&gt;
{{/Notes}}
</code></pre>
<p>You can also use conditional replacement to control which cards are
generated. This works since Anki will not generate
cards which would have a blank front side. For
example, consider a card with two fields on the front:</p>
<pre><code>{{Expression}}
{{Notes}}
</code></pre>
<p>Normally a card would be generated if either the expression or notes
field had text in it. If you only wanted a card generated if expression
was not empty, then you could change the template to this:</p>
<pre><code>{{#Expression}}
    {{Expression}}
    {{Notes}}
{{/Expression}}
</code></pre>
<p>And if you wanted to require both fields, you could use two conditional
replacements:</p>
<pre><code>{{#Expression}}
    {{#Notes}}
        {{Expression}}
        {{Notes}}
    {{/Notes}}
{{/Expression}}
</code></pre>
<p>Keep in mind that this only works when you place the
conditional replacement code on the <em>front</em> of the card; if you do this
on the back, you will simply end up with cards with a blank back side.
Similarly, since this works by checking if the front field would be
empty, it is important to make sure you wrap the “entire” front side in
the conditional replacement; for instance, the following would not work
as expected:</p>
<pre><code>{{#Expression}}
    {{Expression}}
{{/Expression}}
{{Notes}}
</code></pre>
<h2 id="blank-back-sides"><a class="header" href="#blank-back-sides">Blank Back Sides</a></h2>
<p>Card generation only looks at the front side of the card. For example, if you have a
front template:</p>
<pre><code>{{Field 1}}
</code></pre>
<p>and a back template:</p>
<pre><code>{{Field 2}}
</code></pre>
<p>Then a card will be generated if Field 1 is non-empty. If Field 2 is empty, the card
will still be generated, and you will get a blank back side.</p>
<p>If you wish to avoid a blank back side, you will need to place a required field
on the front template as a conditional, like so:</p>
<pre><code>{{#Field 2}}
    {{Field 1}}
{{/Field 2}}
</code></pre>
<p>This will ensure the card is generated only if both Field 2 and Field 1 are non-empty.</p>
<h2 id="adding-empty-notes"><a class="header" href="#adding-empty-notes">Adding Empty Notes</a></h2>
<p>When you add a new note in Anki, if the card
templates and note fields combine to produce no cards, a blank card will be
created using the first template. This allows you to add material even if it’s
incomplete, and modify it or the template later to make it valid. If you don’t
wish to keep an empty note, you can remove it with the Empty Cards function.</p>
<h2 id="cloze-templates"><a class="header" href="#cloze-templates">Cloze Templates</a></h2>
<p>Please see the <a href="templates/../editing.html#cloze-deletion">cloze deletion</a> section for background info.</p>
<p>The cloze note type functions differently from regular note types.
Instead of a customizable number of card types, it has a single type
which is shared by all cloze deletions on a note.</p>
<p>As mentioned in the card generation section above, generation of regular
cards depends on one or more fields on the question being non-empty.
Cloze deletion note types are generated differently:</p>
<ul>
<li>
<p>Anki looks on the front template for one or more cloze replacements,
like {{cloze:FieldName}}.</p>
</li>
<li>
<p>It then looks in the FieldName field for all cloze references, like
{{c1::text}}.</p>
</li>
<li>
<p>For each separate number, a card will be generated.</p>
</li>
</ul>
<p>Because card generation functions differently for cloze deletion cards,
{{cloze:…​}} tags can not be used with a regular note type - they
will only function properly when used with a cloze note type.</p>
<p>Conditional generation provides a special field so you can check which
card you are rendering. If you wanted to display the “hint1” field on
the first cloze, and “hint2” field on the second cloze for example, you
could use the following template:</p>
<pre><code>{{cloze:Text}}

{{#c1}}
    {{Hint1}}
{{/c1}}

{{#c2}}
    {{Hint2}}
{{/c2}}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="styling--html"><a class="header" href="#styling--html">Styling &amp; HTML</a></h1>
<ul>
<li><a href="templates/styling.html#card-styling">Card Styling</a></li>
<li><a href="templates/styling.html#image-resizing">Image Resizing</a></li>
<li><a href="templates/styling.html#field-styling">Field Styling</a></li>
<li><a href="templates/styling.html#audio-replay-buttons">Audio Replay Buttons</a></li>
<li><a href="templates/styling.html#text-direction">Text Direction</a></li>
<li><a href="templates/styling.html#other-html">Other HTML</a></li>
<li><a href="templates/styling.html#browser-appearance">Browser Appearance</a></li>
<li><a href="templates/styling.html#platform-specific-css">Platform-Specific CSS</a></li>
<li><a href="templates/styling.html#installing-fonts">Installing Fonts</a>
<ul>
<li><a href="templates/styling.html#add-font-to-media-folder">Add Font to Media Folder</a></li>
<li><a href="templates/styling.html#update-template-to-use-that-font">Update Template to Use That Font</a></li>
</ul>
</li>
<li><a href="templates/styling.html#night-mode">Night Mode</a></li>
<li><a href="templates/styling.html#fading-and-scrolling">Fading and Scrolling</a></li>
<li><a href="templates/styling.html#javascript">Javascript</a></li>
</ul>
<h2 id="card-styling"><a class="header" href="#card-styling">Card Styling</a></h2>
<p>You can watch <a href="http://www.youtube.com/watch?v=F1j1Zx0mXME&amp;yt:cc=on">a video about styling cards</a> on YouTube.
The video shows Anki 2.0’s interface, but the concepts are largely the
same.</p>
<p>The styling section of the Cards screen can be accessed by clicking the
“Styling” button next to the “Back Template” button. In that section,
you can change the background color of the card, the default font, the
text alignment, and so on.</p>
<p>The standard options available to you are:</p>
<p><strong>font-family</strong><br />
The name of the font to use on the card. If your font has spaces in it
like “MS Unicode”, then you need to surround the font name in double
quotes as in this sentence. It is also possible to use multiple fonts on
one card; for information on that, please see below.</p>
<p><strong>font-size</strong><br />
The size of the font in pixels. When changing it, make sure you leave px
at the end.</p>
<p><strong>text-align</strong><br />
Whether the text should be aligned in the center, left, or right.</p>
<p><strong>color</strong><br />
The color of the text. Simple color names like “blue”, “lightyellow”,
and so on will work, or you can use HTML color codes to select arbitrary
colors. Please see <a href="https://htmlcolorcodes.com/">this webpage</a> for more
information.</p>
<p><strong>background-color</strong><br />
The color of the card background.</p>
<p>Any CSS can be placed in the styling section – advanced users may wish
to do things like add a background image or gradient, for example. If
you’re wondering how to get some particular formatting, please search
the web for information about how to do it in CSS, as there is a great
deal of documentation available.</p>
<p>The styling is shared between all cards, which means that when you make
an adjustment it will affect all cards for that note type. It is also
possible to specify card-specific styling, however. The following
example will use a yellow background on all cards except the first one:</p>
<pre><code class="language-css">.card {
  background-color: yellow;
}
.card1 {
  background-color: blue;
}
</code></pre>
<h2 id="image-resizing"><a class="header" href="#image-resizing">Image Resizing</a></h2>
<p>Anki shrinks images to fit the screen by default. You can change this by adding
the following to the bottom of your styling section (outside of the default
<code>.card { ... }</code>):</p>
<pre><code class="language-css">img {
  max-width: none;
  max-height: none;
}
</code></pre>
<p>AnkiDroid sometimes has <a href="https://github.com/ankidroid/Anki-Android/issues/3612">trouble scaling images to fit the
screen</a>. Setting maximum
image dimensions using css should fix this, but seems to be ignored as of
AnkiDroid 2.9. A fix is to append <code>!important</code> to each style directive, for
example:</p>
<pre><code class="language-css">img {
  max-width: 300px !important;
  max-height: 300px !important;
}
</code></pre>
<p>If you try to change the style for images and find that the star that
appears on marked cards is affected (for instance, it becomes way too
large), you can target it with the following:</p>
<pre><code class="language-css">img#star {
  ...;
}
</code></pre>
<p>You can explore the styling of cards interactively by using Chrome:</p>
<p><a href="https://addon-docs.ankiweb.net/porting2.0.html#webview-changes">https://addon-docs.ankiweb.net/porting2.0.html#webview-changes</a></p>
<p>Anki 2.1.50+ supports image resizing within the editor natively.</p>
<h2 id="field-styling"><a class="header" href="#field-styling">Field Styling</a></h2>
<p>The default styling applies to the whole card. You can also make certain
fields or part of the card use a different font, color, and so on. This
is particularly important when studying foreign languages, as Anki will
sometimes be unable to correctly display characters unless an
appropriate font has been chosen.</p>
<p>Say you have an “Expression” field, and you want to give it the OSX Thai
font “Ayuthaya”. Imagine your template already reads:</p>
<pre><code>What is {{Expression}}?

{{Notes}}
</code></pre>
<p>What we need to do is wrap the text we want to style in some HTML. We
will put the following in front of the text:</p>
<pre><code>&lt;div class=mystyle1&gt;
</code></pre>
<p>And the following behind it:</p>
<pre><code>&lt;/div&gt;
</code></pre>
<p>By wrapping the text like the above, we tell Anki to style the wrapped
text with a custom style called “mystyle1”, which we will create later.</p>
<p>Thus if we wanted the entire “What is …​?” expression to use the Thai
font, we would use:</p>
<pre><code>&lt;div class=mystyle1&gt;What is {{Expression}}?&lt;/div&gt;

{{Notes}}
</code></pre>
<p>And if we wanted only the expression field itself to use the Thai font,
we’d use:</p>
<pre><code>What is &lt;div class=mystyle1&gt;{{Expression}}&lt;/div&gt;?

{{Notes}}
</code></pre>
<p>After we’ve edited the template, we now need to move to the Styling
section between the templates. Before editing it, it should look
something like:</p>
<pre><code class="language-css">.card {
  font-family: arial;
  font-size: 20px;
  text-align: center;
  color: black;
  background-color: white;
}
</code></pre>
<p>Add your new style to the bottom, so it looks like:</p>
<pre><code class="language-css">.card {
  font-family: arial;
  font-size: 20px;
  text-align: center;
  color: black;
  background-color: white;
}

.mystyle1 {
  font-family: ayuthaya;
}
</code></pre>
<p>You can include any styling you want in the style. If you wanted to
increase the font size too, you’d change the mystyle1 section to look
like:</p>
<pre><code class="language-css">.mystyle1 {
  font-family: ayuthaya;
  font-size: 30px;
}
</code></pre>
<p>It’s also possible to bundle custom fonts with your deck, so you don’t
need to install them on your computer or mobile device. Please see the
<a href="templates/styling.html#installing-fonts">installing fonts</a> section for more info.</p>
<h2 id="audio-replay-buttons"><a class="header" href="#audio-replay-buttons">Audio Replay Buttons</a></h2>
<p>When audio or text to speech is included on your cards, Anki will show
buttons you can click on to replay the audio.</p>
<p>If you prefer not to see the buttons, you can hide them in the
preferences screen.</p>
<p>You can customize their appearance in your card styling, for example, to
make them smaller and colored, you could use the following:</p>
<pre><code class="language-css">.replay-button svg {
  width: 20px;
  height: 20px;
}
.replay-button svg circle {
  fill: blue;
}
.replay-button svg path {
  stroke: white;
  fill: green;
}
</code></pre>
<h2 id="text-direction"><a class="header" href="#text-direction">Text Direction</a></h2>
<p>If you use a language that is written right-to-left, such as Arabic or Hebrew,
you can add the CSS <code>direction</code> property to the .card section for correct display during review:</p>
<pre><code class="language-css">.card {
  direction: rtl;
}
</code></pre>
<p>This will change the direction of the entire card. You can change the direction
of only certain fields by wrapping their references in some HTML:</p>
<pre><code>&lt;div dir="rtl"&gt;{{Front}}&lt;/div&gt;
</code></pre>
<p>To change the direction of fields in the editor, please see
the <a href="templates/../editing.html#customizing-fields">editing</a> section.</p>
<h2 id="other-html"><a class="header" href="#other-html">Other HTML</a></h2>
<p>Your templates can contain arbitrary HTML, which means that all the
layout possibilities used on internet web pages can also be used on your
cards. Things like tables, lists, images, links to external pages and so
on are all supported. With tables for example, you could change the
layout so that the front and back of a card appear on the left and right
instead of the top and bottom.</p>
<p>Covering all of HTML’s features is outside the scope of this manual, but
there are plenty of good introductory guides to HTML available on the
web if you’d like to learn more.</p>
<h2 id="browser-appearance"><a class="header" href="#browser-appearance">Browser Appearance</a></h2>
<p>If your card templates are complex, it may be difficult to read the
question and answer columns (called “Front” and “Back”) in the <a href="templates/../browsing.html#cardnote-table">card list</a>. The “browser appearance” option allows you to define a
custom template to be used only in the browser, so you can include only
the important fields and change the order if you desire. The syntax is
the same as in standard card templates.</p>
<p>When using this option, if the text in the question column is repeated at the beginning of the answer column, Anki will display the text only in the question column. For example, if the question column text is “People in Ladakh speak”, and the answer is “People in Ladakh speak Ladakhi”, the answer column will only display “Ladakhi”, omitting the rest.</p>
<h2 id="platform-specific-css"><a class="header" href="#platform-specific-css">Platform-Specific CSS</a></h2>
<p>Anki defines some special CSS classes that allow you to define different
styling for different platforms. The example below shows how to vary the
font depending on where you’re reviewing:</p>
<pre><code class="language-css">/* Windows */
.win .example {
  font-family: "Example1";
}
/* macOS */
.mac .example {
  font-family: "Example2";
}
/* Linux desktops */
.linux:not(.android) .example {
  font-family: "Example3";
}
/* both Linux desktops, and Android devices */
.linux .example {
  font-family: "Example4";
}
/* both Android and iOS */
.mobile .example {
  font-family: "Example5";
}
/* iOS */
.iphone .example,
.ipad .example {
  font-family: "Example6";
}
/* Android */
.android .example {
  font-family: "Example7";
}
</code></pre>
<p>And in the template:</p>
<pre><code class="language-html">&lt;div class="example"&gt;{{Field}}&lt;/div&gt;
</code></pre>
<p>You can also use properties like .gecko, .opera, and .ie to select
particular browsers when using AnkiWeb. Please see
<a href="http://rafael.adm.br/css_browser_selector/">http://rafael.adm.br/css_browser_selector/</a> for a full list of options.</p>
<h2 id="installing-fonts"><a class="header" href="#installing-fonts">Installing Fonts</a></h2>
<p>You can install fonts directly to Anki. This is useful if you’re using Anki on
a work or school computer where you don’t have permission to install new fonts,
or if you’re using Anki on a mobile device.</p>
<p>Anki supports the most widely used font formats, such as TrueType (.ttf),
OpenType (.otf), Web Open Font Format (.woff) and others.</p>
<h3 id="add-font-to-media-folder"><a class="header" href="#add-font-to-media-folder">Add Font to Media Folder</a></h3>
<p>Once you have downloaded a supported font, such as “Arial.ttf”, you have to add
it to the media folder.</p>
<ol>
<li>
<p>Rename the file, adding an underscore at the start, so it becomes
like “_arial.ttf”. Adding an underscore will tell Anki that this
file will be used on a template, and should not be deleted when
checking for unused media.</p>
</li>
<li>
<p>In your computer’s file browser, go to your <a href="templates/../files.html">Anki Folder</a>,
and then a folder called “User 1” (or your profile name if you’ve
renamed/added profiles).</p>
</li>
<li>
<p>Inside the folder, you should see a folder called collection.media.
Drag the renamed file to that folder.</p>
</li>
</ol>
<h3 id="update-template-to-use-that-font"><a class="header" href="#update-template-to-use-that-font">Update Template to Use That Font</a></h3>
<p>After the font has been added to the media folder, you need to update the
template.</p>
<ol>
<li>
<p>Click <strong>Add</strong> at the top of the main screen, and then select the
note type you want to change with the top left button.</p>
</li>
<li>
<p>Click <strong>Cards</strong>.</p>
</li>
<li>
<p>In the styling section, add the following text to the bottom (after
the last “}” character), replacing “_arial.ttf” with the name of
the file you copied into your media folder:</p>
</li>
</ol>
<pre><code class="language-css">@font-face {
  font-family: myfont;
  src: url("_arial.ttf");
}
</code></pre>
<p>Only change the “arial” part, not the “myfont” part.</p>
<p>After that, you can either change the font for the entire card, or for
individual fields. To change the font for the entire card, simply locate
the font-family: line in the .card section and change the font to
“myfont”. To change the font for only certain fields, please see the
<a href="templates/styling.html#field-styling">Field Styling</a> instructions above.</p>
<p>Please make sure the filenames match exactly. If the file is called
arial.TTF and you write arial.ttf in your card templates, it will not
work.</p>
<h2 id="night-mode"><a class="header" href="#night-mode">Night Mode</a></h2>
<p>You can customize the way templates appear when night mode is enabled in
the preferences screen.</p>
<p>If you wanted a lighter grey background, you could use
something like:</p>
<pre><code class="language-css">.card.nightMode {
  background-color: #555;
}
</code></pre>
<p>If you have a “myclass” style, the following would show the text in
yellow when night mode is enabled:</p>
<pre><code class="language-css">.nightMode .myclass {
  color: yellow;
}
</code></pre>
<h2 id="fading-and-scrolling"><a class="header" href="#fading-and-scrolling">Fading and Scrolling</a></h2>
<p>Anki will automatically scroll to the answer by default. It looks for an
HTML element with id=answer, and scrolls to that. You can place the id
on a different element to adjust the scrolling position, or remove the
id=answer to turn off scrolling.</p>
<p>The question side of a card fades in by default. If you wish to adjust
this delay, you can place the following at the top of your front card
template:</p>
<pre><code class="language-html">&lt;script&gt;
  qFade = 100;
  if (typeof anki !== "undefined") anki.qFade = qFade;
&lt;/script&gt;
</code></pre>
<p>100 (milliseconds) is the default; set to 0 to disable fading.</p>
<h2 id="javascript"><a class="header" href="#javascript">Javascript</a></h2>
<p>As Anki cards are treated like webpages, it is possible to embed some
Javascript on your cards via the card template. For a good reference
please read <a href="https://forums.ankiweb.net/t/card-templates-user-input-101-buttons-keyboard-shortcuts-etc-guide/13756">this post</a>
in the forums.</p>
<p>Because Javascript is an advanced feature and so many things can go
wrong, <strong>Javascript functionality is provided without any support or
warranty</strong>. We can not provide any assistance with writing Javascript,
and can not guarantee any code you have written will continue to work
without modification in future Anki updates. If you are not comfortable
addressing any issues you encounter on your own, then please avoid using
Javascript.</p>
<p>Each Anki client may implement card display differently, so you will
need to test the behaviour across platforms. A number of clients are
implemented by keeping a long running webpage and dynamically updating
parts of it as cards are reviewed, so your Javascript will need to
update sections of the document using things like
document.getElementById() rather than doing things like
document.write().</p>
<p>Functions like window.alert may not be available. Anki will write
javascript errors to the terminal, so you’ll need to <a href="https://addon-docs.ankiweb.net/console-output.html#console-output">view the console</a> to
see them. To debug issues with JavaScript, you can use Chrome’s
<a href="https://addon-docs.ankiweb.net/debugging.html#webviews">inspector</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="checks-and-errors"><a class="header" href="#checks-and-errors">Checks and Errors</a></h1>
<ul>
<li><a href="templates/errors.html#basics">Basics</a></li>
<li><a href="templates/errors.html#specific-issues">Specific Issues</a>
<ul>
<li><a href="templates/errors.html#template-syntax-error">Template Syntax Error</a></li>
<li><a href="templates/errors.html#identical-front-sides">Identical Front Sides</a></li>
<li><a href="templates/errors.html#front-of-card-is-blank">Front of Card is Blank</a></li>
<li><a href="templates/errors.html#no-cloze-filter-on-cloze-note-type">No Cloze Filter on Cloze Note Type</a>
<ul>
<li><a href="templates/errors.html#single-empty-cards">Single empty cards</a></li>
<li><a href="templates/errors.html#all-cloze-cards-empty">All cloze cards empty</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>When you save changes to a note type or export a deck, Anki 2.1.45+ checks
for some common errors. These errors will cause issues later on when anyone studies
the affected cards, so Anki won’t let you proceed before you have fixed them.</p>
<h2 id="basics"><a class="header" href="#basics">Basics</a></h2>
<p>Please see <a href="templates/../getting-started.html#key-concepts">Key Concepts</a> before reading further.</p>
<p>Most of the errors below will require you to modify your note type/card template. To do so:</p>
<ul>
<li>Open the Browse screen, and look at the items on the left.</li>
<li>Locate the note type mentioned in error message. You can use the search bar at the top left
if necessary.</li>
<li>Click on the note type, to show its cards/notes on the right.</li>
<li>Click the Cards… button at the top of the editing area to open the <a href="templates/./intro.html#the-templates-screen">templates screen</a>.</li>
</ul>
<h2 id="specific-issues"><a class="header" href="#specific-issues">Specific Issues</a></h2>
<h3 id="template-syntax-error"><a class="header" href="#template-syntax-error">Template Syntax Error</a></h3>
<p>This kind of error indicates an incorrect usage of the <a href="templates/./fields.html">field replacement</a>
syntax.</p>
<p>You can correct mistakes on the template by opening the card templates screen:</p>
<ul>
<li>On the computer version, edit a problem card, and then click on the Cards… button</li>
<li>On AnkiMobile, while viewing a problem card in the study screen, tap the cog/gear, then Card Template.</li>
</ul>
<p>When you correct a mistake, it will update all cards of that type - you do not need to make the same change for every card that uses the template.</p>
<p>What needs changing will depend on the message you are getting.</p>
<p><strong>Found ‘{{Field}}’, but there is no field called ‘Field’</strong></p>
<p>This indicates your template includes the name of a field that doesn’t exist. To fix the problem, locate the
{{Field}} inside the card template, and remove it.</p>
<p><strong>Missing }} in {{Field</strong></p>
<p>This message is shown when {{ is found in the template without a matching }}. For example, if you have</p>
<pre><code>{{Field
</code></pre>
<p>then this needs to be changed to</p>
<pre><code>{{Field}}
</code></pre>
<p><strong>Missing {{/Field}}</strong></p>
<p>This means Anki found <code>{{#Field}}</code> or <code>{{^Field}}</code> in your card template, without a matching <code>{{/Field}}</code>. Removing <code>{{#Field}}</code> or <code>{{^Field}}</code> from the template will fix the error.</p>
<p><strong>Found {{/One}}, but expected {{/Two}}</strong></p>
<p>Conditional replacements need to be closed in the same order they are opened. For example, the following template is incorrect:</p>
<pre><code>{{#One}}
  {{#Two}}
    {{Three}}
  {{/One}}
{{/Two}}
</code></pre>
<p>To fix the problem, the template should be changed like so:</p>
<pre><code>{{#One}}
  {{#Two}}
    {{Three}}
  {{/Two}}
{{/One}}
</code></pre>
<p><strong>Found {{/Field}}, but missing ‘{{#Field}}’ or ‘{{^Field}}’</strong></p>
<p>Closing tags must be matched by opening tags. For example, the following is invalid, because there is no <code>{{#Two}}</code> or <code>{{^Two}}</code> at the start:</p>
<pre><code>  {{Field}}
{{/Two}}
</code></pre>
<p>It can be fixed by removing the closing tag:</p>
<pre><code>{{Field}}
</code></pre>
<h3 id="identical-front-sides"><a class="header" href="#identical-front-sides">Identical Front Sides</a></h3>
<p>You have Anki configured to create two identical questions for each input. This can
happen if you add a new card type without making any adjustments to it. Identical
cards double your workload, and make Anki’s scheduling less effective.</p>
<p>To fix this, open the <a href="templates/./intro.html#the-templates-screen">templates screen</a>, and
select one of the duplicates at the top. Then use the button on the top right to
remove the selected card type. This will delete all the duplicate cards/notes that
were using the card type as well.</p>
<h3 id="front-of-card-is-blank"><a class="header" href="#front-of-card-is-blank">Front of Card is Blank</a></h3>
<div id="no-field-replacement-on-front-side" />
<p>Anki displays cards by combining the fields you’ve entered with a
template that says which fields should appear on the front and back of your cards. If you receive a
message that a card has a blank front, it means either none of the fields included on your front template have any text in them, or you have fields that have text,
but none are included on the front template.
You can fix this problem by editing the card on the computer version, clicking on <strong>Cards…</strong>,
and checking to make sure at least one field with some text on it is included on the front template.
You can add extra fields with the Add Field button.</p>
<p>If you are using the Cloze note type,
please make sure you’ve included one or more cloze deletions in the Text field, e.g. {{c1::some cloze-deleted text}}.</p>
<p>If you’re using the type-in-the-answer functionality, please make sure you’ve included another field on the front side as well.</p>
<h3 id="no-cloze-filter-on-cloze-note-type"><a class="header" href="#no-cloze-filter-on-cloze-note-type">No Cloze Filter on Cloze Note Type</a></h3>
<div id="no-cloze-filter-on-cloze-notetype" />
<p>A Cloze note type’s front and back templates should have a <a href="templates/../editing.html#cloze-deletion">cloze</a>
filter. If one is missing, you will need to add it back so that Anki can create cloze cards
correctly.</p>
<h4 id="single-empty-cards"><a class="header" href="#single-empty-cards">Single empty cards</a></h4>
<p>When making clozes, each cloze number is turned into a separate card. For example, the following will create three cards:</p>
<pre><code>{{c1::This}} is a {{c2::sample}} {{c3::sentence}}.
</code></pre>
<p>If you later edit the text, and either remove or change a cloze number, the previously created card may become blank. For example:</p>
<pre><code>{{c1::This}} is a {{c2::sample}}
</code></pre>
<p>and</p>
<pre><code>{{c1::This}} is a {{c2::sample}} {{c1::sentence}}.
</code></pre>
<p>are both changes that would make card 3 blank. When you view card 3, you’ll see a message indicating that the card is blank, and can be cleaned up with the Empty Cards function. You can access that function via the Tools menu of the computer version’s main window, and use it to remove blank cards. Please check the reported empty cards first, and if in doubt, create a backup with the File&gt;Export menu item before proceeding.</p>
<h4 id="all-cloze-cards-empty"><a class="header" href="#all-cloze-cards-empty">All cloze cards empty</a></h4>
<p>If you accidentally modify your card template, it may prevent any cloze deletions from appearing. If that has happened, please edit one such problem card, and note down the name of the first field - it is usually called “Text”. Then, please:</p>
<ul>
<li>
<p>Click on the Cards… button</p>
</li>
<li>
<p>Replace the front text with</p>
<pre><code>{{cloze:Text}}
</code></pre>
</li>
<li>
<p>Replace the back text with the same.</p>
</li>
</ul>
<p>If your field was called something other than Text, replace Text with the name of the field.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="preferences"><a class="header" href="#preferences">Preferences</a></h1>
<ul>
<li><a href="preferences.html#appearance">Appearance</a>
<ul>
<li><a href="preferences.html#general">General</a></li>
<li><a href="preferences.html#user-interface">User Interface</a></li>
<li><a href="preferences.html#distractions">Distractions</a></li>
</ul>
</li>
<li><a href="preferences.html#review">Review</a>
<ul>
<li><a href="preferences.html#scheduler">Scheduler</a></li>
<li><a href="preferences.html#review-1">Review</a></li>
</ul>
</li>
<li><a href="preferences.html#editing">Editing</a>
<ul>
<li><a href="preferences.html#editing-1">Editing</a></li>
<li><a href="preferences.html#browsing">Browsing</a></li>
</ul>
</li>
<li><a href="preferences.html#syncing">Syncing</a>
<ul>
<li><a href="preferences.html#synchronisation">Synchronisation</a></li>
<li><a href="preferences.html#ankiweb-account">AnkiWeb Account</a></li>
<li><a href="preferences.html#self-hosted-sync-server">Self-hosted Sync Server</a></li>
</ul>
</li>
<li><a href="preferences.html#backups">Backups</a></li>
</ul>
<p>The preferences are available from the Tools menu on Windows/Linux, or
the Anki menu on a Mac.</p>
<h2 id="appearance"><a class="header" href="#appearance">Appearance</a></h2>
<h3 id="general"><a class="header" href="#general">General</a></h3>
<p><strong>Language</strong><br />
Change your display language. You can help to improve translations <a href="https://translating.ankiweb.net/">here</a></p>
<h3 id="user-interface"><a class="header" href="#user-interface">User Interface</a></h3>
<p><strong>Theme</strong><br />
Dark (night) mode will make Anki’s interface dark, and will cause cards to be shown as white text on a
black background. Some card templates may need to be modified to work
properly with this option enabled - please see <a href="templates/styling.html#night-mode">night mode styling</a> for more information.</p>
<p>From 2.1.50+ there is an option to switch to day or night mode automatically.</p>
<p><strong>User interface size</strong><br />
If you find that the interface elements are too small for you, you can
try to increase this setting.</p>
<p><strong>Reset Windows Sizes</strong><br />
This will reset all windows sizes and locations to the default settings.</p>
<p><strong>Video driver</strong><br />
Anki’s libraries need a video driver to draw content on the screen.
Due to different hardware and software configurations, the driver that
works best on your machine may vary. Software tends to be slower, but will
work on some systems where the other options do not.</p>
<p>Note: If you’re on Windows, please check <a href="./platform/windows/display-issues.html">this page</a> as well.</p>
<h3 id="distractions"><a class="header" href="#distractions">Distractions</a></h3>
<p>These options allow you to remove some unnecessary elements from the screen during reviews. You can:</p>
<ul>
<li>Hide the top and bottom bar during reviews.</li>
<li>Enable the “minimalist” mode, making the interface more compact/less fancy.</li>
<li>Reduce motion, to disable some transitions/animations.</li>
<li>Switching between native styling and the Anki theme (only on Mac/Linux).</li>
</ul>
<h2 id="review"><a class="header" href="#review">Review</a></h2>
<h3 id="scheduler"><a class="header" href="#scheduler">Scheduler</a></h3>
<p><strong>Next day starts at</strong><br />
Controls when Anki should start showing the next day’s cards. The default
setting of 4AM ensures that if you’re studying around midnight, you won’t have
two days’ worth of cards shown to you in one session. If you stay up very late
or wake up very early, you may want to adjust this to a time you’re usually
sleeping. Note that the start of the next day is relative to your current timezone.
Also note that any cards that cross a day boundary <a href="./deck-options.html#day-boundaries">will appear at the start of
the day they are scheduled for</a>, just like review cards do.</p>
<p><strong>Learn ahead limit</strong><br />
Tells Anki how to behave when there is nothing left to study in the current deck
but cards in learning. The default setting of 20 minutes tells Anki that cards
should be shown early if they have a delay of less than 20 minutes and there’s
nothing else to do. If you set this to 0, Anki will always wait the full delay,
showing the congratulations screen until the remaining cards are ready to be
reviewed.</p>
<p><strong>Timebox time limit</strong><br />
Timeboxing is a technique to help you focus by dividing a longer activity (such
as a 30 minute study session) into smaller blocks. If you set the timebox time
limit to a non-zero number of minutes, Anki will periodically show you how many
cards you’ve managed to study during the prescribed time limit.</p>
<h3 id="review-1"><a class="header" href="#review-1">Review</a></h3>
<p><strong>Show play buttons on cards with audio</strong><br />
Whether a clickable (re)play button will be shown in the study screen
for cards with audio.</p>
<p><strong>Interrupt current audio when answering</strong><br />
Whether a currently playing audio file should be stopped when answering
a card.</p>
<p><strong>Show remaining card count</strong><br />
Disable this option to hide the card count at the bottom of the screen.</p>
<p><strong>Show next review time above answer buttons</strong><br />
Useful to know how far in the future your cards are being pushed.</p>
<p><strong>Spacebar (or enter) also answers card</strong><br />
Defines whether a press on <kbd>Space</kbd> or <kbd>Enter</kbd> answers cards.</p>
<h2 id="editing"><a class="header" href="#editing">Editing</a></h2>
<h3 id="editing-1"><a class="header" href="#editing-1">Editing</a></h3>
<p><strong>Paste clipboard images as PNG</strong><br />
By default Anki pastes images on the clipboard as JPG files, to save disk space.
You can use the option to paste as PNG images instead. PNG images support
transparent backgrounds and are lossless, but they usually result in much larger
file sizes.</p>
<p><strong>Paste without Shift strips formatting</strong><br />
By default, formatting like bold and colors are kept when pasting,
unless the <kbd>Shift</kbd> key is held down. This option reverses the behaviour.</p>
<p><strong>Default deck</strong><br />
Controls how note types and decks interact. The default of “When adding, default
to current deck” means that Anki saves the last-used note type for each deck and
selects it again then next time you choose the deck (and, in addition, will
start with the current deck selected when choosing Add from anywhere). The other
option, “Change deck depending on note type,” saves the last-used deck for each
note type (and opens the add window to the last-used note type when you choose
Add). This may be more convenient if you always use a single note type for each
deck.</p>
<p>The last used deck/note type is updated when you add a card. If you change the deck
and close the add window without adding a card, it won’t be saved.</p>
<h3 id="browsing"><a class="header" href="#browsing">Browsing</a></h3>
<p><strong>Default search text</strong><br />
Allows you to customize the starting search text in the browser (eg, to start
with “deck:current”).</p>
<p><strong>Ignore accents in search (slower)</strong><br />
When enabled, simple text searches automatically <a href="./searching.html#ignoring-accentscombining-characters">ignore accents</a>.</p>
<h2 id="syncing"><a class="header" href="#syncing">Syncing</a></h2>
<p>This tab contains options related to syncing with AnkiWeb.</p>
<h3 id="synchronisation"><a class="header" href="#synchronisation">Synchronisation</a></h3>
<p><strong>Synchronize audio and images too</strong><br />
When enabled, media will also be synced with AnkiWeb.</p>
<p><strong>Automatically sync on profile open/close</strong><br />
Disable this if you don’t want an automatic sync with AnkiWeb when opening / closing a <a href="./profiles.html">profile</a>.</p>
<p><strong>Periodically sync media</strong></p>
<p><strong>On next sync, force changes on one direction</strong><br />
When this option is enabled, the next sync will
ask you whether you wish to upload or download. This is useful if
you have made some changes accidentally, and wish to overwrite them
with an older version that is on AnkiWeb.</p>
<h3 id="ankiweb-account"><a class="header" href="#ankiweb-account">AnkiWeb Account</a></h3>
<p>When logged in, clicking on Log Out will log you out.</p>
<h3 id="self-hosted-sync-server"><a class="header" href="#self-hosted-sync-server">Self-hosted Sync Server</a></h3>
<p>For info on the custom sync server option, see <a href="./sync-server.html">this section</a>.</p>
<h2 id="backups"><a class="header" href="#backups">Backups</a></h2>
<p>Please see <a href="backups.html#automatic-backups">this</a> section of the manual.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deck-options"><a class="header" href="#deck-options">Deck Options</a></h1>
<ul>
<li><a href="deck-options.html#presets">Presets</a></li>
<li><a href="deck-options.html#subdecks">Subdecks</a></li>
<li><a href="deck-options.html#daily-limits">Daily Limits</a>
<ul>
<li><a href="deck-options.html#new-cardsday">New Cards/Day</a></li>
<li><a href="deck-options.html#maximum-reviewsday">Maximum Reviews/Day</a></li>
<li><a href="deck-options.html#per-deck-daily-limits">Per-Deck Daily Limits</a></li>
<li><a href="deck-options.html#new-cards-ignore-review-limit">New Cards Ignore Review Limit</a></li>
<li><a href="deck-options.html#limits-start-from-top">Limits Start From Top</a></li>
</ul>
</li>
<li><a href="deck-options.html#new-cards">New Cards</a>
<ul>
<li><a href="deck-options.html#learning-steps">Learning Steps</a>
<ul>
<li><a href="deck-options.html#day-boundaries">Day Boundaries</a></li>
</ul>
</li>
<li><a href="deck-options.html#graduating-interval">Graduating Interval</a></li>
<li><a href="deck-options.html#easy-interval">Easy Interval</a></li>
<li><a href="deck-options.html#insertion-order">Insertion Order</a></li>
</ul>
</li>
<li><a href="deck-options.html#lapses">Lapses</a>
<ul>
<li><a href="deck-options.html#relearning-steps">Relearning Steps</a></li>
<li><a href="deck-options.html#minimum-interval">Minimum Interval</a></li>
<li><a href="deck-options.html#leeches">Leeches</a></li>
</ul>
</li>
<li><a href="deck-options.html#display-order">Display Order</a>
<ul>
<li><a href="deck-options.html#new-card-gather-order">New Card Gather Order</a></li>
<li><a href="deck-options.html#new-card-sort-order">New Card Sort Order</a></li>
<li><a href="deck-options.html#newreview-order">New/Review Order</a></li>
<li><a href="deck-options.html#interday-learningreview-order">Interday Learning/Review Order</a></li>
<li><a href="deck-options.html#review-sort-order">Review Sort Order</a></li>
</ul>
</li>
<li><a href="deck-options.html#burying">Burying</a></li>
<li><a href="deck-options.html#audio">Audio</a></li>
<li><a href="deck-options.html#timers">Timers</a>
<ul>
<li><a href="deck-options.html#internal-timer">Internal Timer</a></li>
<li><a href="deck-options.html#on-screen-timer">On-screen Timer</a></li>
</ul>
</li>
<li><a href="deck-options.html#auto-advance">Auto Advance</a></li>
<li><a href="deck-options.html#easy-days">Easy Days</a></li>
<li><a href="deck-options.html#fsrs">FSRS</a>
<ul>
<li><a href="deck-options.html#a-short-guide">A Short Guide</a></li>
<li><a href="deck-options.html#desired-retention">Desired Retention</a></li>
<li><a href="deck-options.html#fsrs-parameters">FSRS Parameters</a></li>
<li><a href="deck-options.html#reschedule-cards-on-change">Reschedule Cards on Change</a></li>
<li><a href="deck-options.html#compute-minimum-recommended-retention">Compute Minimum Recommended Retention</a></li>
<li><a href="deck-options.html#the-simulator">The Simulator</a>
<ul>
<li><a href="deck-options.html#learning-and-relearning-steps">Learning and Relearning Steps</a></li>
<li><a href="deck-options.html#add-on-compatibility">Add-On Compatibility</a></li>
<li><a href="deck-options.html#more">More</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="deck-options.html#advanced">Advanced</a>
<ul>
<li><a href="deck-options.html#maximum-interval">Maximum Interval</a></li>
<li><a href="deck-options.html#historical-retention">Historical Retention</a></li>
<li><a href="deck-options.html#ignore-cards-reviewed-before">Ignore Cards Reviewed Before</a></li>
<li><a href="deck-options.html#starting-ease">Starting Ease</a></li>
<li><a href="deck-options.html#easy-bonus">Easy Bonus</a></li>
<li><a href="deck-options.html#interval-modifier">Interval Modifier</a></li>
<li><a href="deck-options.html#hard-interval">Hard Interval</a></li>
<li><a href="deck-options.html#new-interval">New Interval</a></li>
<li><a href="deck-options.html#custom-scheduling">Custom Scheduling</a></li>
</ul>
</li>
</ul>
<p>Deck options primarily control the way Anki schedules cards. It is recommended
that you spend a few weeks with the defaults to get a feel for how Anki works
before you start adjusting the options. Please make sure you understand the options
before changing them, as mistakes can reduce Anki’s effectiveness.</p>
<p>On your computer, do any of the following to open deck options:</p>
<ul>
<li>Click the gear icon on the Decks screen.</li>
<li>Select a deck on the Decks screen, and then click <strong>Options</strong>
at the bottom of the screen.</li>
<li>Click <strong>More &gt; Options</strong> while in review mode.</li>
<li>Press <kbd>O</kbd> while in review mode.</li>
</ul>
<p>Here are some community posts about deck options that have been contributed in the past:</p>
<ul>
<li><a href="https://forums.ankiweb.net/t/deck-options-explained/213">Deck Options Explained</a></li>
<li><a href="https://forums.ankiweb.net/t/deck-options-in-a-mental-map/15757">Deck Options in a Mental Map</a></li>
</ul>
<h2 id="presets"><a class="header" href="#presets">Presets</a></h2>
<p>Anki allows you to share options between different decks, to make
it easier to update options in many decks at once. To do this, options are
grouped into <em>presets</em>. If you change an option in a preset, the change is applied to all decks that use the same preset. All newly created decks use the “Default” preset.</p>
<p>To change the options in one deck but not other decks, click the
arrow icon in the top right of the Deck Options window. You can do the following:</p>
<ul>
<li><strong>Save</strong>: Save all modifications you’ve made in deck options.</li>
<li><strong>Add Preset</strong>: Add a new preset for this deck, with the default options.</li>
<li><strong>Clone</strong>: Clone your current preset, which is useful if you
want to modify some of the options but keep the rest as they are.</li>
<li><strong>Rename</strong>: Change the name of the current preset.</li>
<li><strong>Delete</strong>: Delete the current preset. This will make your next sync
a <a href="./syncing.html#conflicts">one-way sync</a>.</li>
<li><strong>Save to All Subdecks</strong>: Like <strong>Save</strong>, but also assigns the selected preset to all
subdecks of the currently selected deck.</li>
</ul>
<p>Deck options are not retroactive. For example, if you change an option that
controls the delay after failing a card, cards that you failed before
changing this option will still have the old delay, not the new one.</p>
<h2 id="subdecks"><a class="header" href="#subdecks">Subdecks</a></h2>
<p>If your deck has subdecks, and you wish one or more subdecks to have different settings to the parent decks, you can assign those subdecks to different presets.
When Anki shows a card, it will check which subdeck the card is in, and use the options
for that deck. There are two exceptions:</p>
<ul>
<li>The <strong>New cards/day</strong> and <strong>Maximum reviews/day</strong> <a href="deck-options.html#daily-limits">limits</a> of a subdeck affect the number of cards that can be gathered from that subdeck. But the total number of cards you see during your study session is controlled by the limits of the deck you select to study.</li>
<li>The <a href="deck-options.html#display-order">display order</a> options are taken from the
deck you select to study, not the deck of the current card.</li>
</ul>
<p>For example, let’s say you have this collection:</p>
<pre><code>- Deck A (Preset 1)
  - Deck A::Subdeck B (Preset 2)
</code></pre>
<p>Preset 1 and Preset 2 are identical, with two exceptions:</p>
<ul>
<li>Preset 1:
<ul>
<li><strong>Learning steps</strong>: <code>1m 10m</code></li>
<li><strong>New/review order</strong>: <code>Mix with reviews</code></li>
</ul>
</li>
<li>Preset 2:
<ul>
<li><strong>Learning steps</strong>: <code>20m 2h</code></li>
<li><strong>New/review order</strong>: <code>Show after reviews</code></li>
</ul>
</li>
</ul>
<p>If you choose to study Subdeck B:</p>
<ul>
<li>Learning steps for all new cards will be <code>20m 2h</code> (Preset 2 applies).</li>
<li>All new cards will be shown after reviews (Preset 2 applies).</li>
</ul>
<p>If you choose to study Deck A:</p>
<ul>
<li>Learning steps for new cards in Deck A will be <code>1m 10m</code> (Preset 1 applies).</li>
<li>Learning steps for new cards in Subdeck B will be <code>20m 2h</code> (Preset 2 applies).</li>
<li>All new cards will be mixed with reviews (Preset 1 applies).</li>
</ul>
<h2 id="daily-limits"><a class="header" href="#daily-limits">Daily Limits</a></h2>
<h3 id="new-cardsday"><a class="header" href="#new-cardsday">New Cards/Day</a></h3>
<p>This option controls how many new cards can be introduced each day you open the program. If you
study fewer than the limit, or miss a day, the next day the counts will be back
to their original setting: you won’t be given more cards than your limit allows.</p>
<p>When studying a deck that has subdecks inside it, the limits set on each subdeck control the maximum number of cards drawn from that particular deck. The selected deck’s limits control the total number of cards that will be shown.</p>
<p>For earlier versions, see <a href="https://faqs.ankiweb.net/the-anki-2.1-scheduler.html">this FAQ page</a>.</p>
<p>Studying new cards will temporarily increase the number of reviews you need to
do a day, as newly-learned material needs to be repeated a number of times
before the delay between repetitions can increase appreciably. If you are
consistently learning 20 new cards a day, you can expect your daily reviews to
be roughly about 200 cards/day. You can decrease the reviews required by
introducing fewer new cards each day until your review burden decreases. More than one Anki user has excitedly studied
hundreds of new cards over their first few days of using the program, and then has
become overwhelmed by the reviews required.</p>
<h3 id="maximum-reviewsday"><a class="header" href="#maximum-reviewsday">Maximum Reviews/Day</a></h3>
<p>Allows you to set an upper limit on the number of review cards to show each day.
When this limit is reached, Anki will not show any more review cards for the
day, even if there are more waiting. If you study consistently, this setting can
help to smooth out occasional peaks in due card counts, and can save you from a
heart attack when returning to Anki after taking a week off. When reviews have been
hidden due to this option, a message will appear in the congratulations screen,
suggesting you consider increasing the limit if you have time.</p>
<p>When studying a deck that has subdecks inside it, the review limit behaves similarly to the new card limit.</p>
<p>Anki includes any learning cards that have <a href="./preferences.html#scheduler">crossed the day boundary</a> (interday learning cards) in the review count,
so those learning cards will be subject to the review limit.</p>
<h3 id="per-deck-daily-limits"><a class="header" href="#per-deck-daily-limits">Per-Deck Daily Limits</a></h3>
<p>It is possible to use the same preset for different decks, with customized limits for each of them. This eliminates the need to create cloned presets just for that purpose, and makes it easier to set custom limits on subdecks.</p>
<p>Anki provides three options for daily limits:</p>
<ul>
<li><strong>Preset</strong>: applies to all the decks using a preset.</li>
<li><strong>This deck</strong>: specific to a particular deck.</li>
<li><strong>Today only</strong>: specific to a particular deck, and temporary.</li>
</ul>
<h3 id="new-cards-ignore-review-limit"><a class="header" href="#new-cards-ignore-review-limit">New Cards Ignore Review Limit</a></h3>
<p>By default, the review limit also applies to new cards, and no new cards will be shown when the review limit has been reached. If this option is enabled, new cards will be shown regardless of the review limit.</p>
<p>If you have a backlog of overdue review cards, it is recommended that you stop introducing new cards until you
catch up with that backlog. Continuing to introduce new cards when you’re already behind can
make the backlog worse.</p>
<h3 id="limits-start-from-top"><a class="header" href="#limits-start-from-top">Limits Start From Top</a></h3>
<p>By default, the daily limits of a higher-level deck do not apply if you select one of its subdecks. A parent deck can have a new card limit of 10 cards/day and its subdecks can have a new card limit of 20 cards/day. The limits set on parent deck do not affect the number of new cards you can study from its subdeck.</p>
<p>When this option is enabled, the limits set on higher-level decks also apply to their subdecks when a subdeck is selected. In the previous example, you will be able to study only 10 new cards from the subdecks instead of 20 new cards.</p>
<p>This option can be useful if you wish to study individual subdecks, while enforcing a total limit on cards all the subdecks.</p>
<h2 id="new-cards"><a class="header" href="#new-cards">New Cards</a></h2>
<p>The options here only affect new cards and
<a href="getting-started.html#card-states">learning cards</a>. Once a card
has graduated (that is, gone through all the learning steps), the options in this section no longer apply to the card.</p>
<h3 id="learning-steps"><a class="header" href="#learning-steps">Learning Steps</a></h3>
<p>Controls the number of learning repetitions, and the delay
between them. One or more delays, separated by spaces must be entered.
Each time you click <strong>Good</strong> during review, the card moves to the next step. Each time you click <strong>Again</strong>, the card goes back to the first step.</p>
<p>For example, let’s say that your learning steps are <code>1m 10m 1d</code>.</p>
<ul>
<li>When you click <strong>Again</strong>, the card goes through the first step, and is shown
again 1 minute later.</li>
<li>When you click <strong>Good</strong> on a new card or after the 1 minute step, it moves
to the next step, and is shown again in 10 minutes.</li>
<li>When you click <strong>Good</strong> on a card after the 10 minute step, it is delayed
until the next day.</li>
<li>When you click <strong>Good</strong> on the card the next day, it graduates and
becomes a review card. The card is shown again after the delay configured by the
<em>graduating interval</em>.</li>
</ul>
<p>The <strong>Hard</strong> button works differently depending on which step you’re on.</p>
<ul>
<li>When you’re on the first step, the <strong>Hard</strong> button shows a delay of <code>6m</code>. The <code>6m</code> delay is the average of first two steps: <code>1m</code> and <code>10m</code>.
<ul>
<li>Exception: When there’s only one learning step, the <strong>Hard</strong> button shows a delay 1.5 times that step. This delay is at most 1 day longer than the learning step.</li>
</ul>
</li>
<li>When you’re on any other step, the <strong>Hard</strong> button repeats that step.</li>
</ul>
<p>If there’s nothing else to study, Anki will show learning cards up to 20 minutes
early by default. To turn this off or change the amount of time to look ahead, see <a href="preferences.html">Preferences</a>.</p>
<h4 id="day-boundaries"><a class="header" href="#day-boundaries">Day Boundaries</a></h4>
<p>Anki treats small steps and steps that <a href="./preferences.html#review">cross a day boundary</a> differently.
With small steps, the cards are shown as soon as the delay has passed,
in preference to review cards and new cards. This is done so that
you can answer the card as closely to your requested delay as possible.
In contrast, if the step crosses a day boundary, the delay is automatically converted to days. For example, if next day starts after 5 hours and the delay is 6 hours, Anki converts the delay to 1 day.</p>
<h3 id="graduating-interval"><a class="header" href="#graduating-interval">Graduating Interval</a></h3>
<p>The number of days to wait before showing a card again, after the Good button is used on the final learning step. This means that it is the first interval
after the learning card graduates. Please see the example
from <a href="deck-options.html#learning-steps">earlier in this section</a>.</p>
<h3 id="easy-interval"><a class="header" href="#easy-interval">Easy Interval</a></h3>
<p>The number of days to wait before showing a card again, after the Easy button is used on it.</p>
<p>The <strong>Easy</strong> button turns learning cards into a review cards regardless of which step you’re on,
and assigns them the delay you have configured in this option. Easy interval should always be at least
as long as the graduating interval, and typically a few days longer.</p>
<h3 id="insertion-order"><a class="header" href="#insertion-order">Insertion Order</a></h3>
<p>Controls whether Anki should add new cards into the deck randomly, or sequentially.
When you change this option, Anki will re-sort the decks in the current preset.</p>
<p>On recent Anki versions, you should leave this option set to <code>Sequential</code>, and adjust the <a href="deck-options.html#display-order">display order</a> instead.</p>
<h2 id="lapses"><a class="header" href="#lapses">Lapses</a></h2>
<p>When you click <strong>Again</strong> on a review card, it is called a <em>lapse</em>. The options listed here affect such lapsed cards.</p>
<h3 id="relearning-steps"><a class="header" href="#relearning-steps">Relearning Steps</a></h3>
<p>The same as learning steps, but for lapsed cards. When you fail a review card
(press <strong>Again</strong>), the card goes through <em>relearning steps</em>, before it becomes a review card again.</p>
<p>If you leave the steps blank, the card will skip relearning, and will be assigned
a new interval of 1 day by default.</p>
<h3 id="minimum-interval"><a class="header" href="#minimum-interval">Minimum Interval</a></h3>
<p>Specifies a minimum number of days a card should wait after it finishes relearning.
The default is one day, meaning once relearning is finished, it will be shown again
the next day.</p>
<h3 id="leeches"><a class="header" href="#leeches">Leeches</a></h3>
<p>Control the way Anki handles leeches. For details, see the <a href="leeches.html">leeches</a>
section.</p>
<h2 id="display-order-1"><a class="header" href="#display-order-1">Display Order</a></h2>
<p>The options in this section are taken from the deck you select to study, not
the deck of the currently displayed card.</p>
<p>Some further information about display order is available in the <a href="studying.html#display-order">studying section</a>.</p>
<h3 id="new-card-gather-order"><a class="header" href="#new-card-gather-order">New Card Gather Order</a></h3>
<p>Controls how Anki gathers new cards from a deck. The options are:</p>
<ul>
<li>
<p><strong>Deck</strong>: Gathers cards from each subdeck in order, starting from the top. Cards from
each subdeck are gathered in ascending position. If the daily limit of the selected
deck is reached, gathering may stop before all subdecks have been checked. This
order is fastest in large collections, and allows you to prioritize subdecks that
are closer to the top.</p>
<p>Decks/subdecks are always ordered alphabetically, so you can give them a numeric prefix like
001 to control the order they appear in. You can also use <code>_</code> and <code>~</code> as a
prefix to place items at the top or bottom.</p>
<p>Although position order depends initially on the insertion order option, you can manually
<a href="./browsing.html#cards">reposition</a> cards in different
ways.</p>
</li>
<li>
<p><strong>Deck, then random notes</strong>: Gathers cards from each subdeck in order, starting from the top.
Cards from each subdeck are gathered from randomly selected notes.</p>
</li>
<li>
<p><strong>Ascending position</strong>: Gathers cards by ascending position (due #), which is typically the oldest-added first.</p>
</li>
<li>
<p><strong>Descending position</strong>: Gathers cards by descending position (due #), which is typically the latest-added first.</p>
</li>
<li>
<p><strong>Random notes</strong>: Gathers cards from randomly selected notes.</p>
</li>
<li>
<p><strong>Random cards</strong>: Gathers cards in a random order.</p>
</li>
</ul>
<h3 id="new-card-sort-order"><a class="header" href="#new-card-sort-order">New Card Sort Order</a></h3>
<p>Controls how the new cards are sorted after they have been gathered. The options are:</p>
<ul>
<li>
<p><strong>Card type, then order gathered</strong>: Shows cards in order of card type number. Cards of each card type number are shown in the order they were gathered. If you have sibling burying disabled, this ensures all front→back cards are seen before any back→front cards.
This order is useful if you don’t want sibling cards to appear too close to each other.</p>
</li>
<li>
<p><strong>Order gathered</strong>: Shows cards exactly as they were gathered. If sibling burying is disabled, this typically results in all sibling cards appearing one after the other.</p>
</li>
<li>
<p><strong>Card type, then random</strong>: Shows cards in order of card type number, but shuffles the cards of each card type number.
This order is useful if you don’t want sibling cards to appear too close to each other, but still want the cards to appear in a random order.</p>
</li>
<li>
<p><strong>Random note, then card type</strong>: Picks notes at random, then shows all of their siblings in order.</p>
</li>
<li>
<p><strong>Random</strong>: Fully shuffles the gathered cards.</p>
</li>
</ul>
<h3 id="newreview-order"><a class="header" href="#newreview-order">New/Review Order</a></h3>
<p>Whether new cards should be mixed in with review cards, shown before them, or shown after them.</p>
<h3 id="interday-learningreview-order"><a class="header" href="#interday-learningreview-order">Interday Learning/Review Order</a></h3>
<p>Whether (re)learning cards that cross a day boundary should be mixed in with review cards,
shown before them, or shown after them. Because learning cards tend to be harder than
review cards, some users prefer to see them at the end (getting the easy stuff done
first), or at the start (allowing more time to review forgotten ones).</p>
<h3 id="review-sort-order"><a class="header" href="#review-sort-order">Review Sort Order</a></h3>
<p>Controls how the review cards are sorted. The options are:</p>
<ul>
<li>
<p><strong>Due date, then random</strong>: The default order prioritizes cards that have been waiting
longer, and it’s the recommended order when you are up to date, or when you only have a small
backlog. If you have taken an extended break or have fallen behind in your reviews,
you may want to consider changing the sort order temporarily.</p>
</li>
<li>
<p><strong>Due date, then deck</strong>: This also prioritizes cards that have been waiting
longer, and then shows review cards for each subdeck in turn.</p>
</li>
<li>
<p><strong>Deck, then due date</strong>: Shows review cards for each
subdeck in turn. This order is generally not recommended, as having material appear
consistently in the same order makes it easier to guess the answer based on context,
and leads to weaker memories.</p>
</li>
<li>
<p><strong>Ascending intervals</strong>: Shows cards with shorter intervals first.</p>
</li>
<li>
<p><strong>Descending intervals</strong>: Shows cards with longer intervals first.</p>
</li>
<li>
<p><strong>Ascending ease</strong>: Shows more difficult cards first.</p>
</li>
<li>
<p><strong>Descending ease</strong>: Shows less difficult cards first.</p>
</li>
<li>
<p><strong>Relative overdueness</strong>: Shows cards that you’re more likely to have forgotten first. This is generally recommended if
you have a large backlog that may take some time to get through, and you want to
reduce the chances of forgetting more cards.</p>
<p>When using the SM-2 algorithm, overdueness is determined by comparing how
overdue cards are, and how long their interval is. For example, a card with a
current interval of 5 days that is overdue by 2 days, will display before a card
with a current interval of 10 days that is overdue by 3 days.</p>
<p>When FSRS is enabled, this sort order is removed; the FSRS equivalent is <strong>Ascending retrievability</strong>,
which is calculated based on each card’s retrievability (probability of recall) and the desired retention in the preset.</p>
</li>
</ul>
<h2 id="burying"><a class="header" href="#burying">Burying</a></h2>
<p>When Anki gathers cards, it first gathers intraday learning cards, then interday learning cards, then review cards, and finally new cards. This affects how burying works:</p>
<ul>
<li>If you have all burying options enabled, the sibling that comes earliest in that list will be shown. For example, a review card will be shown in preference to a new card.</li>
<li>Siblings later in the list can not bury earlier card types. For example, if you disable burying of new cards, and study a new card, it will not bury any interday learning or review cards, and you may see both a review sibling and new sibling in the same session.</li>
</ul>
<p>The options are:</p>
<ul>
<li><strong>Bury new siblings</strong>: Whether other new cards of the same note (e.g. reverse cards, adjacent cloze deletions) will be delayed until the next day.</li>
<li><strong>Bury review siblings</strong>: Whether other review cards of the same note will be delayed until the next day.</li>
<li><strong>Bury interday learning siblings</strong>: Whether other learning cards of the same note that crossed a day boundary will be delayed until the next day.</li>
</ul>
<p>For more info about burying cards, please see <a href="./studying.html#siblings-and-burying">this section</a> of the manual.</p>
<h2 id="audio"><a class="header" href="#audio">Audio</a></h2>
<ul>
<li>
<p><strong>Don’t play audio automatically</strong>: By default, Anki automatically plays any audio you have on
cards. If you turn on this option Anki will not play audio until you press the replay audio key, <kbd>R</kbd> or <kbd>F5</kbd>.</p>
</li>
<li>
<p><strong>Skip question when replaying answer</strong>: Controls whether audio from
the question side is played when you use replay action on the answer side. Note that, Anki <a href="./templates/fields.html#special-fields">does not automatically play</a> audio from the <code>{{FrontSide}}</code> field. This option does not influence the behaviour of automatic play.</p>
</li>
</ul>
<h2 id="timers"><a class="header" href="#timers">Timers</a></h2>
<p><a id="timer"></a></p>
<p>Anki monitors how long it takes you to answer each card, so that it
can show you how long was spent studying each day. The time taken does
not influence scheduling.</p>
<h3 id="internal-timer"><a class="header" href="#internal-timer">Internal Timer</a></h3>
<ul>
<li>Maximum answer seconds: The default limit is 60 seconds. If you take
longer than that, Anki assumes you have walked away from your computer
or have been distracted, and caps the recorded time at 60 seconds, so
that you don’t end up with inaccurate statistics.</li>
<li>This internal timer runs from when the question is shown until you press a button to grade your answer. If you consistently
spend longer than 60 seconds on a card,
you may want to consider either raising
this limit, or even better, making your cards simpler.</li>
</ul>
<h3 id="on-screen-timer"><a class="header" href="#on-screen-timer">On-screen Timer</a></h3>
<ul>
<li>Show on-screen timer: On the Study screen, show a timer that counts the time
you’re taking to study each card. (This timer will stop when it reaches the Maximum answer seconds set for the internal timer.)</li>
<li>Stop on-screen timer on answer: Whether the on-screen timer should continue running from when you show
the answer until you press a button to grade your answer. This option does not impact the time that is recorded for your statistics.</li>
</ul>
<h2 id="auto-advance"><a class="header" href="#auto-advance">Auto Advance</a></h2>
<p>Requires Anki 23.12 or later. Auto Advance allows you to automatically take some actions after a certain amount of time has passed. To use it, you must first set a non-zero
time in <strong>Seconds to show question for</strong> and/or <strong>Seconds to show answer for</strong>. Then, in the
study screen, use the Auto Advance action from the <strong>More</strong> button to start advancing.</p>
<h2 id="easy-days"><a class="header" href="#easy-days">Easy Days</a></h2>
<p>If you want to spend less time on Anki on some days of the week, such as Sundays, this feature can help you do that.
After the interval is calculated, it will be adjusted by a small amount to change the due date.
Note that setting all days to “Reduced” or “Minimum” will result in the same workload as setting all days to “Normal”.
This feature works with both FSRS and the legacy SM-2 algorithm.
Changing your Easy Days configuration doesn’t retroactively change existing intervals and will only affect future intervals. Simply put, you will not see immediate changes in the number of due cards.</p>
<h2 id="fsrs"><a class="header" href="#fsrs">FSRS</a></h2>
<p>The <a href="https://github.com/open-spaced-repetition/fsrs4anki/wiki/ABC-of-FSRS">Free Spaced Repetition Scheduler (FSRS)</a> is an alternative to Anki’s legacy
SuperMemo 2 (SM-2) algorithm. By more accurately determining how much information you are likely
to forget, it can help you remember more material in the same amount of time.</p>
<p>When you turn on FSRS, some new options
become available, and SM-2 specific options, such as <strong>Graduating interval</strong>,
<strong>Easy bonus</strong>, etc. are hidden. This option is shared by all presets.</p>
<p><strong>Before Enabling</strong></p>
<ul>
<li>Please ensure all of your Anki clients support FSRS. Anki 23.10, AnkiMobile 23.10,
and AnkiWeb all support it. AnkiDroid supports it in 2.17+. If
one of your clients doesn’t support it, things will not work correctly.</li>
<li>If you previously used the “custom scheduling” version of FSRS, please make
sure you clear out the custom scheduling section before enabling FSRS.</li>
</ul>
<h3 id="a-short-guide"><a class="header" href="#a-short-guide">A Short Guide</a></h3>
<ul>
<li>Enable FSRS under the “FSRS” section, at the bottom of the deck options page. FSRS can only be enabled globally; you cannot enable it for some presets and disable it for others.</li>
<li>Ensure that all your learning and re-learning steps are shorter than 1d and can be completed on the same day. 23h is not recommended even though it’s less than one day because you won’t be able to finish this step on the same day as your first review. Steps such as 10m or 30m are good.</li>
<li>Click the “Optimize” button under the “FSRS parameters” field. If you see a message that says “The FSRS parameters currently appear to be optimal”, that’s fine.</li>
<li>Choose a value of desired retention: the proportion of cards recalled successfully when they are due. <strong>This is the most important setting in FSRS. Higher retention leads to shorter intervals and more reviews per day.</strong> The default is 90%, which offers a good balance of retention and workload. Above 90% the workload increases very quickly, and above 97% the workload can be overwhelming. You can use <a href="deck-options.html#compute-minimum-recommended-retention">“Compute minimum recommended retention”</a> to help you choose the value of desired retention.
Parameters and desired retention are preset-specific, you can make multiple presets with different parameters and desired retention.</li>
</ul>
<p>FSRS can adapt to almost any habit, except for one: pressing “Hard” instead of “Again” when you forget the information. When you press “Hard”, FSRS assumes you have recalled the information correctly (though with hesitation and a lot of mental effort). If you press “Hard” when you have failed to recall the information, all intervals will be unreasonably high. So, if you have this habit, please change it and use “Again” when you forget the information.</p>
<p>Regarding add-on compatibility, as a general rule of thumb, if an add-on affects intervals and scheduling in some way, it shouldn’t be used with FSRS.</p>
<h3 id="desired-retention"><a class="header" href="#desired-retention">Desired Retention</a></h3>
<p>Desired retention controls how likely you are to remember cards when they are scheduled for a review.
The default value of <code>0.90</code> will schedule cards so you have a 90% chance of remembering
them when they come up for review again. This should normally translate to remembering around 90% cards when they are reviewed, and only failing around 10%.</p>
<p>Here is a graph that shows how adjusting this value will affect your workload:</p>
<p><img src="./media/FSRS_retention.png" alt="graph showing an exponential increase in workload as desired retention nears one." /></p>
<p>The exact shape of the graph is different for everyone. However, there are two patterns that hold true for all:</p>
<ul>
<li>
<p>As desired retention approaches 1.0, the workload increases drastically.
Imagine you have a card with a 90% chance of remembering it after 100 days. If your desired retention is <code>0.90</code>, you’ll review the card again in 100 days. But if your desired retention is <code>0.95</code>, you’ll need to review it after 46 days instead.
This means that the intervals of your cards almost halve at <code>0.95</code> desired retention and you need to review cards twice as frequently compared to <code>0.90</code> desired retention.
At <code>0.97</code>, the interval will be 27 days (you’ll have to review your cards 3.7x as frequently).
At <code>0.99</code>, the interval will be only 9 days (you’ll have to review your cards more than 10x more frequently than with the defaults).</p>
</li>
<li>
<p>As desired retention decreases, you’ll forget a greater percentage of your
cards, and those cards will need to be reviewed again. Eventually, you’ll
get to a point where the forgotten cards contribute more to your workload
than you gain from the longer delays. Also, keep in mind that forgetting
material frequently is demotivating.</p>
</li>
</ul>
<p>For these reasons, we suggest you be conservative when adjusting this
number, and recommend you keep it lower than <code>0.97</code> and higher than the <a href="deck-options.html#compute-minimum-recommended-retention">minimum recommended retention</a>.</p>
<h3 id="fsrs-parameters"><a class="header" href="#fsrs-parameters">FSRS Parameters</a></h3>
<p>FSRS parameters affect how cards are scheduled. Do not change the parameters manually or copy them from someone else.</p>
<p><strong>Optimize FSRS Parameters</strong></p>
<p>The FSRS optimizer uses machine learning to learn your memory patterns and find parameters that best fit your review history. To do this, the optimizer requires several reviews to fine-tune the parameters.</p>
<p>When you click the <strong>Optimize</strong> button, FSRS will analyze your review history, and generate parameters that are optimal for your memory and the content you’re studying. If you have decks that vary wildly in subjective difficulty, it
is recommended to assign them separate presets, as the parameters for easier
decks will be different from harder decks. There is no need to optimize your
parameters frequently: once every month is sufficient.</p>
<p>By default, parameters are calculated from the review history of all
decks using the current preset. You can optionally <a href="./searching.html">adjust the search</a>
before optimizing the parameters, if you’d like to change which cards
are used for optimization.</p>
<p>You can also optimize the parameters for all of your presets at once by clicking on <strong>Optimize All Presets</strong>.</p>
<p><strong>Evaluate FSRS Parameters</strong></p>
<p>You can use the <strong>Evaluate</strong> button to see metrics that show how well the parameters fit your review history. Smaller numbers
indicate a better fit to your review history.</p>
<p>Log loss doesn’t have an intuitive interpretation. RMSE (bins) can be
interpreted as the average difference between the predicted probability
of recalling a card (R) and the actual
probability measured from your review history. For example, RMSE=5% means that, on average, FSRS
is off by 5% when predicting R. You don’t need to understand these metrics to use FSRS.</p>
<p>Note that log loss and RMSE (bins) are not perfectly correlated,
so two decks may have similar RMSE values but very different log-loss values, or the other way around.</p>
<p>By default, log loss and RMSE (bins) are calculated from all decks using the current preset. You can optionally <a href="./searching.html">adjust the search</a> before evaluating the parameters, if you’d like to change which cards are used for evaluation.</p>
<h3 id="reschedule-cards-on-change"><a class="header" href="#reschedule-cards-on-change">Reschedule Cards on Change</a></h3>
<p>This option controls whether the due dates of cards will be changed when you enable FSRS, change desired retention, or change the parameters. The default is not to reschedule cards: future reviews will use the new scheduling, but there will be no immediate change to your workload. If rescheduling is enabled, the due dates of cards will be changed. Depending on your desired retention, it will often result in a large number of cards becoming due, so <strong>this option is not recommended</strong> when first switching from SM-2.</p>
<p>Use this option sparingly, as it will add a review entry to each of your cards, and increase the size of your collection.</p>
<p>If you’re first switching from SM-2 and still wish to use this option, we recommend you first create a backup, enable FSRS with rescheduling, and then if needed, you can undo or restore from the backup.</p>
<h3 id="compute-minimum-recommended-retention"><a class="header" href="#compute-minimum-recommended-retention">Compute Minimum Recommended Retention</a></h3>
<p>Compute minimum recommended retention (CMRR) attempts to find the desired retention value that leads to the most material learned, in the least amount of time. The calculated number can serve as a reference when deciding what to set your desired retention to. You may wish to choose a higher desired retention, if you’re willing to trade more study time for a greater retention rate. However, setting your desired retention lower than the minimum is not recommended, as you’ll spend more time studying than necessary, due to increased forgetting.</p>
<h3 id="the-simulator"><a class="header" href="#the-simulator">The Simulator</a></h3>
<p>You can use the simulator to get an estimate of your workload,
either in reviews per day or in minutes of studying per day.</p>
<ul>
<li><strong>Days to simulate</strong> controls the duration of the simulated study history.</li>
<li><strong>Additional new cards to simulate</strong> controls whether the simulator should
simulate more cards than this preset already has. For example, if you currently have 100 cards under this preset,
and you set <strong>Additional new cards to simulate</strong> to 50, the simulator will simulate a total of 150 cards.
This can be useful if you plan to create more new cards in the future.</li>
<li><strong>New cards/day</strong> and <strong>Maximum reviews/day</strong> control how many new cards will be learned each day and
the maximum number of reviews per day.</li>
<li><strong>Maximum interval</strong> controls the maximum interval length (in days).</li>
</ul>
<p>To make the simulation as realistic as possible, the simulator takes into account the real memory states (difficulty, stability, retrievability) of your cards.
It also uses your FSRS parameters and the value of desired retention, therefore changing them will affect the simulation.</p>
<h4 id="learning-and-relearning-steps"><a class="header" href="#learning-and-relearning-steps">Learning and Relearning Steps</a></h4>
<p>(Re)learning steps of 1 day or greater are not recommended when using FSRS. The main
reason they were popular with the legacy SM-2 algorithm is because repeatedly
failing a card after it has graduated from the learning phase could reduce
its ease a lot, leading to what some people called “ease hell”. This is not
a problem that FSRS suffers from. By keeping your learning steps under a
day, you will allow FSRS to schedule cards at times it has calculated are
optimal for your material and memory. Another reason not to use longer
learning steps is because FSRS may end up scheduling the first review for a
shorter time than your last learning step, leading to the <strong>Hard</strong> button
showing a longer time than <strong>Good</strong>.</p>
<p>We also recommend you keep the number of learning steps to a minimum. Evidence
shows that repeating a card multiple times in a single day does not significantly
contribute to long-term memory, so your time is
better spent on other cards or a shorter study session.</p>
<p>In the latest version of Anki you can let FSRS control short-term scheduling by leaving the (re)learning steps field empty. This is an experimental feature.
Note that just because FSRS-5 <em>can</em> give you intervals shorter than one day doesn’t necessarily mean that it <em>will</em>. Your <strong>Again</strong> interval can be one day long, or even longer.</p>
<h4 id="add-on-compatibility-3"><a class="header" href="#add-on-compatibility-3">Add-On Compatibility</a></h4>
<p>Some add-ons can cause conflicts with FSRS. As a general rule of thumb,
if an add-on affects a card’s intervals, it shouldn’t be used with FSRS.
A list of commonly used add-ons and their FSRS compatibility can be found in <a href="https://github.com/open-spaced-repetition/fsrs4anki#add-on-compatibility">Add-on Compatibility</a>.</p>
<h4 id="more"><a class="header" href="#more">More</a></h4>
<p>Several frequently asked questions about FSRS have been answered in <a href="https://faqs.ankiweb.net/frequently-asked-questions-about-fsrs.html">its FAQ</a>.</p>
<p>For more info on FSRS, please check:</p>
<ul>
<li><a href="https://github.com/open-spaced-repetition/fsrs4anki/wiki">FSRS4Anki Wiki</a></li>
<li><a href="https://github.com/open-spaced-repetition/fsrs4anki">FSRS4Anki on Github</a></li>
</ul>
<h2 id="advanced"><a class="header" href="#advanced">Advanced</a></h2>
<h3 id="maximum-interval"><a class="header" href="#maximum-interval">Maximum Interval</a></h3>
<p>The maximum number of days a review card will wait before it’s shown again. When reviews have reached the limit, <strong>Hard</strong>, <strong>Good</strong> and <strong>Easy</strong> will all give the same delay. The shorter you set this, the greater your workload will be. The default is 100 years; you can decrease this to a smaller number if you’re willing to trade extra study time for higher retention.</p>
<h3 id="historical-retention"><a class="header" href="#historical-retention">Historical Retention</a></h3>
<p>This setting is hidden unless FSRS is turned on.</p>
<p>When some of your review history is missing, FSRS needs to fill in the gaps. By default, it will assume that when you did those old reviews, you remembered 90% of the material. If your old retention was appreciably higher or lower than 90%, adjusting this option will allow FSRS to better approximate the missing reviews.</p>
<p>Your review history may be incomplete for two reasons:</p>
<ul>
<li>Because you’re using the <strong>Ignore cards reviewed before</strong> option.</li>
<li>Because you previously deleted review logs to free up space, or imported material from a different SRS program.</li>
</ul>
<p>The latter is quite rare, so unless you’re using the former option, you probably don’t need to adjust this setting.</p>
<h3 id="ignore-cards-reviewed-before"><a class="header" href="#ignore-cards-reviewed-before">Ignore Cards Reviewed Before</a></h3>
<p>If set, cards reviewed before the provided date will be ignored when optimizing FSRS parameters. This can be useful if you imported someone else’s scheduling data, or have changed the way you use the answer buttons.</p>
<h3 id="starting-ease"><a class="header" href="#starting-ease">Starting Ease</a></h3>
<p>Controls the ease that cards start out with. It is
set when a card graduates from learning for the first time. It defaults
to 2.50, meaning that once you have finished learning a card, answering
<strong>Good</strong> on subsequent reviews will increase the delay by approximately
2.5x (e.g. if the last delay was 10 days, the next delay would be around 25
days). Based upon how you rate the card in subsequent reviews, the
ease may increase or decrease from its starting value.</p>
<h3 id="easy-bonus"><a class="header" href="#easy-bonus">Easy Bonus</a></h3>
<p>An extra multiplier applied to the interval when a review card is answered
<strong>Easy</strong>. With the default value of 1.30, <strong>Easy</strong> will give an interval that is
1.3 times the Good interval (e.g. if the Good interval was 10 days, the Easy
interval would be around 13 days).</p>
<h3 id="interval-modifier"><a class="header" href="#interval-modifier">Interval Modifier</a></h3>
<p>An extra multiplier that is applied to all reviews. At its default of 1.00 it
does nothing. If you set it to 0.80, intervals will be generated at
80% of their normal size (so a 10 day interval would become 8 days).
You can thus use the multiplier to to make your reviews less or more frequent.</p>
<p>For moderately difficult material, the average user should find they
remember approximately 90% of mature cards when they come up for review. You
can find out your own performance by opening the graphs/statistics for a
deck and looking at the Answer Buttons graph - mature retention is the
correct% on the right side of the graph. If you haven’t been studying for
long, you may not have any mature cards yet. As performance with new
cards and younger cards can vary considerably, it’s a good idea to wait
until you have a reasonable amount of mature reviews before you start
drawing conclusions about your retention rate.</p>
<p>On the SuperMemo website, they suggest that you can find an appropriate
multiplier for a desired retention rate. Their formula boils down to:</p>
<pre><code>log(desired retention%) / log(current retention%)
</code></pre>
<p>Imagine we have a current retention rate of 85% and we want to increase
it to 90%. We’d calculate the modifier as:</p>
<pre><code>log(90%) / log(85%) = 0.65
</code></pre>
<p>You can use <a href="https://www.google.com/search?q=log(90%25)+%2F+log(85%25)">Google to calculate this</a>.</p>
<p>If you enter the resulting 65% into the interval modifier, you should
find over time that your retention moves closer to your desired
retention.</p>
<p>One important thing to note however is that the trade-off between time
spent studying and retention is not linear: we can see here that to
increase our retention by 5 percentage points, we would have to study 35%
more frequently. If the material you are learning is very important then
it may be worth the extra effort – that is, of course, something you will need to
decide for yourself. If you are simply worried that you are forgetting too
much, then you may find investing more time at the initial learning stage, or using mnemonics will give you more gain for less effort.</p>
<p>One final thing to note is that Anki forces a new interval to be at
least 1 day longer than it was previously, so that you do not get stuck
reviewing with the same interval forever. If your goal is to repeat a
card once a day for multiple days, you can do that by setting more
learning mode steps, instead of by adjusting this modifier.</p>
<h3 id="hard-interval"><a class="header" href="#hard-interval">Hard Interval</a></h3>
<p>The multiplier applied when you use the <strong>Hard</strong> button. The percentage is relative
to the previous interval, e.g. with a default of 1.20, a card with a 10-day interval
will be given 12 days.</p>
<h3 id="new-interval"><a class="header" href="#new-interval">New Interval</a></h3>
<p>The multiplier applied when you use the <strong>Again</strong> button on a review card. The
default 0.00 means that a review card’s delay is reset to zero when you forget it
(which then becomes 1 day after the <a href="deck-options.html#minimum-interval">minimum interval</a> is
applied).</p>
<p>If changed from the default, it is possible for forgotten cards to preserve part
of their previous delay. For example, if a card had a 100 day interval, and you set
the <strong>New Interval</strong> to 0.20, the new interval would be 20 days.</p>
<p>While preserving part of the interval may seem to make sense, SuperMemo has observed
that preserving part of the delay can actually <a href="https://supermemo.guru/wiki/Post-lapse_stability">be counter-productive</a>. For this reason, we recommend you leave it on the default setting.</p>
<h3 id="custom-scheduling"><a class="header" href="#custom-scheduling">Custom Scheduling</a></h3>
<p>You can have more control over Anki’s scheduling of cards by using your own JavaScript in the custom scheduling field. This is a global option, so code entered here applies to every preset.</p>
<p>Here is an example custom scheduling script. Note that, for Qt5 versions of Anki, the code needs to be transpiled.</p>
<pre><code class="language-javascript">// print the existing states
console.log(
  JSON.stringify(states, null, 4)
);

// load the debugger if the web inspector is open
debugger;

// if the hard button is a learning step, make it
// a 123 minute delay
if (states.hard.normal?.learning) {
  states.hard.normal.learning.scheduledSecs = 123 * 60;
}

// apply the same change in a rescheduling filtered deck
if (states.hard.filtered?.rescheduling?.originalState?.learning) {
  states.hard.filtered.rescheduling.originalState.learning.scheduledSecs =
    123 * 60;
}

// increase ease factor by 0.2 when Easy used on a review
if (states.good.normal?.review) {
  states.easy.normal.review.easeFactor =
    states.good.normal.review.easeFactor + 0.2;
}
</code></pre>
<p>You can also see <a href="https://github.com/open-spaced-repetition/fsrs4anki/blob/main/fsrs4anki_scheduler.js">FSRS custom scheduling code</a> as an example.</p>
<p>The various scheduling states of cards are described in <a href="https://github.com/ankitects/anki/blob/main/proto/anki/scheduler.proto">SchedulingStates</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="syncing-with-ankiweb"><a class="header" href="#syncing-with-ankiweb">Syncing with AnkiWeb</a></h1>
<ul>
<li><a href="syncing.html#intro-videos">Intro Videos</a></li>
<li><a href="syncing.html#setup">Setup</a></li>
<li><a href="syncing.html#automatic-syncing">Automatic Syncing</a></li>
<li><a href="syncing.html#button-color">Button Color</a></li>
<li><a href="syncing.html#media">Media</a></li>
<li><a href="syncing.html#conflicts">Conflicts</a></li>
<li><a href="syncing.html#merging-conflicts">Merging Conflicts</a></li>
<li><a href="syncing.html#ankiweb-data-deletion">AnkiWeb Data Deletion</a>
<ul>
<li><a href="syncing.html#what-gets-deleted">What Gets Deleted</a></li>
<li><a href="syncing.html#returning-to-ankiweb">Returning to AnkiWeb</a></li>
<li><a href="syncing.html#avoiding-data-deletion">Avoiding Data Deletion</a></li>
</ul>
</li>
<li><a href="syncing.html#firewalls">Firewalls</a></li>
<li><a href="syncing.html#proxies">Proxies</a></li>
</ul>
<p>AnkiWeb is a service that allows you to keep your collection
synchronized across multiple devices, and to study online. Please sign
up for a <a href="https://ankiweb.net/">free account</a> before following the steps
below.</p>
<h2 id="intro-videos"><a class="header" href="#intro-videos">Intro Videos</a></h2>
<p>For a quick introduction to syncing, please check out the
<a href="https://www.youtube.com/watch?v=YkiM4DPzSVc&amp;list=PLGgmaKOIHykFoomqkBJAyGiDQ2kyiuTao&amp;yt:cc=on">syncing intro videos</a>.</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<p>To start syncing your collection across devices, click the sync button
(the top right one on the <a href="studying.html#decks">main screen</a>, or press <kbd>Y</kbd> on your keyboard.
You’ll be prompted for your AnkiWeb ID and password, which you created
in the signup process.</p>
<p>When you synchronize your collection for the first time, Anki will ask
you if you want to upload or download. If you have cards on your
computer and your AnkiWeb account is empty, choose <strong>Upload</strong> to send your
data to AnkiWeb. If you have cards on AnkiWeb from another device, and
no cards on your computer, choose <strong>Download</strong> to replace the empty local
collection with the cards that are on AnkiWeb. If you have different
cards on both devices, <a href="syncing.html#merging-conflicts">more work is required</a> to
avoid losing data.</p>
<p>Once the initial one-way sync is completed, Anki will be able to merge
changes from multiple locations with a few exceptions.</p>
<p>If you have multiple people using Anki on one machine and have created a
profile for each user, each user will need to create their own AnkiWeb
account to sync with. If you attempt to synchronize multiple profiles
with a single AnkiWeb account, you will lose data.</p>
<h2 id="automatic-syncing"><a class="header" href="#automatic-syncing">Automatic Syncing</a></h2>
<p>Once syncing is enabled, Anki will automatically sync each time your
collection is closed or opened. If you would prefer to synchronize
manually, you can disable automatic syncing in Anki’s <a href="preferences.html#syncing">preferences.</a></p>
<h2 id="button-color"><a class="header" href="#button-color">Button Color</a></h2>
<p>The sync button will change to blue when a normal sync is required,
and red when a full sync is required.</p>
<h2 id="media"><a class="header" href="#media">Media</a></h2>
<p>You can watch a <a href="https://www.youtube.com/watch?v=phP9GGG-PxY">related video</a> on this topic.</p>
<p>Anki will synchronize any sounds and images used by your notes. It will
notice when media has been added, removed or replaced in your <a href="files.html#user-data">media folder</a>, but
will not notice if you have made edits to existing files. To get your edits synced, you
need to add, remove or replace a file as well.</p>
<p>One-way syncs (where you’re prompted to upload or download) have no influence over how media
syncs - media changes are always merged.</p>
<p>To prevent accidental data loss, deletions will only sync to other devices if they are made after
media is fully in sync. If you delete files before your device is fully in sync, and the deleted
files are already on AnkiWeb, they will be downloaded the next time you sync.</p>
<p>If you have accidentally deleted media files, and want to restore them, open the preferences
and log out. The next time you sync, Anki will restore any deleted files, if they are available
on AnkiWeb still.</p>
<p>If you’re running Anki off a <a href="files.html#running-from-a-flash-drive">USB flash drive</a>, you should use an NTFS
file system, as Anki may not be able to detect media changes on a FAT32
filesystem.</p>
<h2 id="conflicts"><a class="header" href="#conflicts">Conflicts</a></h2>
<p>You can watch a <a href="https://www.youtube.com/watch?v=UEAcpfMQnjo">related video</a> on this topic.</p>
<p>Under normal circumstances, reviews and note edits can be merged, so if
you review or edit on two different devices before syncing, Anki will
preserve your changes from both locations. If the same card has been
reviewed in two different locations, both reviews will be marked in the
revision history, and the card will be kept in the state it was when it
was most recently answered.</p>
<p>There are certain changes that Anki is unable to merge. These mainly
relate to the format of notes: things like adding a new field, or
removing a card template. When you perform an operation that can’t be
merged, Anki will warn you, and give you the option of aborting the
operation. If you choose to continue, you’ll be asked to choose whether
to keep the local copy or the copy on AnkiWeb when your collection is
next synchronized.</p>
<p>If certain problems are detected while syncing, it will also force a
one-way sync. If you find this consistently happening, please post on our
<a href="https://forums.ankiweb.net">support site</a>.</p>
<p>When a one-way sync is required, you need to choose whether you wish to
keep the collection on your local device, or the collection on AnkiWeb.
If changes have been made on both ends, only changes on one end can be
preserved.</p>
<p>If you choose <strong>Upload</strong>, the content on your local device will be sent to
AnkiWeb. You then need to sync your other devices, and choose <strong>Download</strong>
to have them grab a copy of that content.</p>
<p>If you choose <strong>Download</strong>, it will replace any local changes you’ve made
with the data that is on AnkiWeb.</p>
<p>Once all devices are in sync, future syncs will return to the normal
behaviour of merging changes from both ends.</p>
<p>If you wish to force a full upload or download (for example, because you
accidentally deleted a deck on one side and want to restore the deck
rather than having its deletion synchronized), you can check the “On
next sync, force changes in one direction” box in
<strong>Tools &gt; Preferences &gt; Network</strong>, then sync as usual. (You’ll be given
the option to choose which side you want to use.)</p>
<p>Forcing a one way sync only affects card syncing - media is synced as
normal. If you have files that you want to remove from AnkiWeb, please
ensure your client is fully in sync first. After syncing is up to date,
any files you remove (e.g. via the <strong>Check Media</strong> function) will be removed
from AnkiWeb on the following sync.</p>
<h2 id="merging-conflicts"><a class="header" href="#merging-conflicts">Merging Conflicts</a></h2>
<p>Because the <a href="syncing.html#setup">first sync</a> can only sync changes in one
direction, if you have added different content to different devices or
profiles before setting syncing up, content on one device will be lost
if you overwrite it with the content from the other device. With some
work, it is possible to manually merge data into a single collection.</p>
<p>Start by taking a backup on each device/profile, in case something goes
wrong. With the computer version you can use <strong>File &gt; Export</strong> to export
“all decks” with scheduling information and media files included, and
save the file somewhere safe. In AnkiMobile, the Add/Export button on
the decks list screen will let you export all decks with media.</p>
<p>Next, if one of your devices is a mobile device, synchronize it first.
If there’s a conflict, choose <strong>Upload</strong> to overwrite any existing data on
AnkiWeb with the data from your mobile device. If both devices/profiles
are on your computer, synchronize the device/profile with the most
number of decks first.</p>
<p>Now return to the other device/profile. If automatic syncing is enabled,
a message may pop up asking if you want to upload or download. Click the
cancel button - we don’t want to sync yet.</p>
<p>Once you’re looking at the deck list, click the cog icon next to the
first deck, and choose <strong>Export</strong>. Export the content with scheduling
information and media included, and save the <code>.apkg</code> file somewhere. Now
you’ll need to repeat this for each top-level deck.</p>
<p>Once all top-level decks have been exported, click the sync button at
the top right, and choose <strong>Download</strong>, which will overwrite the local
content with the content you synced from your other device.</p>
<p>You can now use <strong>File &gt; Import</strong> to import the <code>.apkg</code> files you exported
earlier, which will merge the exported content with the existing
content, so everything will be in one place.</p>
<h2 id="ankiweb-data-deletion"><a class="header" href="#ankiweb-data-deletion">AnkiWeb Data Deletion</a></h2>
<p>As AnkiWeb is a free service, we need to periodically delete unused account data
to keep costs down. If you haven’t accessed your account or synced in the last 6 months,
the data on your account might get deleted.</p>
<h3 id="what-gets-deleted"><a class="header" href="#what-gets-deleted">What Gets Deleted</a></h3>
<p>Only your data stored on AnkiWeb is deleted. Your account itself will remain and can be used again.</p>
<p>Any cards you have stored on your computer, phone or tablet will remain on those devices. Items shared from your account, including decks and add-ons will also remain on AnkiWeb.</p>
<h3 id="returning-to-ankiweb"><a class="header" href="#returning-to-ankiweb">Returning to AnkiWeb</a></h3>
<p>Once your deck data has expired, it is not possible for us to recover your data from AnkiWeb,
but you may be able to recover it if you have a local copy or a <a href="./backups.html">backup</a>.</p>
<h3 id="avoiding-data-deletion"><a class="header" href="#avoiding-data-deletion">Avoiding Data Deletion</a></h3>
<p>Each time you visit ankiweb.net, or use the synchronization feature in Anki, AnkiMobile or AnkiDroid,
your account will automatically be marked as active.</p>
<p>If your account has been inactive for 6 months or more, and you used the service for a week or longer,
we will send you an email notifying you that deletion is pending.
If you’d like to keep your account active, please log in to ankiweb.net
and study a card, or sync one of your devices within 30 days.</p>
<h2 id="firewalls"><a class="header" href="#firewalls">Firewalls</a></h2>
<p>Anki needs to be able to make outbound HTTPS connections to sync. It must be
able to connect to ankiweb.net, sync.ankiweb.net, sync2.ankiweb.net, and so on.
These domains may change over time, and the IP addresses they point to may also
change, so we recommend you allow wildcard access to *.ankiweb.net to reduce
the chance of the firewall rules needing to be updated in the future.</p>
<p>If you have a firewall on your machine, you should add an exception for
Anki. If you are on a work or school network, please contact your
network administrator for assistance - it is not something we can help
you with.</p>
<h2 id="proxies"><a class="header" href="#proxies">Proxies</a></h2>
<p>If you need a proxy to access the internet, Anki should automatically
pick up your system proxy settings if you’re on Windows or macOS, and
will honour the HTTP_PROXY environment variable if you’re on another
platform.</p>
<p>Anki will only be able to pick up your system settings if a proxy is
manually configured, and does not require a password. If your system
uses automatic proxy setup, or uses a proxy that requires a username and
password, you will need to manually tell Anki the proxy configuration.</p>
<p>To tell Anki your proxy settings, define a HTTPS_PROXY environmental
variable that points to the proxy server. It will look like:</p>
<pre><code>http://user:pass@proxy.company.com:8080
</code></pre>
<p>If your username or password contains an @ (e.g <code>user@workdomain.com</code>),
you need to change it to %40, like so:</p>
<pre><code>http://user%40workdomain.com:pass@proxy.company.com:8080
</code></pre>
<p>Anki 2.0 expects to find HTTP_PROXY instead of HTTPS_PROXY.</p>
<p>To set environmental variables on Windows, please see
<a href="https://www.google.com/search?q=windows+set+environmental+variable">https://www.google.com/search?q=windows+set+environmental+variable</a></p>
<p>If you’re on a Mac, please see
<a href="http://stackoverflow.com/questions/135688/setting-environment-variables-in-os-x">http://stackoverflow.com/questions/135688/setting-environment-variables-in-os-x</a></p>
<p>Heavily locked down networks that intercept secure connections and
present their own certificates may cause Anki to throw up SSL
errors. In such environments, you may be able to work around the errors using <a href="https://ankiweb.net/shared/info/1332261690">this add-on</a>.</p>
<p>An alternative solution is to install a local proxy server, and point
that proxy server at your normal proxy server. You can then tell Anki to
use the local proxy, which will redirect requests to the proxy you
normally use.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="profiles"><a class="header" href="#profiles">Profiles</a></h1>
<p>If more than one person wants to use Anki on your computer, you can set
up a separate profile for each user. Each user profile has their own
collection, and own program settings. Add-ons are shared across profiles.
Profiles are configured by going to the File menu and choosing “Switch Profile”.</p>
<p><strong>Only a single profile can be synced to an AnkiWeb account.</strong>
If you have different users on your computer, each user will
need to set up a separate AnkiWeb account for their profile. If you attempt
to link two or more profiles to the same AnkiWeb account, you will overwrite
the data from one profile with the data from the other.</p>
<p>Profiles are primarily intended to be used by different people, and are not
recommended for splitting up your own content.
If you have created multiple profiles for yourself, the best option is to
merge them into a single profile. You can do so by exporting one deck from
profile A, and then importing it into profile B, repeating for any other decks
in profile A, until everything is in profile B.</p>
<p>AnkiDroid does not support profiles.</p>
<h2 id="profiles-window"><a class="header" href="#profiles-window">Profiles window</a></h2>
<p>From the Profiles window (accessible via File&gt;Switch Profile from the main window), you can:</p>
<ul>
<li>Open / Add / Rename / Delete user profiles.</li>
<li>Quit the program.</li>
<li>Restore an <a href="./backups.html">automatic backup.</a></li>
<li>Downgrade your collection, which is necessary if you want to open it with
an earlier Anki release. If you skip this step, you may get an error message
when opening your collection in an older Anki version, and you will need to
return to this version, downgrade, then try again.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="browsing-1"><a class="header" href="#browsing-1">Browsing</a></h1>
<ul>
<li><a href="browsing.html#table-modes">Table Modes</a></li>
<li><a href="browsing.html#sidebar">Sidebar</a>
<ul>
<li><a href="browsing.html#search-tool">Search Tool</a></li>
<li><a href="browsing.html#selection-tool">Selection Tool</a></li>
<li><a href="browsing.html#saved-searches">Saved Searches</a></li>
<li><a href="browsing.html#editing-items">Editing Items</a></li>
<li><a href="browsing.html#finding-items">Finding Items</a></li>
</ul>
</li>
<li><a href="browsing.html#search-box">Search Box</a></li>
<li><a href="browsing.html#cardnote-table">Card/Note Table</a>
<ul>
<li><a href="browsing.html#rows">Rows</a></li>
<li><a href="browsing.html#columns">Columns</a></li>
</ul>
</li>
<li><a href="browsing.html#editing-area">Editing Area</a></li>
<li><a href="browsing.html#menus-and-actions">Menus and Actions</a>
<ul>
<li><a href="browsing.html#edit">Edit</a></li>
<li><a href="browsing.html#notes">Notes</a></li>
<li><a href="browsing.html#cards">Cards</a></li>
<li><a href="browsing.html#go">Go</a></li>
</ul>
</li>
<li><a href="browsing.html#find-and-replace">Find and Replace</a></li>
<li><a href="browsing.html#finding-duplicates">Finding Duplicates</a></li>
</ul>
<p>The Browse window allows you to search through your cards and notes, and edit
them. It is opened by clicking <strong>Browse</strong> in the main window, or by pressing
<kbd>B</kbd>. It is comprised of three sections: the <em>sidebar</em> on the
left, the <em>card/note table</em> on the top right, and the <em>editing area</em> on the bottom
right. By positioning the mouse between two sections, it is possible to click
and drag to expand one section and shrink the other.</p>
<h2 id="table-modes"><a class="header" href="#table-modes">Table Modes</a></h2>
<p><img src="media/browser_table_modes.png" alt="Table Modes" /></p>
<p>Anki 2.1.45+ offers two modes: either cards or notes are shown in the data table.
You can change the current mode by clicking the switch at the top, to the left
of the search area, or pressing <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd> or
<kbd>Cmd</kbd>+<kbd>Opt</kbd>+<kbd>T</kbd>. The switch also indicates if <strong>C</strong>ards
or <strong>N</strong>otes are currently shown.</p>
<p><strong>Note</strong>: For the sake of simplicity, this manual generally assumes the Cards
mode to be the active one. Whenever selecting/finding/etc. “cards” is mentioned,
the reader may substitute it for “cards or notes depending on the active mode”.</p>
<h2 id="sidebar"><a class="header" href="#sidebar">Sidebar</a></h2>
<p>The <em>sidebar</em> on the left allows quick access to common search terms. On Anki
2.1.45+, it also provides a searchbar, facilities to edit tags and decks, and a
choice of two different tools, which are discussed in the following sections.
You can switch tools using the toolbar at the top of the sidebar or the shortcuts
<kbd>Alt</kbd>+<kbd>1</kbd>/<kbd>2</kbd>.</p>
<h3 id="search-tool"><a class="header" href="#search-tool">Search Tool</a></h3>
<p><img src="media/browser_search_tool.png" alt="Search Tool" /></p>
<p>With this tool, the sidebar behaves as in previous versions: Clicking on an item
will search for it.</p>
<p>You can hold down <kbd>Ctrl</kbd> (<kbd>Command</kbd> on Mac) while clicking in
order to append the clicked item to the current search with an AND condition,
instead of starting a new search. If you wanted to show <em>learning</em> cards that were
also in the German deck for instance, you could click on “Learning”,
then <kbd>Ctrl</kbd>-click on “German”.</p>
<p>You can hold down <kbd>Shift</kbd> to create an OR search instead of an AND. For
example, you could click one deck, then <kbd>Shift</kbd>-click another to show
cards from either of the decks in the same view.</p>
<p>You can hold down <kbd>Alt</kbd> (<kbd>Option</kbd> on Mac) in order to reverse the
search (prepend a <code>-</code>): for example, to show all cards in a current deck that
do <em>not</em> have a certain tag. <kbd>Alt</kbd>/<kbd>Option</kbd> can be combined with
either <kbd>Ctrl</kbd> or <kbd>Shift</kbd> (e.g. clicking with <kbd>Ctrl</kbd>+<kbd>Alt</kbd>
will result in adding a new search term that is negated).</p>
<p>On Anki 2.1.39+, you can also hold down both <kbd>Ctrl</kbd> and
<kbd>Shift</kbd> together when clicking a search term to replace all occurrences of the
same kind of search with the new one.
Let’s say you had previously typed in a complicated search expression like
<code>deck:Swahili (is:due or tag:important)</code>
and now want to perform the same search for your Urdu deck. You can hold down
<kbd>Ctrl</kbd>+<kbd>Shift</kbd> while clicking the Urdu deck in the sidebar to obtain the
following search expression:
<code>deck:Urdu (is:due or tag:important)</code>.</p>
<h3 id="selection-tool"><a class="header" href="#selection-tool">Selection Tool</a></h3>
<p><img src="media/browser_selection_tool2.png" alt="Selection Tool" /></p>
<p>The Selection tool allows for selecting multiple items at the same time by holding down <kbd>Ctrl</kbd>
or <kbd>Shift</kbd> while clicking. It also enables drag-and-drop to reorder decks and
tags.</p>
<p>Here is an example: Say you have the tags <code>Math</code>, <code>Calculus</code>, and <code>Algebra</code>.
Click on the <code>Calculus</code> tag, then <kbd>Ctrl</kbd>-click on the <code>Algebra</code> tag. Now both
tags are selected, click and drag any of the two onto the <code>Math</code> tag to make them
both children of this tag. Behind the scene, Anki has renamed the two tags to
<code>Math::Calculus</code> and <code>Math::Algebra</code> respectively and updated your notes accordingly.</p>
<p>Another use case for selecting multiple items is searching: If you right-click on
a selection of items, you can choose <strong>Search &gt; All/Any Selected</strong>. This
can be combined with keyboard modifiers as described in <a href="browsing.html#search-tool">Search Tool</a>
to append the resulting search to the current search.</p>
<h3 id="saved-searches"><a class="header" href="#saved-searches">Saved Searches</a></h3>
<p>If you regularly search for the same thing,
you can save the current search by right-clicking the topmost item in the sidebar,
choosing “Save Current Search” and typing in a name.
You can also drag and drop any sidebar item onto this area to add an equivalent
saved search, effectively pinning it at the top.</p>
<h3 id="editing-items"><a class="header" href="#editing-items">Editing Items</a></h3>
<p>You can delete or rename tags, decks, and saved searches directly from the sidebar,
from the right-click menu, or by using a shortcut key (<kbd>Del</kbd> and
<kbd>F2</kbd> on Windows). Deletion even works for multiple items at once
(see <a href="browsing.html#selection-tool">Selection Tool</a>).</p>
<h3 id="finding-items"><a class="header" href="#finding-items">Finding Items</a></h3>
<p>To find a certain item in the sidebar tree, type part of its name into the searchbar
at the top.</p>
<h2 id="search-box"><a class="header" href="#search-box">Search Box</a></h2>
<p>Above the card list is a search box. You can type in various things
there to search for cards. For information on the search syntax,
see <a href="searching.html">Searching</a>.</p>
<h2 id="cardnote-table"><a class="header" href="#cardnote-table">Card/Note Table</a></h2>
<p>The table’s rows represent cards or notes that match the current search.
When you click on a row, the corresponding note will be shown in the bottom section.</p>
<h3 id="rows"><a class="header" href="#rows">Rows</a></h3>
<p>If you drag the mouse or hold <kbd>Ctrl</kbd> or <kbd>Command</kbd> to select multiple
rows, the editor will be temporarily hidden. Various operations (such as
changing the deck) can operate on multiple cards or notes at once, independent
of the active mode. Therefore in Cards mode, a note is considered to be selected
if any of its cards is selected, and in Notes mode, a card is considered to be selected
if its note is selected.</p>
<p>Other operations (like showing card information) only operate on a single card
or note. This is called the <em>current</em> card or note, which is usually the one that
was last selected or clicked.
In Cards Mode, again, the current note is the note of the current card and in Notes
mode, the current card is the first card of the current note.</p>
<p>The background colour will change depending on the card and note. In Cards mode,
the first match will be used:</p>
<ol>
<li>if the card is <strong>flagged</strong>, use the flag colour,</li>
<li>if the card is <strong>suspended</strong>, yellow,</li>
<li>if the card’s note is <strong>marked</strong>, purple.</li>
</ol>
<p>In Notes mode, colour is only applied to marked notes.<br />
For more information about marked notes and suspended cards, see <a href="studying.html#editing-and-more">Editing and More</a>.</p>
<h3 id="columns"><a class="header" href="#columns">Columns</a></h3>
<p>The columns are configurable: right click on one (or <kbd>Ctrl</kbd>-click on a
Mac) to choose which columns you’d like to see.
You can drag columns to reorder them. Clicking on a column will sort by that column;
click again to reverse the sort order. Note that you cannot sort by the Question
and Answer columns.</p>
<p>All columns are available for both <a href="browsing.html#table-modes">Cards and Notes mode</a>
but sometimes with slightly different names and data. The following table lists
the behaviours for both modes.</p>
<!-- prettier-ignore -->
<div class="table-wrapper"><table><thead><tr><th>Column</th><th>Cards mode</th><th>Notes mode</th></tr></thead><tbody>
<tr><td>Answer</td><td>The back side of the card in one line with the question stripped. You can also choose a <a href="templates/styling.html#browser-appearance">custom format</a> in the card type editor instead.</td><td>The same as in Cards mode, only for the first card of the note.</td></tr>
<tr><td>Card(s)</td><td>The name of the card’s template.</td><td>The number of cards the note has.</td></tr>
<tr><td>Card Modified</td><td>The last time changes were made to the card (e.g. when you reviewed the card and the review history and interval were updated).</td><td>The last time changes were made to one of the note’s cards.</td></tr>
<tr><td>Created</td><td>The same as in Notes mode for the card’s note.</td><td>The date the note was created.</td></tr>
<tr><td>Deck</td><td>The name of the deck the card is in.</td><td>The number of different decks the note’s cards are in, or the deck name if all cards are in the same deck.</td></tr>
<tr><td>Due</td><td>The due date for cards in review or (re)learning, and the position in the new card queue for new cards. The line is wrapped in brackets if the card is suspended or buried. Sorting is done by type and only then by date or position.</td><td>The due date for the note’s next due review or (re)learning card that is not suspended, buried or in a filtered deck.</td></tr>
<tr><td>(Avg.) Ease</td><td>The card’s ease if it is not new.</td><td>The average ease for the note’s cards that are not new.</td></tr>
<tr><td>(Avg.) Interval</td><td>The card’s interval if the card is in review or relearning.</td><td>The average interval for the note’s cards that are in review or relearning.</td></tr>
<tr><td>Lapses</td><td>How often the card was rated “Again”.</td><td>The total lapses for all cards of the note.</td></tr>
<tr><td>Note</td><td>The same as in Notes mode for the card’s note.</td><td>The name of the note’s note type.</td></tr>
<tr><td>Note Modified</td><td>The same as in Notes mode for the card’s note.</td><td>The last time the note (e.g. the content of a field) was edited.</td></tr>
<tr><td>Question</td><td>The front side of the card in one line. You can also choose a <a href="templates/styling.html#browser-appearance">custom format</a> in the card type editor instead.</td><td>The same as in Cards mode, only for the first card of the note.</td></tr>
<tr><td>Reviews</td><td>How often the card has been reviewed.</td><td>The total review count for all cards of the note.</td></tr>
<tr><td>Sort Field</td><td>The same as in Notes mode for the card’s note.</td><td>The content of the note’s field that is defined as the note type’s sort field. Only this one field can be displayed and sorted by. You can change the sort field by clicking <strong>Fields…</strong> in the editing area.</td></tr>
<tr><td>Tags</td><td>The same as in Notes mode for the card’s note.</td><td>The note’s tags.</td></tr>
</tbody></table>
</div>
<h2 id="editing-area"><a class="header" href="#editing-area">Editing Area</a></h2>
<p>The bottom right area displays the note of the currently selected row. For
more information about cards and notes, see <a href="getting-started.html">Getting Started</a>.
For more information on formatting buttons, see <a href="editing.html">Editing</a>.</p>
<p>You can see a preview of what the currently selected card would look
like when reviewing by clicking the <strong>Preview</strong> button at the top of the editing area.
Note that this will not display any type-the-answer fields on your
cards, which makes it easier to preview the cards quickly.
In Notes mode, the preview is shown for the first card of the selected note.</p>
<h2 id="menus-and-actions"><a class="header" href="#menus-and-actions">Menus and Actions</a></h2>
<p>At the top of the browser window, you find a toolbar with various menus which in
turn offer various actions that can be performed in the browser.</p>
<h3 id="edit"><a class="header" href="#edit">Edit</a></h3>
<!-- prettier-ignore -->
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Action</th></tr></thead><tbody>
<tr><td>Undo</td><td>Revert the most recently performed operation.</td></tr>
<tr><td>Select All</td><td>Select all rows displayed.</td></tr>
<tr><td>Select Notes</td><td>Show only the currently selected notes and select all rows.</td></tr>
<tr><td>Invert Selection</td><td>Select those rows not selected, and deselect the currently selected rows.</td></tr>
<tr><td>Create Filtered Deck</td><td>Show the <a href="filtered-decks.html#creating-manually">filtered deck</a> dialog and set the current browser search as a filter. Use <kbd>Alt</kbd> / <kbd>Option</kbd> to set the second filter instead.</td></tr>
</tbody></table>
</div>
<h3 id="notes"><a class="header" href="#notes">Notes</a></h3>
<p>Most of the following actions operate on the selected notes. They are also available through
a context menu when a selected row is right-clicked in Notes mode. In Cards mode,
they can be found in a submenu of the context menu.</p>
<!-- prettier-ignore -->
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Action</th></tr></thead><tbody>
<tr><td>Add Notes</td><td>Open the <a href="editing.html#adding-cards-and-notes">Add</a> dialog.</td></tr>
<tr><td>Create Copy</td><td>Open a <a href="browsing.html#finding-duplicates">duplicate</a> of the current note in the <a href="editing.html#adding-cards-and-notes">editor</a>, which can be slightly modified to easily obtain variations of your cards. By default, the duplicate card will be created in the same deck as the original.</td></tr>
<tr><td>Export Notes</td><td>Open the <a href="exporting.html">Export</a> dialog.</td></tr>
<tr><td>Add Tags</td><td>Add provided tags to all selected notes.</td></tr>
<tr><td>Remove Tags</td><td>Enter tags and remove them from all selected notes.</td></tr>
<tr><td>Clear Unused Tags</td><td>Remove all tags from the sidebar that are not used by any notes.</td></tr>
<tr><td>Toggle Mark</td><td>If the current note is marked (i.e., has the <em>Marked</em> tag), unmark all selected notes. If the current is not marked, mark all selected notes.</td></tr>
<tr><td>Change Note Type</td><td>Convert the selected notes from one type to another. For example, imagine you have a <em>Russian</em> note type and a <em>Computer</em> note type, and you accidentally added some computer-related text into a <em>Russian</em> note. You can use this option to fix that mistake. The scheduling of cards is not affected. Changing the type of a note requires a one-way sync.</td></tr>
<tr><td>Find Duplicates</td><td>Open the <a href="browsing.html#finding-duplicates">Duplicates</a> dialog.</td></tr>
<tr><td>Find and Replace</td><td>Open the <a href="browsing.html#find-and-replace">Find and Replace</a> dialog.</td></tr>
<tr><td>Manage Note Types</td><td>Open the <a href="editing.html#adding-a-note-type">Note Types</a> dialog.</td></tr>
<tr><td>Delete</td><td>Delete all selected notes and their cards. It is not possible to remove individual cards, as individual cards are controlled by the <a href="templates/intro.html">templates</a>.</td></tr>
</tbody></table>
</div>
<h3 id="cards-1"><a class="header" href="#cards-1">Cards</a></h3>
<p>The following actions operate on the currently selected cards. They are also available through
a context menu when a selected row is rightclicked in Cards mode. In Notes mode,
they can be found in a submenu of the context menu.</p>
<!-- prettier-ignore -->
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Action</th></tr></thead><tbody>
<tr><td>Change Deck</td><td>Move currently selected cards to a different deck.</td></tr>
<tr><td>Set Due Date</td><td>Turns cards into review cards if they are new, and makes them due on a certain date. This can be useful for moving cards forward or back a few days when your study schedule is interrupted. Entering a range like <code>60-90</code> will make the selected cards due between 60 and 90 days from now. New cards will have their interval set to the same delay, but review cards will be rescheduled without changing their current interval, unless an exclamation mark (<code>!</code>) is included at the end of the range. Note that the answer time is not recorded when manually scheduling cards, since the action can be performed even outside of review, and Anki isn’t aware of which card may or may not be shown at the time.</td></tr>
<tr><td>Reset</td><td>Move currently selected cards to the end of the new queue. The existing review history is preserved. In 2.1.50+, there are options to restore the original card position, and to reset the card’s lapse and repetition counters.</td></tr>
<tr><td>Reposition</td><td>Change the order new cards will appear in. You can find out the existing positions by enabling the <em>due</em> column, as described in the <a href="browsing.html#cardnote-table">table</a> section above. If you run the reposition command when multiple cards are selected, it will apply increasing numbers to each card in turn. By default the number increases by one for each card, but this can be adjusted by changing the “step” setting. The <strong>Shift position of existing cards</strong> option allows you to insert cards between currently existing ones, pushing the currently existing ones apart. For instance, if you have five cards and you want to move 3, 4, and 5 between 1 and 2, selecting this setting would cause the cards to end up in the order 1, 3, 4, 5, 2. By contrast, if you turn this option off, 1 and 2 will get the same position number (and it will thus be unpredictable which of the cards with the same number comes up first). Please note that when enabled, any card with a higher position will be modified, and all of those changed cards will need to be sent the next time you sync.</td></tr>
<tr><td>Toggle Suspend</td><td><a href="studying.html#editing-and-more">Suspend</a> or unsuspend all selected cards, depending on whether the current card is suspended or not.</td></tr>
<tr><td>Flag</td><td>Toggle the flags of all selected cards. Whether a flag is added or removed depends on whether the current card has the chosen flag.</td></tr>
<tr><td>Info</td><td>Show various information about the current card, including its review history. For more information, see <a href="stats.html#card-info">Card Info</a>.</td></tr>
</tbody></table>
</div>
<h3 id="go"><a class="header" href="#go">Go</a></h3>
<p>This menu exists to provide keyboard shortcuts to jump to various
parts of the browser, and to go up and down the card list.</p>
<h2 id="find-and-replace"><a class="header" href="#find-and-replace">Find and Replace</a></h2>
<p>This dialog allows for replacing text on notes. As described above, it is available
from the toolbar and the table’s context menu.</p>
<p>The first input field is for the text that is going to be replaced, the second
one for the replacement. Next, there is a dropdown menu that allows you to specify
where Anki should look for text to replace: in a note’s tags (requires Anki 2.1.45+),
in all fields, or just in a specific field (only fields belonging to a selected
note will be listed).</p>
<p>By default, only selected notes will be affected. If you want to lift that
restriction, you can untick the “selected notes only” checkbox (requires Anki 2.1.45+).</p>
<p>The regular expression option allows you to perform complex replacements.
For example, assume there is the following text in a field:</p>
<pre><code>&lt;img src="pic.jpg" /&gt;
</code></pre>
<p>We use these settings:</p>
<p><img src="media/find_and_replace.png" alt="Find and Replace dialog" /></p>
<p>(Note that on Anki versions prior to 2.1.28, you would need to replace <code>${1}</code>
with <code>\1</code>.)</p>
<p>Then the assumed field content will change to:</p>
<pre><code>pic.jpg
</code></pre>
<p>A full discussion on regular expressions is outside the scope of this document.
There are a number of syntax guides available on the web:</p>
<ul>
<li>For Anki 2.1.28+, see <a href="https://docs.rs/regex/latest/regex/index.html#syntax">https://docs.rs/regex/latest/regex/index.html#syntax</a>.</li>
<li>For older Anki versions, see <a href="http://docs.python.org/library/re.html">http://docs.python.org/library/re.html</a>.</li>
</ul>
<h2 id="finding-duplicates"><a class="header" href="#finding-duplicates">Finding Duplicates</a></h2>
<p>You can use the <strong>Notes &gt; Find Duplicates</strong> option to search for notes that
have the same content. When you open the window, Anki will look at all
of your note types and present a list of all possible fields. If you
want to look for duplicates in the <em>Back</em> field, you’d select it from
the list and then click <strong>Search</strong>.</p>
<p>By default, it will search in all note types that have the field you provided.
This differs from the duplicate check when you add cards manually, which
is limited to a single note type.</p>
<p>The <strong>Optional filter</strong> text box allows you to narrow down where Anki will
look for duplicates. If you only want to search for duplicates in the
“French Vocab” and “French Verbs” note types, you would enter:</p>
<pre><code>"note:french vocab" or "note:french verbs"
</code></pre>
<p>Or you might want to look only for duplicates in a particular deck, so
you could use:</p>
<pre><code>"deck:myDeck"
</code></pre>
<p>The search syntax is the same as used when searching in the browser.
For more information, see <a href="searching.html">Searching</a>.</p>
<p>You can click one of the links in the search results list to display the
duplicate notes in that set. If the search brings up a large number of
duplicates, you may wish to instead click the <strong>Tag Duplicates</strong> button,
which will tag all matching notes with <em>duplicate</em>. You can then search
for this tag in the browser and handle them all from the same screen.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="filtered-decks--cramming"><a class="header" href="#filtered-decks--cramming">Filtered Decks &amp; Cramming</a></h1>
<ul>
<li><a href="filtered-decks.html#custom-study">Custom Study</a></li>
<li><a href="filtered-decks.html#home-decks">Home Decks</a></li>
<li><a href="filtered-decks.html#creating-manually">Creating Manually</a></li>
<li><a href="filtered-decks.html#order">Order</a></li>
<li><a href="filtered-decks.html#steps--returning">Steps &amp; Returning</a></li>
<li><a href="filtered-decks.html#due-reviews">Due Reviews</a></li>
<li><a href="filtered-decks.html#reviewing-ahead">Reviewing Ahead</a></li>
<li><a href="filtered-decks.html#rescheduling">Rescheduling</a></li>
<li><a href="filtered-decks.html#catching-up">Catching Up</a></li>
</ul>
<p>When you study a regular deck in Anki, only a limited number of cards
are shown: the cards Anki thinks you are about to forget, and a daily
limit of new cards. This is generally useful, as it ensures you don’t
spend more time studying than necessary. But sometimes it can be useful
to step outside of these normal limits, such as when you need to review
for a test, focus on particular material, and so on. To make this
possible, Anki provides a different type of deck called a “filtered
deck”.</p>
<p>Filtered decks offer a lot of possibilities. They can be used for
previewing cards, cramming cards before a test, studying particular
tags, catching up on a backlog with a particular sort order, reviewing
ahead of schedule, going over the day’s failed cards, and more.</p>
<h2 id="custom-study"><a class="header" href="#custom-study">Custom Study</a></h2>
<p>The easiest way to create a filtered deck is with the Custom Study
button, which appears at the bottom of the screen when you click on a
deck. It offers some convenient preset filters for common tasks like reviewing
the cards that you have failed that day. It will create a filtered deck called
“Custom Study Session” and automatically open it for you.</p>
<p>If an existing “Custom Study Session” deck exists, it will be emptied
before a new one is created. If you wish to keep a custom study deck,
you can rename it from the deck list.</p>
<p>Here is a summary of each of the options:</p>
<p><strong>Increase today’s new card limit</strong><br />
Add more new cards to the deck you are currently studying. Note that
unlike other options, this does “not” create a new filtered deck, it
modifies the existing deck.</p>
<p><strong>Increase today’s review card limit</strong><br />
If not all reviews due today were shown because of the daily review limit,
this option allows you to show more of them. As with the new cards
option, this modifies the existing deck.</p>
<p><strong>Review forgotten cards</strong><br />
Show all the cards, for which you’ve answered Again (1) within the number of days
you specify.</p>
<p><strong>Review ahead</strong><br />
Show cards that will be due in the near future (the number of days you
specify). This is useful for working through some of your older cards
before a vacation, but it will not help with cards you have learned
recently. Please see the <a href="filtered-decks.html#reviewing-ahead">reviewing ahead</a> section
below for more info.</p>
<p><strong>Preview new cards</strong><br />
Show cards that you have recently added, without converting them to
review cards as they are answered.</p>
<p><strong>Study by card state or tag</strong><br />
Select a certain number of cards from the current deck to study. You can
choose to select new cards only, due cards only, or all cards; after you
click “Choose Tags”, you can also limit the selected cards by tags. If
you wish to see all the cards in the deck (for instance, to study before
a big test), you can set the number of cards to more than the number of
cards in the deck.</p>
<h2 id="home-decks"><a class="header" href="#home-decks">Home Decks</a></h2>
<p>When a card is moved to a filtered deck, it retains a link to the deck,
from which it came. That previous deck is said to be the card’s “home
deck”.</p>
<p>Cards automatically return to their home deck after they are studied in
the filtered deck. This can be after a single review, or after multiple
reviews, depending on your settings.</p>
<p>It is also possible to move all cards back to their home decks at once:</p>
<ul>
<li>
<p>The “Empty” button in the study overview moves all cards in the
filtered deck back to their home deck, but does not delete the empty
filtered deck. This can be useful if you want to fill it again later
(using the Rebuild button).</p>
</li>
<li>
<p>Deleting a filtered deck does the same thing as “Empty” does, but
also removes the emptied deck from the deck list. No cards are
deleted when you delete a filtered deck.</p>
</li>
</ul>
<h2 id="creating-manually"><a class="header" href="#creating-manually">Creating Manually</a></h2>
<p>Advanced users can create filtered decks with arbitrary search strings
(or “filters”),
instead of relying on the preset filters. To create a filtered deck manually,
choose Create Filtered Deck from the Tools menu.</p>
<p>When you click the Build button, Anki finds cards that match the
settings you specified, and temporarily moves them from their existing
decks into your new filtered deck for study.</p>
<p>If you wish to fetch cards again using the same filter options (for
instance, if you want to study all cards with a particular tag every
day), you can use the Rebuild button at the bottom of the deck’s
overview screen.</p>
<p>The <strong>search</strong> area controls what cards Anki will gather. All of the
searches possible in the browser are also possible for filtered decks,
such as limiting to tags, finding cards forgotten a certain number of
times, and so on. Please see the <a href="searching.html">searching</a> section of the
manual for more information on the different possibilities.</p>
<p>Filtered decks cannot pull in cards that are suspended, buried, or already in a
different filtered deck. For this reason, a search in the
browser may reveal cards that do not end up in the filtered deck.</p>
<p>The <strong>limit</strong> option controls how many cards will be gathered into the
deck. The order you select controls both the order cards are gathered
in, and the order they will be reviewed in. If you select “most lapses”
and a limit of 20 for example, then Anki will show you only the 20 most
lapsed cards.</p>
<p>The <strong>enable second filter</strong> option allows you to create a filtered deck
comprised of two different searches, so that you can, for example, include
due cards with one order, and a smaller amount of new cards with a different order.</p>
<h2 id="order"><a class="header" href="#order">Order</a></h2>
<p>The “cards selected by” option controls the order that cards will appear
in. If the maximum number of cards you select is lower than the number
of cards that match the filter criteria, Anki will exclude the cards at
the end of this sorted list first.</p>
<p><strong>Oldest seen first</strong><br />
Display those cards first, that you haven’t seen in reviews for the longest
time.</p>
<p><strong>Random</strong><br />
Randomize the order of all cards that match the filter criteria (use no
set order).</p>
<p><strong>Increasing intervals</strong><br />
Display cards that have the smallest interval first.</p>
<p><strong>Decreasing intervals</strong><br />
Display cards that have the largest interval first.</p>
<p><strong>Most lapses</strong><br />
Display those cards first, that you have failed the most times.</p>
<p><strong>Order added</strong><br />
Display cards that you added first (i.e. those cards that have the earliest
creation date).</p>
<p><strong>Order due</strong><br />
Display cards with the earliest due date first.</p>
<p><strong>Latest added first</strong><br />
Display cards that you have most recently added to the deck first.
(This is the opposite of “Order added”.)</p>
<p><strong>Relative overdueness</strong><br />
Display cards that you’re most likely to have forgotten first. This is useful if
you have a large backlog that may take some time to get through, and you want to
reduce the chances of forgetting more cards.</p>
<p>When using the SM-2 algorithm, overduessness is determined by comparing how
overdue cards are, and how long their interval is. For example, a card with a
current interval of 5 days that is overdue by 2 days, will display before a card
with a current interval of 10 days that is overdue by 3 days.</p>
<p>When using FSRS, overdueness is calculated based on on each card’s retrievability,
and the desired retention in the deck preset.</p>
<h2 id="steps--returning"><a class="header" href="#steps--returning">Steps &amp; Returning</a></h2>
<p>By default, Anki will use the steps of a card’s home deck. If a new card
would normally be reviewed twice when being learned, the same thing will
happen when you study it in a filtered deck.
To learn about how (re)learning steps work, see <a href="deck-options.html#learning-steps">Deck Options</a> section.</p>
<p>Cards return to their home deck when (re)learning is complete. Thus if
you have 3 learning steps, a new card will return to its home deck upon
three presses of “Good” or a single press of “Easy”.</p>
<p>Filtered decks with rescheduling disabled show 4 buttons. The <strong>Again</strong>, <strong>Hard</strong>, and <strong>Good</strong> buttons have configurable delays. The <strong>Easy</strong> button removes cards from the filtered deck.</p>
<h2 id="due-reviews"><a class="header" href="#due-reviews">Due Reviews</a></h2>
<p>If the filtered deck includes cards that were due for review, they will
be shown like they would have been in their original deck: they appear
in the review card count at the bottom of the screen, and there are four
choices for how well you remembered. Upon a correct answer, the card
will be moved back to its home deck, and its next delay adjusted using
the home deck’s settings. If you forget the card, it will be shown
according to the relearning steps defined in the home deck.</p>
<h2 id="reviewing-ahead"><a class="header" href="#reviewing-ahead">Reviewing Ahead</a></h2>
<p>If your search included cards that are not due, Anki will show the
reviews ahead of time.</p>
<p>Anki uses a special algorithm for these reviews that takes into account
how early you are reviewing. If the cards were almost due to be shown,
they will be given a new delay similar to what they would have received
if you had reviewed them on time. If the cards are reviewed soon after
they were scheduled however, their new delay will be similar to their
previous delay. This calculation works on a sliding scale.</p>
<p>Because reviewing a card shortly after it is scheduled has little impact
on scheduling (e.g. a card due tomorrow with a one day interval will
remain due tomorrow if reviewed early), <strong>the “review ahead” custom
study setting is not appropriate for repeated use</strong>. If used to go
through a week’s worth of cards before a trip, the mature cards will be
rescheduled into the future and the new cards will remain at small
intervals, because you don’t know them well enough for them to be
rescheduled further. If you review ahead again the next day, all you’ll
end up doing is going through those same new cards again, to little
benefit.</p>
<h2 id="rescheduling"><a class="header" href="#rescheduling">Rescheduling</a></h2>
<p>By default, Anki will return cards to their home decks with altered scheduling,
based on your performance in the filtered deck.</p>
<p>To change this behaviour, turn off <strong>Reschedule
cards based on my answers</strong>. When this is turned off, cards are shown in a simple “preview mode”, and
when they are returned to their original deck, they are returned exactly as they started.</p>
<h2 id="catching-up"><a class="header" href="#catching-up">Catching Up</a></h2>
<p>Filtered decks can be useful for catching up when you’ve fallen behind
in your reviews. One Anki user describes the way they use the filtered
decks to catch up as follows:</p>
<pre><code>I did this for a backlog of 800 cards with filtered subdecks. Worked
very well for me.

Just Due filter with: "is:due prop:due&gt;-7"

Over Due filter with: "is:due prop:due&lt;=-7"

The Just Due deck will then contain cards that became due in the past
week. That's the deck you should study every day as it gets the cards
that become due regularly. With this you can study as if there weren't
any backlog.

The Over Due deck will contain your backlog — cards which you didn't
study in time. You can study them the same way you would study new
cards. They go back into the regular cards, so the number of overdue
will never grow as long as you keep your Just Due deck in check.

How long it takes depends on how many overdue cards you study each day
in addition to the ones that become due regularly. You can still motor
through them when you feel like it - or you can do a specific number per
day like you would for new cards. Up to you.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="searching"><a class="header" href="#searching">Searching</a></h1>
<ul>
<li><a href="searching.html#simple-searches">Simple searches</a></li>
<li><a href="searching.html#limiting-to-a-field">Limiting to a field</a></li>
<li><a href="searching.html#tags-decks-cards-and-notes">Tags, decks, cards and notes</a></li>
<li><a href="searching.html#ignoring-accentscombining-characters">Ignoring accents/combining characters</a></li>
<li><a href="searching.html#regular-expressions">Regular expressions</a></li>
<li><a href="searching.html#card-state">Card state</a></li>
<li><a href="searching.html#flags">Flags</a></li>
<li><a href="searching.html#card-properties">Card properties</a></li>
<li><a href="searching.html#recent-events">Recent Events</a>
<ul>
<li><a href="searching.html#added">Added</a></li>
<li><a href="searching.html#edited">Edited</a></li>
<li><a href="searching.html#answered">Answered</a></li>
<li><a href="searching.html#first-answered">First Answered</a></li>
</ul>
</li>
<li><a href="searching.html#matching-special-characters">Matching special characters</a>
<ul>
<li><a href="searching.html#raw-input">Raw input</a></li>
</ul>
</li>
<li><a href="searching.html#object-ids">Object IDs</a></li>
<li><a href="searching.html#custom-data">Custom Data</a></li>
<li><a href="searching.html#other-searches">Other Searches</a></li>
</ul>
<p>Anki’s Browse screen and the Filtered Deck feature use a common method
of searching for specific cards/notes. This method can also be used to adjust the scope of FSRS optimization.</p>
<h2 id="simple-searches"><a class="header" href="#simple-searches">Simple searches</a></h2>
<p>When you type some text into the search box, Anki finds matching notes
and displays their cards. Anki searches in all fields of the notes, but
does not search for tags (see <a href="searching.html#tags-decks-cards-and-notes">later in this section</a> to search for tags). Some examples:</p>
<p><code>dog</code><br />
searches for “dog” - will match words like “doggy” and “underdog” too.</p>
<p><code>dog cat</code><br />
finds notes that have both “dog” and “cat” on them, such as “raining
cats and dogs”.</p>
<p><code>dog or cat</code><br />
finds notes with either “dog” or “cat”.</p>
<p><code>dog (cat or mouse)</code><br />
finds notes with “dog” and “cat”, or “dog” and “mouse”.</p>
<p><code>-cat</code><br />
finds notes without “cat”.</p>
<p><code>-cat -mouse</code><br />
finds notes with neither “cat” nor “mouse”.</p>
<p><code>-(cat or mouse)</code><br />
same as the above.</p>
<p><code>"a dog"</code><br />
finds notes with the exact sequence of characters “a dog” in them, such
as “atta dog”, but not “dog a” or “adog”.</p>
<p><code>-"a dog"</code><br />
finds notes without the exact sequence of characters “a dog” in them.</p>
<p><code>d_g</code><br />
finds notes with d, &lt;one character&gt;, g, like dog, dig, dug, and so on.</p>
<p><code>d*g</code><br />
finds notes with d, &lt;zero or more characters&gt;, g, like dg, dog, dung,
etc.</p>
<p><code>w:dog</code><br />
searches for the word “dog” as opposed to a sequence of characters - will match “dog”, but not “doggy”
or “underdog”. Requires Anki 2.1.24+, AnkiMobile 2.1.61+, or AnkiDroid 2.17+. Note that
formatting changes may be interpreted as word boundaries, e.g. searching
for <code>w:exam</code> will match <strong>exam</strong>ple, as the “exam” part of example is in bold format.</p>
<p><code>w:dog*</code><br />
will match “dog” and “doggy”, but not “underdog”.</p>
<p><code>w:*dog</code><br />
will match “dog” and “underdog”, but not “doggy”.</p>
<p>Things to note from the above:</p>
<ul>
<li>
<p>Search terms are separated by spaces.</p>
</li>
<li>
<p>When multiple search terms are provided, Anki looks for notes that
match all of the terms - an implicit <code>and</code> is inserted between each
term. On Anki 2.1.24+, AnkiMobile 2.0.60+, and AnkiDroid 2.17+ you can be explicit
if you like (<code>dog and cat</code> is the same as <code>dog cat</code>), but older
Anki versions will treat <code>and</code> as just another word to search for.</p>
</li>
<li>
<p>You can use <code>or</code> if you only need one of the terms to match.</p>
</li>
<li>
<p>You can prepend a minus sign (<code>-</code>) to a term to find notes that don’t
match the term.</p>
</li>
<li>
<p>You can group search terms by placing them in parentheses, as in the
<code>dog (cat or mouse)</code> example. This becomes important when
combining OR and AND searches — in the example, with the
parentheses, it matches either “dog cat” or “dog mouse”, whereas
without them it would match either “dog and cat” or “mouse”.</p>
</li>
<li>
<p>Anki is only able to search within formatting in the <a href="editing.html#customizing-fields">sort field</a> you’ve configured. For example, if you add
“<strong>exa</strong>mple” to one of your fields, with the “exa” part in bold, this will not be matched when
searching for <code>example</code> unless that field is the sort field. If a
word is not formatted, or the formatting does not change in the
middle of the word, then Anki will be able to find it in any field.</p>
</li>
<li>
<p>Standard searches are case insensitive for Latin characters - a-z will
match A-Z, and vice versa. Other characters such as Cyrillic are case sensitive
in a standard search, but can be made case insensitive by searching on a word
boundary or regular expression (<code>w:</code>, <code>re:</code>).</p>
</li>
</ul>
<h2 id="limiting-to-a-field"><a class="header" href="#limiting-to-a-field">Limiting to a field</a></h2>
<p>You can also ask Anki to match only if a particular field contains some
text. Unlike the previous search examples, searching in fields requires an exact
match by default.</p>
<p><code>front:dog</code><br />
finds notes with a Front field of exactly “dog”. A field that says “a
dog” will not match.</p>
<p><code>"animal front:a dog"</code><br />
finds notes where the “Animal Front” field is exactly “a dog”. The double quotes are
mandatory: see <a href="searching.html#matching-special-characters">later in this section</a>.</p>
<p><code>front:*dog*</code><br />
finds notes where the Front field contains dog somewhere.</p>
<p><code>front:</code><br />
finds notes that have an empty Front field.</p>
<p><code>front:_*</code><br />
finds notes that have a non-empty Front field.</p>
<p><code>front:*</code><br />
finds notes that have a Front field, empty or not.</p>
<p><code>fr*:text</code><br />
finds notes in a field starting with “fr”. Requires Anki 2.1.24+, AnkiMobile 2.1.60+, or AnkiDroid 2.17+.</p>
<h2 id="tags-decks-cards-and-notes"><a class="header" href="#tags-decks-cards-and-notes">Tags, decks, cards and notes</a></h2>
<p><code>tag:animal</code><br />
finds notes with the tag “animal”, or subtags like “animal::mammal”.</p>
<p><code>tag:none</code><br />
finds notes with no tags.</p>
<p><code>tag:ani*</code><br />
finds notes with tags starting with “ani”.</p>
<p><code>deck:french</code><br />
find cards in a top-level deck called “French”, or its subdecks like “French::Words”. It will not match subdecks with that name, such as “Languages::French”.</p>
<p><code>deck:french::words</code><br />
find cards in the “French::Words” subdeck.</p>
<p><code>deck:french -deck:french::*</code><br />
finds cards in “French”, but not its subdecks.</p>
<p><code>deck:"french words"</code><br />
searching when the deck name has a space.</p>
<p><code>"deck:french words"</code><br />
same as earlier.</p>
<p><code>deck:filtered</code><br />
filtered decks only.</p>
<p><code>-deck:filtered</code><br />
normal decks only.</p>
<p><code>preset:"Default"</code><br />
cards in all decks that use the “Default” deck options preset.
Requires Anki 23.10+, AnkiMobile 23.10+ or AnkiDroid 2.17+.</p>
<p><code>card:forward</code><br />
finds cards created by a card type named “Forward”.</p>
<p><code>card:1</code><br />
searches for cards by card type number, e.g. to find the second cloze
deletion for a note, you’d use <code>card:2</code></p>
<p><code>note:basic</code><br />
searches for cards created with a note type named “Basic”.</p>
<h2 id="ignoring-accentscombining-characters"><a class="header" href="#ignoring-accentscombining-characters">Ignoring accents/combining characters</a></h2>
<p>Requires Anki 2.1.24+, AnkiMobile 2.0.60+ or AnkiDroid 2.17+.</p>
<p>You can use <code>nc:</code> (nc stands for “no combining”) to make Anki ignore combining characters. For example:</p>
<p><code>nc:uber</code><br />
matches notes with “uber”, “über”, “Über” and so on.</p>
<p><code>nc:は</code><br />
matches “は”, “ば”, and “ぱ”.</p>
<p>Searches that ignore combining characters are slower than regular searches.</p>
<h2 id="regular-expressions"><a class="header" href="#regular-expressions">Regular expressions</a></h2>
<p>Anki 2.1.24+, AnkiMobile 2.0.60+ and AnkiDroid 2.17+ support searching in notes with “regular expressions”,
a standard and powerful way of searching in text.</p>
<p>Start a search with <code>re:</code> to search using regular expressions. To make things easier, Anki will
treat the following as <a href="searching.html#raw-input">raw input</a>, so bear in mind the rules listed there.</p>
<p>Some examples:</p>
<p><code>"re:(some|another).*thing"</code><br />
finds notes that have “some” or “another” on them, followed by 0 or more characters, and then “thing”.</p>
<p><code>re:\d{3}</code><br />
finds notes that have 3 digits in a row.</p>
<p>Regular expressions can also be limited to a specific field. Please note that unlike the normal searches
in a specific field, regular expressions in fields don’t require an exact match:</p>
<p><code>front:re:[a-c]1</code><br />
matches uppercase or lowercase a1, B1 or c1 that occurs anywhere in the “Front” field.</p>
<p><code>front:re:^[a-c]1$</code><br />
same as the previous example, but will not match if any other text falls before or after a1/b1/c1.</p>
<p>Anki 2.1.50+ supports regular expressions for tags:</p>
<p><code>tag:re:^parent$</code><br />
finds notes with the exact tag “parent”, disregarding any child tags like “parent::child”.</p>
<p><code>"tag:re:lesson-(1[7-9]|2[0-5])"</code><br />
finds notes with tags “lesson-17” through “lesson-25”.</p>
<p>For more information on regular expressions, see <a href="https://regexone.com/lesson/introduction_abcs">this website</a>.</p>
<p>Some things to be aware of:</p>
<ul>
<li>The search is case-insensitive by default; use <code>(?-i)</code> at the start to turn on case sensitivity.</li>
<li>Some text like spaces and newlines may be represented differently in HTML - you can
use the HTML editor in the editing screen to see the underlying HTML contents.</li>
<li>For the specifics of Anki’s regex support, see the <a href="https://docs.rs/regex/1.3.9/regex/#syntax">regex crate documentation</a>.</li>
</ul>
<h2 id="card-state"><a class="header" href="#card-state">Card state</a></h2>
<p><code>is:due</code><br />
review cards and learning cards waiting to be studied.</p>
<p><code>is:new</code><br />
new cards.</p>
<p><code>is:learn</code><br />
cards in learning.</p>
<p><code>is:review</code><br />
reviews (both due and not due) and lapsed cards.</p>
<p><code>is:suspended</code><br />
cards that have been <a href="leeches.html">automatically</a> or manually suspended.</p>
<p><code>is:buried</code><br />
cards that have been either <a href="studying.html#siblings-and-burying">automatically</a> or
manually buried.</p>
<p><code>is:buried-sibling</code><br />
cards that have been buried automatically.</p>
<p><code>is:buried-manually</code><br />
cards that have been manually buried.</p>
<p>Cards that have <a href="deck-options.html#lapses">lapsed</a> fall into several of the previous categories, so it may
be useful to combine different search terms to get more precise results:</p>
<p><code>is:learn is:review</code><br />
cards that have lapsed and are awaiting relearning.</p>
<p><code>-is:learn is:review</code><br />
review cards, not including lapsed cards.</p>
<p><code>is:learn -is:review</code><br />
cards that are in learning for the first time.</p>
<h2 id="flags"><a class="header" href="#flags">Flags</a></h2>
<p><code>flag:0</code><br />
cards without a flag.</p>
<p><code>flag:1</code><br />
cards with a red flag.</p>
<p><code>flag:2</code><br />
cards with an orange flag.</p>
<p><code>flag:3</code><br />
cards with a green flag.</p>
<p><code>flag:4</code><br />
cards with a blue flag.</p>
<p><code>flag:5</code><br />
cards with a pink flag.</p>
<p><code>flag:6</code><br />
cards with a turquoise flag.</p>
<p><code>flag:7</code><br />
cards with a purple flag.</p>
<h2 id="card-properties"><a class="header" href="#card-properties">Card properties</a></h2>
<p><code>prop:ivl&gt;=10</code><br />
cards with interval of 10 days or more.</p>
<p><code>prop:due=1</code><br />
cards due tomorrow.</p>
<p><code>prop:due=-1</code><br />
cards due yesterday that haven’t been answered yet.</p>
<p><code>prop:due&gt;=1</code><br />
all cards due in the future, including tomorrow.</p>
<p><code>prop:due&lt;=-1</code><br />
all  overdue cards.</p>
<p><code>prop:due&gt;=-1 prop:due&lt;=1</code><br />
cards due yesterday, today and tomorrow.</p>
<p><code>prop:reps&lt;10</code><br />
cards that have been answered less than 10 times.</p>
<p><code>prop:lapses&gt;3</code><br />
cards that been lapsed more than 3 times.</p>
<p><code>prop:ease!=2.5</code><br />
cards easier or harder than default ease.</p>
<p><code>prop:pos&lt;=100</code><br />
new cards with a position in the queue less than or equal to 100.</p>
<p>The following searches require Anki 23.10+ and FSRS enabled:</p>
<p><code>prop:s&gt;21</code><br />
cards with stability greater than 21 days.</p>
<p><code>prop:d&gt;0.3</code><br />
cards with difficulty greater than 0.3.</p>
<p><code>prop:r&lt;0.9</code><br />
cards with retrievability less than 0.9.</p>
<h2 id="recent-events"><a class="header" href="#recent-events">Recent Events</a></h2>
<h3 id="added"><a class="header" href="#added">Added</a></h3>
<p><code>added:1</code><br />
cards added today.</p>
<p><code>added:7</code><br />
cards added in the last 7 days.</p>
<p>The check is made against card creation time rather than note creation
time, so cards that were generated within the time frame will be
included even if their notes were added a long time ago.</p>
<h3 id="edited"><a class="header" href="#edited">Edited</a></h3>
<p><code>edited:n</code><br />
cards where the note text was added/edited in the last n days.</p>
<p>This requires Anki 2.1.28+ or AnkiMobile 2.0.64+.</p>
<h3 id="answered"><a class="header" href="#answered">Answered</a></h3>
<p><code>rated:1</code><br />
cards answered today.</p>
<p><code>rated:1:2</code><br />
cards answered Hard (2) today.</p>
<p><code>rated:7:1</code><br />
cards answered Again (1) in the last 7 days.</p>
<p><code>rated:31:4</code><br />
cards answered Easy (4) in the last 31 days.</p>
<p>Anki 2.1.39+ supports rating searches over 31 days.</p>
<p>Note that, to search for cards answered at a particular day, <code>rated:n -rated:(n-1)</code> might not work every time. Use the following instead:</p>
<p><code>prop:rated=0</code><br />
cards answered today.</p>
<p><code>prop:rated=-1</code><br />
cards answered one day ago.</p>
<p><code>prop:rated=-7</code><br />
cards answered 7 days ago.</p>
<h3 id="first-answered"><a class="header" href="#first-answered">First Answered</a></h3>
<p>Requires Anki 2.1.45+.</p>
<p><code>introduced:1</code><br />
cards answered for the first time today.</p>
<p><code>introduced:365</code><br />
cards answered for the first time within the last 365 days.</p>
<h2 id="matching-special-characters"><a class="header" href="#matching-special-characters">Matching special characters</a></h2>
<p>If you’re using a version earlier than Anki 2.1.36 the following searches may not work.</p>
<p>As shown in the previous section, some characters like <code>*</code>, <code>_</code> and <code>"</code> have a
special meaning in search. If you need to locate those characters in a search,
you need to tell Anki not to treat them specially. This is called “escaping a character” and is primarily done by using double quotes and backslashes.</p>
<ul>
<li>
<p><em>Space</em><br />
To match something that includes spaces, enclose the <code>"entire term"</code> in double
quotes. If it is a colon search, you also have the option to only quote the
<code>part:"after the colon"</code>.</p>
</li>
<li>
<p><code>And</code>/<code>Or</code><br />
To search for these words, wrap them with double quotes. For example, <code>dog "and" cat</code> searches for “dog”, “cat” and the word “and”.
If you wrap the entire search term with quotes like in the previous example, you do not need to escape <code>and</code> or <code>or</code>.</p>
</li>
<li>
<p><code>"</code>, <code>*</code> and <code>_</code><br />
Add a backslash before these characters to treat them literally. For example,
<code>_</code> will match any single character, but <code>\_</code> matches only an actual underscore.</p>
</li>
<li>
<p><code>\</code><br />
Because a backslash is used to remove the special meaning from other characters,
it too is treated specially. If you need to search for an actual backslash,
use <code>\\</code> instead of <code>\</code>.</p>
</li>
<li>
<p><code>(</code> and <code>)</code><br />
You can search for parentheses by enclosing the entire term in quotes,
by using a backslash, or both at the same time. For example, <code>"(text)"</code>, <code>\(text\)</code> and
<code>"\(text\)"</code> are all equivalent searches, and search for <code>(text)</code>.</p>
</li>
<li>
<p><code>-</code><br />
Starting a search term with <code>-</code> usually inverts it: <code>-dog</code> matches everything
except dog for example. If you instead wish to include an actual hyphen,
you can either use a backslash, or include the text in quotes. For example,
<code>\-free</code> or <code>"-free"</code> will match “guilt-free” and “cruelty-free”.</p>
</li>
<li>
<p><code>:</code><br />
Colons have to be escaped using backslashes unless they are preceded by another, unescaped colon.
For example, <code>w:3:30</code> searches for “3:30” on word boundary and doesn’t require you to use a backslash.
However, if you don’t use a colon search, the colons need to be escaped like this: <code>3\:30</code>.</p>
</li>
<li>
<p><code>&amp;</code>, <code>&lt;</code>, and <code>&gt;</code><br />
<code>&amp;</code>, <code>&lt;</code>, and <code>&gt;</code> are treated as HTML when searching in Anki, and as such, searches
containing them don’t work as expected. However, you can search for them by using their
corresponding HTML entity names (<code>&amp;amp;</code> for <code>&amp;</code>, <code>&amp;lt;</code> for <code>&lt;</code>, and <code>&amp;gt;</code> for <code>&gt;</code>).
For example, searching <code>&amp;amp;text</code> searches for a note with <code>&amp;text</code> in a field.</p>
</li>
</ul>
<h3 id="raw-input"><a class="header" href="#raw-input">Raw input</a></h3>
<p>Text preceded by certain keywords (like <code>re:</code>) will be treated as raw input. That is,
the characters listed above largely lose their special meaning. In such a context, only
a minimum of escaping is required to prevent ambiguity:</p>
<ul>
<li>
<p>Double quotes (<code>"</code>) must be escaped.</p>
</li>
<li>
<p>Spaces and unescaped parentheses require the search term to be quoted.</p>
</li>
<li>
<p>The search term must not end in an odd number of backslashes.</p>
</li>
</ul>
<h2 id="object-ids"><a class="header" href="#object-ids">Object IDs</a></h2>
<p><code>nid:123</code><br />
the note with note id 123.</p>
<p><code>cid:123,456,789</code><br />
all cards with card ids 123, 456, or 789.</p>
<p>Note and card IDs can be found in the <a href="stats.html">card info</a> dialog in the
browser. These searches may also be helpful when doing add-on
development or otherwise working closely with the database.</p>
<h2 id="custom-data"><a class="header" href="#custom-data">Custom Data</a></h2>
<p>Anki allows small amounts of custom data to be stored on cards, enabling
advanced use cases such as custom schedulers. One of the notable applications
of this feature was in earlier implementations of FSRS. In Anki 23.10+, there
are some ways to search it:</p>
<p><code>has-cd:v</code><br />
cards having the property <code>v</code> in custom data.</p>
<p><code>prop:cdn:d&gt;5</code><br />
cards with the value of <code>d</code> in custom data (usually refers to difficulty in FSRS) greater than 5.</p>
<p><code>prop:cds:v=reschedule</code><br />
cards with the string <code>v</code> in custom data equal to <code>reschedule</code>.</p>
<h2 id="other-searches"><a class="header" href="#other-searches">Other Searches</a></h2>
<p><code>prop:due=1 is:learn</code><br />
interday learning cards due for tomorrow.</p>
<p><code>prop:due=0 is:learn -introduced:1</code><br />
interday learning cards due today.</p>
<p><code>prop:resched=0</code><br />
cards rescheduled today, either using <strong>Set due date</strong> or <strong>Reschedule cards on change</strong>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="importing"><a class="header" href="#importing">Importing</a></h1>
<p>Anki can import text files, packaged Anki decks created by the export
feature, Mnemosyne 2.0 .db files, and SuperMemo .xml files. To import a
file, click the File menu and then “Import”.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="text-files"><a class="header" href="#text-files">Text Files</a></h1>
<ul>
<li><a href="importing/text-files.html#spreadsheets-and-utf-8">Spreadsheets and UTF-8</a></li>
<li><a href="importing/text-files.html#html">HTML</a></li>
<li><a href="importing/text-files.html#importing-media">Importing Media</a></li>
<li><a href="importing/text-files.html#bulk-media">Bulk Media</a></li>
<li><a href="importing/text-files.html#duplicates-and-updating">Duplicates and Updating</a></li>
<li><a href="importing/text-files.html#file-headers">File Headers</a>
<ul>
<li><a href="importing/text-files.html#notetype-column">Notetype Column</a></li>
<li><a href="importing/text-files.html#deck-column">Deck Column</a></li>
<li><a href="importing/text-files.html#guid-column">GUID Column</a></li>
</ul>
</li>
</ul>
<p>Any <strong>plain text</strong> file that contains fields separated by commas,
semicolons or tabs can be imported into Anki, provided some conditions
are met.</p>
<ul>
<li>
<p>The files must be plain text (myfile.txt). Other formats like
myfile.xls, myfile.rtf, myfile.doc must be saved as a plain text
file first.</p>
</li>
<li>
<p>The files must be in UTF-8 format (see below).</p>
</li>
<li>
<p>Anki determines the number of fields in the file by looking at the first
(non-commented) line. If some of the later records in the file contain fewer
fields, Anki will treat the missing fields as if they were blank. If some of your
records contain extra fields, the extra content will not be imported.</p>
</li>
<li>
<p>Anki tries to guess which field separator (commas, tabs, etc.) your file uses.
If it guesses wrongly, you can change it in the import options window and preview
the results. Or you can add <a href="importing/text-files.html#file-headers">file headers</a> to force a specific field separator.</p>
</li>
</ul>
<p>Fields in your text file can be mapped to any field in your notes,
including the tags field. You can choose which field in the text file
corresponds to which field in the note when you import.</p>
<p>When you import a text file, you can choose what deck to put the cards
in. Keep in mind that if you have the deck override option set for one
or more of your templates, the cards will go to that deck rather than
the one you’ve selected.</p>
<p>This is an example of a valid file with three fields:</p>
<pre><code>apple;banana;grape
first field;second field;third field
</code></pre>
<p>There are two ways to include newlines or the field separator in fields.</p>
<p><strong>Escape the characters by placing the contents of the field in
quotation marks</strong>:</p>
<pre><code>hello;"this is
a two line answer"
two;this is a one line field
"this includes a ; (semicolon)";another field
</code></pre>
<p>Because quotes are used to mark where a field begins and ends, if you
wish to include them inside your field, you need to replace a single
doublequote with two doublequotes to “escape” them from the regular
handling, like so:</p>
<pre><code>field one;"field two with ""escaped quotes"" inside it"
</code></pre>
<p>When you use a spreadsheet program like Libreoffice to create the CSV
file for you, it will automatically take care of escaping double quotes.</p>
<p><strong>Use HTML new lines</strong>:</p>
<pre><code>hello; this is&lt;br&gt;a two line answer
two; this is a one line one
</code></pre>
<p>You need to turn on the <strong>Allow HTML in fields</strong> in the import
dialog for HTML newlines to work.</p>
<p>Escaped multi-lines will not work correctly if you are using cloze
deletions that span multiple lines. In this case, please use HTML
newlines instead.</p>
<p>You can also include tags in another field and select it as a tags field
in the import dialog:</p>
<pre><code>first field;second field;tags
</code></pre>
<p>This is an example of a valid file where the first line is ignored (#):</p>
<pre><code># this is a comment and is ignored
foo bar;bar baz;baz quux
field1;field2;field3
</code></pre>
<h2 id="spreadsheets-and-utf-8"><a class="header" href="#spreadsheets-and-utf-8">Spreadsheets and UTF-8</a></h2>
<p>If you have non-Latin characters in your file (such as accents, Japanese
and so on), Anki expects files to be saved in a “UTF-8 encoding”. The
easiest way to do this is to use the free LibreOffice spreadsheet
program instead of Excel to edit your file, as it supports UTF-8 easily,
and also exports multi-line content properly, unlike Excel. If you wish
to keep using Excel, please see <a href="https://docs.google.com/document/d/12YE_FS6A9ANLTESJNtPP116ti4nNmCBghyoJBRtno_k/edit?usp=sharing">this doc</a>
for more information.</p>
<p>To save your spreadsheet to a file Anki can read with LibreOffice, go to
<strong>File &gt; Save As</strong>, and then select CSV for the type of file. After
accepting the default options, LibreOffice will save the file and you
can then import the saved file into Anki.</p>
<h2 id="html"><a class="header" href="#html">HTML</a></h2>
<p>Anki can treat text imported from text files as HTML (the language used
for web pages). This means that text with bold, italics and other
formatting can be exported to a text file and imported again. If you
want to include HTML formatting, you can check the “allow HTML in
fields” checkbox when importing. You may wish to turn this off if you’re
trying to import cards whose content contains angle brackets or other
HTML syntax.</p>
<p>If you wish to use HTML for formatting your file but also wish to
include angle brackets or ampersands, you may use the following replacements:</p>
<div class="table-wrapper"><table><thead><tr><th>Character</th><th>Replacement</th></tr></thead><tbody>
<tr><td>&lt;</td><td><code>&amp;lt;</code></td></tr>
<tr><td>&gt;</td><td><code>&amp;gt;</code></td></tr>
<tr><td>&amp;</td><td><code>&amp;amp;</code></td></tr>
</tbody></table>
</div>
<h2 id="importing-media"><a class="header" href="#importing-media">Importing Media</a></h2>
<p>If you want to include audio and pictures from a text file import, copy
the files into the <a href="importing/../files.html">collection.media folder</a>. <strong>Do not put
subdirectories in the media folder, or some features will not work.</strong></p>
<p>After you’ve copied the files, change one of the fields in your text
file as follows.</p>
<pre><code>&lt;img src="myimage.jpg"&gt;
</code></pre>
<p>or</p>
<pre><code>[sound:myaudio.mp3]
</code></pre>
<p>Alternatively, you can use the <a href="importing/../browsing.html">find and replace</a> feature
in the browse screen to update all the fields at once. If each field
contains text like “myaudio”, and you wish to make it play a sound,
you’d search for (.*) and replace it with “[sound:\1.mp3]”, with the
<strong>regular expressions</strong> option enabled.</p>
<p>When importing a text file with these references, you must make sure to
enable the “Allow HTML” option.</p>
<p>You might be tempted to do this in a template, like:</p>
<pre><code>&lt;img src="{{field name}}"&gt;
</code></pre>
<p>Anki doesn’t support this for two reasons: searching for used media is
expensive, as each card has to be rendered, and such functionality isn’t
obvious to shared deck users. Please use the find &amp; replace technique
instead.</p>
<h2 id="bulk-media"><a class="header" href="#bulk-media">Bulk Media</a></h2>
<p>Another option for importing large amounts of media at once is to use
the <a href="https://ankiweb.net/shared/info/129299120">media import add-on</a>.
This add-on will automatically create notes for all files in a folder
you select, with the filenames on the front (minus the file extension,
so if you have a file named apple.jpg, the front would say “apple”) and
the images or audio on the back. If you would like a different
arrangement of media and filenames, you can <a href="importing/../browsing.html">change the note type</a> of the created cards afterwards.</p>
<h2 id="duplicates-and-updating"><a class="header" href="#duplicates-and-updating">Duplicates and Updating</a></h2>
<p>When importing text files, Anki uses the first field to determine if a
note is unique. By default, if the file you are importing has a first
field that matches one of the existing notes in your collection and that
existing note is the same type as the type you’re importing, the
existing note’s other fields will be updated based on content of the
imported file. A drop-down box in the import screen allows you to change
this behaviour, to either ignore duplicates completely, or import them
as new notes instead of updating existing ones.</p>
<p>The <strong>match scope</strong> setting controls how duplicates are identified. When
<strong>note type</strong> is selected, Anki will identify a duplicate if another note
with the same note type has the same first field. When set to <strong>note type and deck</strong>,
a duplicate will only be flagged if the existing note also happens to be
in the deck you are importing into.</p>
<p>If you have updating turned on and older versions of the notes you’re
importing are already in your collection, they will be updated in place
(in their current decks) rather than being moved to the deck you have
set in the import dialog. If notes are updated in place, the existing
scheduling information on all their cards will be preserved.</p>
<p>For info on how duplicates are handled in .apkg files, please see the
<a href="importing/../exporting.html#packaged-decks">Deck Packages</a> section.</p>
<h2 id="file-headers"><a class="header" href="#file-headers">File Headers</a></h2>
<p>Anki 2.1.54+ supports certain headers that can be included in the text file to
make importing more powerful or convenient. They consist of <code>#key:value</code> pairs
and must be listed in separate lines at the top of the file.</p>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Allowed Values</th><th>Behaviour</th></tr></thead><tbody>
<tr><td><code>separator</code></td><td><code>Comma</code>, <code>Semicolon</code>, <code>Tab</code>, <code>Space</code>, <code>Pipe</code>, <code>Colon</code>, or the according literal characters</td><td>Determines the field separator.</td></tr>
<tr><td><code>html</code></td><td><code>true</code>, <code>false</code></td><td>Determines whether the file is treated as HTML.</td></tr>
<tr><td><code>tags</code></td><td>List of tags, separated by spaces</td><td>Adds the listed tags to every imported note.</td></tr>
<tr><td><code>columns</code></td><td>List of names, separated by the previously set separator</td><td>Determines the number of columns and shows their given names when importing.</td></tr>
<tr><td><code>notetype</code></td><td>Note type name or id</td><td>Presets the note type, if it exists.</td></tr>
<tr><td><code>deck</code></td><td>Deck name or id</td><td>Presets the deck, if it exists.</td></tr>
<tr><td><code>notetype column</code></td><td><code>1</code>, <code>2</code>, <code>3</code>, …</td><td>Determines which column contains the note type name or id of each note, see <a href="importing/text-files.html#notetype-column">Notetype Column</a>.</td></tr>
<tr><td><code>deck column</code></td><td><code>1</code>, <code>2</code>, <code>3</code>, …</td><td>Determines which column contains the deck name or id of each note, see <a href="importing/text-files.html#deck-column">Deck Column</a>.</td></tr>
<tr><td><code>tags column</code></td><td><code>1</code>, <code>2</code>, <code>3</code>, …</td><td>Determines which column contains the tags of each note.</td></tr>
<tr><td><code>guid column</code></td><td><code>1</code>, <code>2</code>, <code>3</code>, …</td><td>Determines which column contains the GUID of each note, see <a href="importing/text-files.html#guid-column">GUID Column</a>.</td></tr>
</tbody></table>
</div>
<p>Some headers have further implications.</p>
<h3 id="notetype-column"><a class="header" href="#notetype-column">Notetype Column</a></h3>
<p>Usually, all notes from a file will be mapped to a single note type. That changes, if there is a column with note type names or ids.</p>
<p>This allows you to
import notes with different note types, and their fields will be mapped implicitly:
The first regular column is used for the first field of any note regardless of
its note type, the second regular column for the second field, and so on.
A <em>regular column</em> here being a column that does not contain special information
like decks, tags, note types or GUIDs.</p>
<h3 id="deck-column"><a class="header" href="#deck-column">Deck Column</a></h3>
<p>Usually, any new cards created as a result of importing a text file will be placed
in a single deck of your choice. If the file contains a deck column, however, new
cards of a note will be placed in its specified deck instead. If the deck does not
exist, a deck with the given name will be created.</p>
<h3 id="guid-column"><a class="header" href="#guid-column">GUID Column</a></h3>
<p>GUID stands for <em>Globally Unique Identifier</em>. When you create notes in Anki, Anki
assigns each note a unique ID, which can be used for duplicate checking. If you
export your notes with the GUID included, you can make changes to the notes, and
as long as you do not modify the GUID field, you’ll be able to import the notes back
in to update the existing notes.</p>
<p>Please note that the GUID is intended to be created by Anki. If you are creating
your own IDs, such as <code>MYNOTE0001</code>, then it’s recommended that you place the IDs
in the first field, instead of assigning them to Anki’s internal GUID. When importing,
Anki is able to use either the first field or the GUID for duplicate checking, so you do not
need to make IDs a GUID in order to be able to update your notes.</p>
<p>One other thing to note is that the duplicate option will not work for rows that have a
non-empty GUID. If a GUID is provided, and already exists in the collection, a duplicate will
not be created.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="packaged-decks"><a class="header" href="#packaged-decks">Packaged Decks</a></h1>
<ul>
<li><a href="importing/packaged-decks.html#scheduling">Scheduling</a></li>
<li><a href="importing/packaged-decks.html#updating">Updating</a>
<ul>
<li><a href="importing/packaged-decks.html#anki-2310-and-later">Anki 23.10 and Later</a>
<ul>
<li><a href="importing/packaged-decks.html#note-to-deck-authors">Note to Deck Authors</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Anki packages (.apkg files) enable you to import decks, notes, note types, and cards from
other users. They are commonly shared on <a href="https://ankiweb.net/shared/decks">AnkiWeb</a>.</p>
<h2 id="scheduling"><a class="header" href="#scheduling">Scheduling</a></h2>
<p>Anki packages may also contain scheduling information, which is useful if you want to
transfer decks between devices or profiles. However, when importing
a deck shared by someone else, you typically do not want to adopt their card intervals
or review history.</p>
<p>If you encounter imported cards with unexpectedly large intevals, the deck author may
accidentally have included their scheduling information. You can use the
<a href="importing/../browsing.html#cards">Set Due Date feature</a> to reset the imported cards. On Anki
23.10 and later, you can remove any scheduling information during the import process
by leaving the “Import any learning progress” option unselected. This will also remove
any “leech” or “marked” tags from the imported cards.</p>
<h2 id="updating"><a class="header" href="#updating">Updating</a></h2>
<p>When you import an .apkg file, Anki will identify any notes in it that are
already in your collection due to a previous import. If the notes in the file
are newer than your local copy, the notes will be updated with the contents of
the file by default.</p>
<p>This updating process is generally not possible if the note type is changed (e.g. if either
you or the deck author do things like add an extra field to the note type).
You will still be able to import any missing notes from the file, but
notes you have imported previously will not be updated if the deck author
has made changes.</p>
<h3 id="anki-2310-and-later"><a class="header" href="#anki-2310-and-later">Anki 23.10 and Later</a></h3>
<p>Anki 23.10 introduced more flexibility: You can choose to unconditionally
update notes and note types, always overwriting your modifications,
or, on the other hand, never update existing objects.</p>
<p>Also, if both you and the deck author modified the same note type, you can now decide to
<em>merge</em> the two versions. This will preserve all templates and fields contained in
either one, but will require a full sync, and may mark other existing notes as modified.</p>
<h4 id="note-to-deck-authors"><a class="header" href="#note-to-deck-authors">Note to Deck Authors</a></h4>
<p>Merging relies on template and field ids, which were introduced in Anki 2.1.67.
If a template or field lacks an id, because it has been created with an earlier
release, Anki attempts to find an equivalent by comparing names.</p>
<p>See this <a href="https://ankiweb.net/shared/info/2063785767">this add-on</a> for why it is
advantageous to share note types with field and template ids, and how to add them to
existing ones.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exporting"><a class="header" href="#exporting">Exporting</a></h1>
<ul>
<li><a href="exporting.html#text-files">Text Files</a></li>
<li><a href="exporting.html#packaged-decks">Packaged Decks</a>
<ul>
<li><a href="exporting.html#collection-colpkg">Collection (.colpkg)</a></li>
<li><a href="exporting.html#deck-apkg">Deck (.apkg)</a></li>
</ul>
</li>
</ul>
<p>Exporting allows you to save part of your collection as a text file or
packaged Anki deck. To export, click the File menu and choose <strong>Export</strong>.</p>
<h2 id="text-files-1"><a class="header" href="#text-files-1">Text Files</a></h2>
<p>If you choose “Notes in Plain Text”, Anki will write the contents of the
notes into a text file. Each field is separated by a tab. If you edit
the resulting file and don’t modify the first field, you can later
import that file back into Anki and Anki will update your notes based on
your edits, provided you import back into the same note type.</p>
<p>If you find yourself needing to edit the first field as well, you’ll
need to change the format of your note type so that the first field is
an ID number rather than actual text. (You can install
the <a href="https://ankiweb.net/shared/info/8897764">Add note id</a>
add-on to make this easier.)</p>
<p>In order for formatting to be preserved when you import text back in,
the text is exported with all the HTML formatting embedded in it.</p>
<h2 id="packaged-decks-1"><a class="header" href="#packaged-decks-1">Packaged Decks</a></h2>
<p>A “packaged deck” consists of cards, notes, note types, and any sounds or
images bundled up into a file ending with .apkg or .colpkg. You can use
packaged decks to transfer cards between people, or for backing up parts
of your collection.</p>
<p>There are two different kinds of packaged decks.</p>
<h3 id="collection-colpkg"><a class="header" href="#collection-colpkg">Collection (.colpkg)</a></h3>
<p>When you export all decks with scheduling included, this is called a
“collection package”. Anki will copy your entire collection into a file
ending in .colpkg, and place it on your desktop. A collection package is
used to back up your collection, or copy it to another device.</p>
<p>Collection packages created with previous versions of Anki were called
collection.apkg.</p>
<p>When this file is later imported, Anki will delete all the current cards
in the collection, and replace the collection with the items in the
file. This is useful for copying your collection back and forth between
devices.</p>
<p>Existing media in your collection is not deleted when you import a
collection package. To delete unused media, use Tools&gt;Check Media.</p>
<p>If you choose Anki 2.1.50+ Collection Package format, imports and exports
will be faster, and media files will be compressed, but the resulting
.colpkg file will not be readable by older Anki clients.</p>
<h3 id="deck-apkg"><a class="header" href="#deck-apkg">Deck (.apkg)</a></h3>
<p>Deck packages contain a single deck (and any child decks it may have).
They have a filename ending with .apkg, but a filename other than
collection.apkg. When you import a deck package, Anki will add the
contents into your collection, rather than overwriting your collection.</p>
<p>If some notes in the deck package have previously been imported, Anki
will keep the version with the most recent modification time. So if you
download an updated deck, the edits that have been made in the updated
version will be made in your collection as well, but if you re-import an
unchanged deck after making edits in your collection, the changes in
your collection will be kept.</p>
<p>If you choose not to include scheduling information, Anki will assume
that you are sharing the deck with other people, and will remove marked
and leech tags so that they will have a clean copy of it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="backups-1"><a class="header" href="#backups-1">Backups</a></h1>
<ul>
<li><a href="backups.html#automatic-backups">Automatic backups</a>
<ul>
<li><a href="backups.html#restoring">Restoring</a></li>
<li><a href="backups.html#creating">Creating</a></li>
</ul>
</li>
<li><a href="backups.html#manual-colpkg-backups">Manual colpkg backups</a>
<ul>
<li><a href="backups.html#restoring-1">Restoring</a></li>
<li><a href="backups.html#creating-1">Creating</a></li>
</ul>
</li>
<li><a href="backups.html#ankiweb">AnkiWeb</a></li>
<li><a href="backups.html#deletion-log">Deletion log</a></li>
</ul>
<h2 id="automatic-backups"><a class="header" href="#automatic-backups">Automatic backups</a></h2>
<p>Anki will create automatic backups of your card data. These include the text
on your cards and your scheduling information, but do not include sounds or
image files.</p>
<p>Automatic backups can be useful to recover from mistakes, but you should not
rely solely on them. Because they are stored on your local device, they will not
protect you if your device breaks or is stolen. We recommend you combine them with
<a href="backups.html#manual-colpkg-backups">manual backups</a>.</p>
<h3 id="restoring"><a class="header" href="#restoring">Restoring</a></h3>
<p>To restore from an automatic backup:</p>
<ul>
<li>Open Anki, and choose Switch Profile from the File menu.</li>
<li>Click on the “Open Backup” button.</li>
<li>Select the backup you wish to restore from.</li>
</ul>
<div id="admonition-warning" class="admonition admonish-warning" role="note" aria-labelledby="admonition-warning-title">
<div class="admonition-title">
<div id="admonition-warning-title">
<p>Warning</p>
</div>
<a class="admonition-anchor-link" href="backups.html#admonition-warning"></a>
</div>
<div>
<p>When restoring from a backup, any changes made since the backup was created will be lost.</p>
</div>
</div>
<p>Anki disables automatic syncing and backups when you restore from a backup. Once you’re
happy that you’ve restored the correct backup, close and re-open Anki to return to normal.</p>
<h3 id="creating"><a class="header" href="#creating">Creating</a></h3>
<p>Backups are created periodically. You can configure the time between backups
in the <a href="preferences.html">preferences</a> screen. The default is 30 minutes.</p>
<p>Certain operations will trigger a backup, even if the configured time has not
elapsed yet:</p>
<ul>
<li>A one-way sync download</li>
<li>Importing a .colpkg file using File&gt;Import</li>
<li>Tools&gt;Check Database</li>
</ul>
<p>After backups are two days old, Anki will start removing some of the older ones.
You can control how many daily, weekly and monthly backups you’d like to keep.</p>
<p>Backups created with 2.1.50 will not be importable into older Anki versions.</p>
<h2 id="manual-colpkg-backups"><a class="header" href="#manual-colpkg-backups">Manual colpkg backups</a></h2>
<h3 id="restoring-1"><a class="header" href="#restoring-1">Restoring</a></h3>
<p>You can restore from a manual backup by using File&gt;Import.</p>
<h3 id="creating-1"><a class="header" href="#creating-1">Creating</a></h3>
<p>In Anki 2.1.50+, you can use File&gt;Create Backup to trigger an immediate backup. This
functions like regular automatic backups, and does not include media files.</p>
<p>To create a backup that includes your sounds and images:</p>
<ul>
<li>Select Export from the File menu.</li>
<li>Ensure “Anki collection package (.colpkg)” is selected.</li>
<li>Enable the “include media” option.</li>
</ul>
<p>This will create a .colpkg file that contains all of your cards and any sounds/images they
use. We recommend you store the file somewhere safe, like a different device, or a cloud-based
file storage service like Dropbox or Google Drive.</p>
<h2 id="ankiweb"><a class="header" href="#ankiweb">AnkiWeb</a></h2>
<p><a href="./syncing.html">Synchronising</a> your collection with AnkiWeb provides some level of protection
against your device being lost or stolen. If you need to restore your collection from AnkiWeb,
you can force a one-way sync in the preferences screen, or sync from a new device, and then choose
“Download”.</p>
<h2 id="deletion-log"><a class="header" href="#deletion-log">Deletion log</a></h2>
<p>Anki logs deleted notes to a text file called deleted.txt in your
profile folder. These notes are in a text format that can be read by
File&gt;Import, though please note the import feature only supports a
single note type at one time, so if you have deleted notes from
different note types, you’ll need to split the file into separate files
for each note type first.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="managing-files-and-your-collection"><a class="header" href="#managing-files-and-your-collection">Managing Files and Your Collection</a></h1>
<ul>
<li><a href="files.html#checking-your-collection">Checking Your Collection</a></li>
<li><a href="files.html#user-data">User Data</a></li>
<li><a href="files.html#program-files">Program Files</a></li>
<li><a href="files.html#startup-options">Startup Options</a></li>
<li><a href="files.html#dropbox-and-file-syncing">DropBox and File Syncing</a></li>
<li><a href="files.html#network-filesystems">Network Filesystems</a></li>
<li><a href="files.html#running-from-a-flash-drive">Running from a Flash Drive</a></li>
<li><a href="files.html#backups">Backups</a></li>
<li><a href="files.html#inaccessible-harddisk">Inaccessible Harddisk</a></li>
<li><a href="files.html#permissions-of-temp-folder">Permissions of Temp Folder</a></li>
<li><a href="files.html#corrupt-collections">Corrupt Collections</a>
<ul>
<li><a href="files.html#linuxmacos">Linux/macOS</a></li>
<li><a href="files.html#windows">Windows</a></li>
<li><a href="files.html#final-step">Final Step</a></li>
</ul>
</li>
</ul>
<h2 id="checking-your-collection"><a class="header" href="#checking-your-collection">Checking Your Collection</a></h2>
<p>It is a good idea to occasionally check your collection file for
problems. You can do this via the Tools&gt;Check Database menu item.
Checking the database ensures the file has not been corrupted, rebuilds some
internal structures, and optimizes the file.</p>
<p>When you check the database, your tag list is also rebuilt. When you
delete individual decks or cards, Anki does not update the list of used
tags, as it’s inefficient to do so. If you want to clear old tags out
from the list that are no longer in use, checking your database is the
way to do it.</p>
<p>Please note that Anki will automatically optimize your collection once
every 2 weeks. This optimization ensures the collection performs well,
but it does not check for errors or rebuild the tag list when
automatically optimizing.</p>
<p><a id="file-locations"></a></p>
<h2 id="user-data"><a class="header" href="#user-data">User Data</a></h2>
<p>On <strong>Windows</strong>, the latest Anki versions store your collection files in your
appdata folder. You can access it by opening the file manager, and
typing <code>%APPDATA%\Anki2</code> in the location field. Older versions of Anki
stored your Anki files in a folder called <code>Anki</code> in your <code>Documents</code>
folder.</p>
<p>On <strong>Mac</strong> computers, recent Anki versions store all user data in the
<code>~/Library/Application Support/Anki2</code> folder. The Library folder is
hidden by default, but can be revealed in Finder by holding down the
option key while clicking on the Go menu. If you’re on an older Anki
version, your Anki files will be in your <code>Documents/Anki</code> folder.</p>
<p>On <strong>Linux</strong>, recent Anki versions store your user data in
<code>~/.local/share/Anki2</code>, or <code>$XDG_DATA_HOME/Anki2</code> if you have set a
custom data path. If you are using a third-party <strong>Flatpak</strong> build,
your files will be in <code>~/.var/app/net.ankiweb.Anki/data/Anki2/</code>.
Older versions of Anki stored your files in
<code>~/Documents/Anki</code> or <code>~/Anki</code>.</p>
<p>Within the Anki folder, the program-level and profile-level preferences
are stored in a file called <code>prefs.db</code>.</p>
<p>There is also a separate folder for each profile. The folder contains:</p>
<ul>
<li>
<p>Your notes, decks, cards and so on in a file called <code>collection.anki2</code></p>
</li>
<li>
<p>Your audio and images in a <code>collection.media</code> folder</p>
</li>
<li>
<p>A backups folder</p>
</li>
<li>
<p>Some system files</p>
</li>
</ul>
<p>You should never copy or move your collection while Anki is open. Doing
so could cause your collection to become corrupt. Please do not move or
modify the other files in the folder either.</p>
<h2 id="program-files"><a class="header" href="#program-files">Program Files</a></h2>
<p>Anki’s launcher is installed in the following locations by default:</p>
<ul>
<li>Windows: <code>%LOCALAPPDATA%\Programs\Anki</code></li>
<li>macOS: <code>/Applications/Anki.app</code></li>
<li>Linux: <code>/usr/local/share/anki</code></li>
</ul>
<p>When you install/update Anki with the launcher, it downloads support
files and places them in the following locations:</p>
<ul>
<li>Windows: <code>%LOCALAPPDATA%\AnkiProgramFiles</code></li>
<li>macOS: <code>~/Library/Application Support/AnkiProgramFiles</code></li>
<li>Linux: <code>~/.local/share/AnkiProgramFiles</code></li>
</ul>
<p>Removing that folder will cause the launcher to behave like a fresh install.</p>
<p>The <code>AnkiProgramFiles</code> contains all the files needed to run Anki aside from
the launcher. You can copy it to a different folder or system, and start
Anki from the new location by opening <code>AnkiProgramFiles/.venv/bin/anki</code> (or
<code>AnkiProgramFiles\.venv\scripts\anki</code> on Windows). If placed in the standard location on a new computer, the launcher will also be able to re-use the existing files, provided the files were copied with modification times preserved.</p>
<p>See the flash drive section below for more.</p>
<h2 id="startup-options"><a class="header" href="#startup-options">Startup Options</a></h2>
<p>If you have made a destructive change on one computer and have an
undamaged copy on another computer, you may wish to start Anki without
syncing in order to use the full sync option without first downloading
the changes. Similarly, if you are experiencing problems with Anki, you
might need to (or might be instructed to) disable add-ons temporarily to
see if one might be causing the problem. To do both of these things at the same time, you can
open Anki in safe mode by holding down the <kbd>Shift</kbd> key while starting Anki. Keep holding <kbd>Shift</kbd> down until the on-screen message informs you that Anki has started in safe mode. If you’re on Linux and that didn’t work, run ‘anki –safemode’.</p>
<p>It is possible to specify a custom folder location during startup. This
is an advanced feature that is primarily intended to be used with
portable installations, and we recommend you use the default location in
most circumstances.</p>
<p>The syntax to specify an alternate folder is as follows:</p>
<pre><code>anki -b /path/to/anki/folder
</code></pre>
<ul>
<li>
<p>If you have multiple profiles, you can pass -p &lt;name&gt; to load
a specific profile.</p>
</li>
<li>
<p>If you pass -p some-fake-name, Anki will show the profile screen on startup.
If no profile is provided, the last-used profile is loaded.</p>
</li>
<li>
<p>To change the interface language, use -l &lt;iso 639-1 language
code&gt;, such as “-l ja” for Japanese.</p>
</li>
</ul>
<p>If you always want to use a custom folder location, you can modify your
shortcut to Anki. On Windows, right-click on the shortcut, choose
Properties, select the Shortcut tab, and add “-b
\path\to\data\folder” after the path to the program, which should
leave you with something like</p>
<pre><code>"C:\Program Files\Anki\anki.exe" -b "C:\AnkiDataFolder"
</code></pre>
<p>You can also use this technique with the -l option to easily use Anki in
different languages.</p>
<p>On Windows, you should use a backslash (\) not a forward slash (/).</p>
<p>On a Mac there is no easy way to alter the behaviour when clicking on
the Anki icon, but it is possible to start Anki with a custom base
folder from a terminal:</p>
<pre><code>open /Applications/Anki.app --args -b ~/myankifolder
</code></pre>
<p>Alternatively, you can define the environment variable “ANKI_BASE”.
On Windows, you can define the environment variable with:</p>
<pre><code>set "ANKI_BASE=C:/path/to/AnkiDataFolder"
</code></pre>
<p>On Linux and macOS, you can use:</p>
<pre><code>export ANKI_BASE="/path/to/AnkiDataFolder"
</code></pre>
<h2 id="dropbox-and-file-syncing"><a class="header" href="#dropbox-and-file-syncing">DropBox and File Syncing</a></h2>
<p>We do not recommend you sync your Anki folder directly with a
third-party synchronization service, as it can lead to database
corruption when files are synced while in use.</p>
<p>If you just want to synchronize your media, you can link external
folders into services like DropBox. Please see <a href="http://web.archive.org/web/20180919153730/http://www.dropboxwiki.com/tips-and-tricks/sync-other-folders">DropboxWiki: Sync
Folders Outside Dropbox (archive.org)</a>
for more info.</p>
<p>If you wish to keep your collection in sync as well, it is strongly
recommended that you create a script that copies your files from your
synced folder to a local folder, launches Anki, and then copies the
files back when Anki is closed. This will ensure that the files are
never synchronized while they are open.</p>
<h2 id="network-filesystems"><a class="header" href="#network-filesystems">Network Filesystems</a></h2>
<p>We strongly recommend you have Anki store your files on a local hard
disk, as network filesystems can lead to database corruption. If a
network filesystem is your only option, regular use of Tools&gt;Check
Database to detect corruption is recommended.</p>
<h2 id="running-from-a-flash-drive"><a class="header" href="#running-from-a-flash-drive">Running from a Flash Drive</a></h2>
<p>On Windows, Anki can be installed on a USB / flash drive and run as a
portable application. The following example assumes your USB drive is
drive E; adjust as necessary.</p>
<p>WARNING: The drive letter must be the same on all devices. If you set this up for drive E,
it won’t work for a flash drive mapped to drive D for example.</p>
<p>WARNING: Media syncing with AnkiWeb may not work if your flash drive is formatted
as FAT32. Please format the drive as NTFS to ensure media syncs
correctly.</p>
<ol>
<li>Download the latest Anki launcher, and install it in a custom location:
<code>E:\Anki\Launcher</code>. Not <code>E:\Anki\Launcher\Anki</code>.</li>
<li>When the launcher appears, close it without installing.</li>
<li>Put the following in a file <code>E:\Anki\Anki.bat</code>:</li>
</ol>
<pre><code class="language-bat">@echo off
echo Starting Anki...
set USB_ROOT=%~dp0
set ANKI_LAUNCHER_VENV_ROOT=%USB_ROOT%\AnkiProgramFiles
set ANKI_LAUNCHER=%USB_ROOT%\Launcher\anki
set ANKI_BASE=%USB_ROOT%\AnkiData
start /b %ANKI_LAUNCHER%
</code></pre>
<ol start="4">
<li>Double-click on the .bat file you created, and install Anki as normal.</li>
<li>You can now double-click on the .bat file to run Anki from other machines.</li>
</ol>
<p>Tools&gt;Upgrade/Downgrade will continue to function, but only when your machine
has access to the internet.</p>
<h2 id="backups-2"><a class="header" href="#backups-2">Backups</a></h2>
<p>Please see <a href="./backups.html">this section</a>.</p>
<h2 id="inaccessible-harddisk"><a class="header" href="#inaccessible-harddisk">Inaccessible Harddisk</a></h2>
<p>If Anki can’t write to files in the <a href="files.html#user-data">Anki folder</a>, a message
will be displayed on startup saying that Anki can’t write to the
harddisk, and Anki will close. If you’re unsure how to fix the
permissions, please contact someone near you who is knowledgeable about
computers and can help you out.</p>
<h2 id="permissions-of-temp-folder"><a class="header" href="#permissions-of-temp-folder">Permissions of Temp Folder</a></h2>
<p>Anki uses the system’s temporary folder to store temporary data. If the
permissions of this folder have been changed from the default settings
by a rogue app or buggy antivirus app, Anki will not function properly.</p>
<p>If you’re on a Windows 7 machine, the general steps to fix the problem
are listed below. As this is somewhat complicated, please ask someone
knowledgeable about Windows if you are not sure.</p>
<ol>
<li>
<p>Click on the start bar, and type in %temp% (including the percents),
then hit <kbd>Enter</kbd>.</p>
</li>
<li>
<p>Go up one folder, and locate the temp folder. Right click on it, and
choose Properties.</p>
</li>
<li>
<p>In the security tab, click on Advanced.</p>
</li>
<li>
<p>Click on the Owner tab. If you’re not listed as the owner, click the
button to take ownership.</p>
</li>
<li>
<p>On the permissions tab, ensure that you have full control. On a
default W7 install the control will actually be inherited from
c:\users\your-username.</p>
</li>
</ol>
<h2 id="corrupt-collections"><a class="header" href="#corrupt-collections">Corrupt Collections</a></h2>
<p>Anki uses a file format that is robust against program and computer
crashes, but it’s still possible for your collection to become corrupt
if the files are modified while Anki is open, stored on a network drive,
or corrupted by a bug.</p>
<p>When you run Tools&gt;Check Database, you will receive a message if Anki
detects the file has been corrupted. <strong>The best way to recover from this
is to restore from the most recent <a href="files.html#backups">automatic backup</a></strong>, but
if your backup is too old, then you can attempt to repair the corruption
instead.</p>
<p>On Linux, make sure sqlite3 is installed. On a Mac, it should be
installed already. On Windows, download
<a href="http://www.sqlite.org/sqlite-3_6_23.zip">http://www.sqlite.org/sqlite-3_6_23.zip</a>.</p>
<p>Next, create a backup of your collection.anki2 file, in case something
goes wrong with the steps below.</p>
<h3 id="linuxmacos"><a class="header" href="#linuxmacos">Linux/macOS</a></h3>
<p>Open a terminal, change to the folder your collection is located in, and
type:</p>
<pre><code>sqlite3 collection.anki2 .dump &gt; dump.txt
</code></pre>
<p>Open the resulting dump.txt file in a text editor, and look at the final
line. If it reads “rollback;”, change it to “commit;”</p>
<p>Then run the following in a terminal:</p>
<pre><code>cat dump.txt | sqlite3 temp.file
</code></pre>
<p>Make sure you use temp.file - do not put collection.anki2 on the right,
or you will blank out the file. When you’re done, proceed to the final
step.</p>
<h3 id="windows-1"><a class="header" href="#windows-1">Windows</a></h3>
<p>Copy the <code>sqlite3.exe</code> program and your deck to your desktop. Then go to
<strong>Start&gt;Run</strong> and type in <code>cmd.exe</code>.</p>
<p>If you’re on a recent Windows, the command prompt may not start on your
desktop. If you don’t see desktop displayed in the command prompt, type
something like the following, replacing “administrator” with your login
name.</p>
<pre><code>cd C:\Users\Administrator\Desktop
</code></pre>
<p>Then type:</p>
<pre><code>sqlite3 collection.anki2 .dump &gt; dump.txt
</code></pre>
<p>Open the resulting dump.txt file in a text editor, and look at the final
line. If it reads “rollback;”, change it to “commit;”</p>
<p>Then run the following in a terminal:</p>
<pre><code>type dump.txt | sqlite3 temp.file
</code></pre>
<p>Make sure you use temp.file - do not put collection.anki2 on the right,
or you will blank out the file. When you’re done, proceed to the final
step.</p>
<h3 id="final-step"><a class="header" href="#final-step">Final Step</a></h3>
<p>Check that you didn’t get an error message, and that temp.file is not
empty. The procedure optimizes the collection in the process, so it’s
normal for the new file to be somewhat smaller than the old one.</p>
<p>When you’ve confirmed the file is not empty:</p>
<ul>
<li>
<p>rename the original collection.anki2 file to something else</p>
</li>
<li>
<p>rename temp.file to collection.anki2</p>
</li>
<li>
<p>move collection.anki2 back into your collection folder, overwriting
the old version</p>
</li>
<li>
<p>start Anki and go to Tools&gt;Check Database to make sure the
collection has been successfully restored.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="card-info-graphs-and-statistics"><a class="header" href="#card-info-graphs-and-statistics">Card Info, Graphs and Statistics</a></h1>
<ul>
<li><a href="stats.html#card-info">Card Info</a></li>
<li><a href="stats.html#statistics">Statistics</a></li>
<li><a href="stats.html#selecting-decks--collection">Selecting Decks / Collection</a>
<ul>
<li><a href="stats.html#deck">Deck</a></li>
<li><a href="stats.html#collection">Collection</a></li>
<li><a href="stats.html#history">History</a></li>
<li><a href="stats.html#more">More</a></li>
</ul>
</li>
<li><a href="stats.html#today">Today</a>
<ul>
<li><a href="stats.html#again-count">Again Count</a></li>
<li><a href="stats.html#learn-review-relearn-filtered">Learn, Review, Relearn, Filtered</a></li>
</ul>
</li>
<li><a href="stats.html#the-graphs">The Graphs</a>
<ul>
<li><a href="stats.html#future-due">Future Due</a></li>
<li><a href="stats.html#calendar">Calendar</a></li>
<li><a href="stats.html#reviews">Reviews</a></li>
<li><a href="stats.html#card-counts">Card Counts</a></li>
<li><a href="stats.html#review-time">Review Time</a></li>
<li><a href="stats.html#review-intervals">Review Intervals</a></li>
<li><a href="stats.html#card-ease">Card Ease</a></li>
<li><a href="stats.html#card-stability">Card Stability</a></li>
<li><a href="stats.html#card-difficulty">Card Difficulty</a></li>
<li><a href="stats.html#card-retrievability">Card Retrievability</a></li>
<li><a href="stats.html#hourly-breakdown">Hourly Breakdown</a></li>
<li><a href="stats.html#answer-buttons">Answer Buttons</a></li>
<li><a href="stats.html#true-retention-table">True Retention Table</a></li>
</ul>
</li>
<li><a href="stats.html#manual-analysis">Manual Analysis</a></li>
</ul>
<h2 id="card-info"><a class="header" href="#card-info">Card Info</a></h2>
<p>You can display information about a card by using the Cards&gt;Info menu item,
by right-clicking on the card and then selecting <strong>Info</strong>, or by pressing
<kbd>I</kbd> on the study screen.</p>
<p><img src="media/card_info.png" alt="Card Info" /></p>
<p>A few notes:</p>
<p><strong>Position</strong><br />
It shows the order the card will appear
in relative to other new cards. The position can be changed in the
browser. Once a card has been studied, the position is not used, unless
the card is manually reset to new again.</p>
<p><strong>Interval</strong><br />
The delay from one review to the next. Times are abbreviated; “0s, 1m,
3h, 4d, 5mo, 6y” refers to seconds, minutes, hours, days, months and
years respectively.</p>
<p><strong>Ease</strong><br />
The approximate amount the interval will grow when you answer a review
card with the “Good” button.</p>
<p>The bottom section shows the review history for the card. Rating denotes
the button (1 = Again, 4 = Easy). When cards are manually rescheduled using
the “reset” or “set due date” actions, the type will be listed as Manual
and the rating as 0.</p>
<h2 id="statistics"><a class="header" href="#statistics">Statistics</a></h2>
<p>The statistics window is accessed by clicking on <strong>Stats</strong> button at the
top of the main window, or by pressing <kbd>T</kbd>.</p>
<p><img src="media/Statistics.png" alt="Statistics screen" /></p>
<h2 id="selecting-decks--collection"><a class="header" href="#selecting-decks--collection">Selecting Decks / Collection</a></h2>
<h3 id="deck"><a class="header" href="#deck">Deck</a></h3>
<p>By default, the statistics window will show statistics from the currently selected deck and any
subdecks it may contain, but you can select any deck from your collection by typing its name in the
text box at the top of the screen or (from Anki 2.1.61), by using the deck selector at the bottom.</p>
<h3 id="collection-1"><a class="header" href="#collection-1">Collection</a></h3>
<p>If you select this checkbox, statistics will be shown for your entire collection. You can also display graphs
for arbitrary searches by adding filters in the search box at the top (2.1.28+).</p>
<h3 id="history"><a class="header" href="#history">History</a></h3>
<p>By default, Anki shows you statistics for the last 12 months.
You can change this to all history scope or deck life scope at the top. (The
“today” section at the top remains of course unaffected by this selection.)</p>
<h3 id="more-1"><a class="header" href="#more-1">More</a></h3>
<ul>
<li>
<p>Clicking on “Save PDF” at the bottom will save a PDF document of the statistics to a file
on your desktop to make it easy to share your statistics with others.</p>
</li>
<li>
<p>When you delete notes, their review history is maintained in Anki. It
will not be included when looking at statistics for a specific deck (as
Anki has no way of knowing which deck the deleted cards belonged to),
but will be included when you look at statistics for the whole
collection.</p>
</li>
<li>
<p>Anki 2.1.28+ introduced redesigned graphs. The old graphs are still
accessible with a <kbd>Shift</kbd>-click on the Stats button.</p>
</li>
</ul>
<h2 id="today"><a class="header" href="#today">Today</a></h2>
<p>At the top of the statistics window is a brief list of textual
statistics about the reviews that you have completed today. A “review”
in this context is “one answering of a card”, so a card might count as
multiple reviews if it needed to be seen multiple times, and a learning
card answered also counts as a “review.” A couple of the stats whose
meaning may not be immediately obvious:</p>
<h3 id="again-count"><a class="header" href="#again-count">Again Count</a></h3>
<p>This is the number of reviews that you have failed (i.e., pressed Again
on). The correct percentage listed afterwards is the number of cards you
did “not” fail divided by the total number of cards you studied.</p>
<h3 id="learn-review-relearn-filtered"><a class="header" href="#learn-review-relearn-filtered">Learn, Review, Relearn, Filtered</a></h3>
<p>The number of reviews that were learning cards, review cards, relearning
cards, or studied in a filtered deck when not due.</p>
<p>The stats for the current day are not a good overall indicator of your
learning progress; everyone has bad days and good days, and seeing that
you got a lower percentage correct on a particular day should not be
cause for concern. The remainder of the stats, which take longer periods
of time into account, will give more useful information if you wish to
try to change your study habits or scheduling settings based on your
performance.</p>
<p>The “today” statistics are unaffected by the time period selected at the
bottom of the window.</p>
<h2 id="the-graphs"><a class="header" href="#the-graphs">The Graphs</a></h2>
<h3 id="future-due"><a class="header" href="#future-due">Future Due</a></h3>
<p>This graph shows an estimated number of reviews that will be due on a
given day in the future if you learn no new cards and fail no cards. The
bars and the left axis show the number of cards due on each day if you
study all cards each day, while the gray shaded region and the right axis show
the number of cards due on that day if you don’t study at all until then.
Note that the forecast graph does not count reviews that are currently
overdue, so if you have a large backlog, the overdue cards will not be
displayed.</p>
<p>Daily load is an estimate of the average number of cards to be reviewed daily.
If you don’t have a backlog, daily load should be approximately equal to
your number of due cards.</p>
<p>It is calculated as follows:</p>
<p>$$
\frac{1}{I_1} + \frac{1}{I_2} + \frac{1}{I_3} + \dots + \frac{1}{I_n}
$$</p>
<p>Here, \(I_n\) is the interval of
the n-th card. If the interval is less than one day, the summation term is 1. This
prevents cards with short intervals from unrealistically skewing the value of daily load.</p>
<p>Example: you have a card with an interval of 10 days and a card with an interval of 50 days.
Daily load = \(\frac{1}{10} + \frac{1}{50} = 0.12\), meaning that, <em>on average</em>, you will have 0.12 due cards per day.</p>
<h3 id="calendar"><a class="header" href="#calendar">Calendar</a></h3>
<p>This graph shows past card review activity. Hovering the mouse over a specific item
allows you to view the number of revisions made that day. Click on a day of the
week to make that the starting day.</p>
<h3 id="reviews"><a class="header" href="#reviews">Reviews</a></h3>
<p>This graph counts the number of card reviews you have done. The bars may
correspond to days, weeks, or months, depending on the time period
you’ve selected at the bottom of the screen. The differently colored
blocks show how many of the cards you answered on each day were
<a href="getting-started.html#card-states">mature</a>, young, relearning, or learning cards.
There is also a separate group for cards answered in a filtered/cram
deck while they were not due. The gray shaded region and the right axis shows
the cumulative total for each type of review as time progresses across the
graph (so at 0 days, it would display the number for the entire time
period displayed on the graph).</p>
<h3 id="card-counts"><a class="header" href="#card-counts">Card Counts</a></h3>
<p>This pie chart shows what percentage of your deck or collection consists
of mature, unseen, young/learn, and suspended cards. If you wish to
calculate a more precise percentage, the key shows the exact number of
cards in each section, and the total number of cards is displayed to the
side.</p>
<h3 id="review-time"><a class="header" href="#review-time">Review Time</a></h3>
<p>This graph works exactly like Review Count, except that it deals with
the amount of time you spent on each card rather than the number of
cards answered.</p>
<h3 id="review-intervals"><a class="header" href="#review-intervals">Review Intervals</a></h3>
<p>This graph displays the number of cards that have a given interval (the
delay between two reviews). The gray shaded region and the right axis tell you
what percentage of your cards have an interval of less than or equal to the
time below that point. The time scope has a different effect on this
graph than other graphs: rather than changing which cards or period of
studying is included, it limits how far out the intervals are displayed
to (so 14-month intervals are not displayed at all on a 1-year graph).</p>
<h3 id="card-ease"><a class="header" href="#card-ease">Card Ease</a></h3>
<p>This graph shows the number of cards that have a specific ease factor.
Average ease of the selected deck / collection is also displayed here.</p>
<h3 id="card-stability"><a class="header" href="#card-stability">Card Stability</a></h3>
<p>Only shown if FSRS is enabled. Stability is defined as the amount of time required
for the probability of recall to decrease from 100% to 90%.</p>
<h3 id="card-difficulty"><a class="header" href="#card-difficulty">Card Difficulty</a></h3>
<p>Only shown if FSRS is enabled. Difficulty determines how quickly a card’s interval grows
after each review.</p>
<h3 id="card-retrievability"><a class="header" href="#card-retrievability">Card Retrievability</a></h3>
<p>Only shown if FSRS is enabled. “Retrievability” is synonymous with “probability of recall”.</p>
<p>Estimated total knowledge is the total number of cards you are likely to currently remember,
calculated by multiplying average retrievability by the number of cards that have been
reviewed at least once.</p>
<h3 id="hourly-breakdown"><a class="header" href="#hourly-breakdown">Hourly Breakdown</a></h3>
<p>This graph shows the percentage of total reviews you have passed during given
hours.</p>
<ol>
<li>x-axis (bottom): Time of day (at given hour).</li>
<li>y-axis (right): Amount of cards studied.</li>
<li>secondary y-axis (left): Success rate in percent.</li>
</ol>
<p>The blue bars thus show you the number of reviews you’ve made at that hour (so
that you know how significant the results are). The gray shaded region shows
the percentage of the total reviews you have passed (i.e., not pressed <em>Again</em>
on) at that hour.</p>
<h3 id="answer-buttons-1"><a class="header" href="#answer-buttons-1">Answer Buttons</a></h3>
<p>This graph shows how many times you’ve chosen the Again, Hard, Good, or
Easy button while studying learning/new, young, and
<a href="getting-started.html#card-states">mature</a> cards. Anki also displays the percentage
of correct reviews for each type of card.</p>
<h3 id="true-retention-table"><a class="header" href="#true-retention-table">True Retention Table</a></h3>
<p>This table shows your retention across different cards and different time frames.
A card is defined as “mature” if its interval is ≥21 days. Only one review per day - the first one - counts.
Again counts as “Fail”; Hard, Good, and Easy count as “Pass”.
This table can be used to check how well <a href="https://faqs.ankiweb.net/what-spaced-repetition-algorithm.html">Anki’s spaced repetition algorithm</a> is working for you.</p>
<p>If you are using FSRS, your true retention is expected to be close to your <a href="deck-options.html#desired-retention">desired retention</a>.
Please keep in mind that data for a single day is noisy, so it’s better to look at monthly data. If your true retention doesn’t match your desired retention very well, here are some general recommendations:</p>
<ol>
<li>Optimize your FSRS parameters.</li>
<li>Use different presets with their own parameters for different material.</li>
<li>Suspend/reformulate <a href="leeches.html">leeches</a>.</li>
<li>Make sure you are <a href="studying.html#answer-buttons">using the answer buttons as intended</a>.</li>
</ol>
<h2 id="manual-analysis"><a class="header" href="#manual-analysis">Manual Analysis</a></h2>
<p>If you’re interested in getting information from your statistics other
than what Anki provides, it is possible to access the data directly.
Because of the complexity involved, this is not something we can provide
any support for.</p>
<p>One option is to <a href="addons.html">write an add-on</a> that adds another graph or
more details to the statistics window. There are several add-ons of this
sort on AnkiWeb already, which you can look at to get an idea of how it
works.</p>
<p>A more powerful and more complex option is to extract the review log
information directly from Anki’s database and analyze it in an external
program. Anki uses a database format called SQLite. There are many tools
available for working with SQLite databases; one of the easiest to start
with is called <a href="http://sqlitebrowser.org/">SQLite Browser</a>, which will
allow you to look around the database as well as export a CSV version of
tables for import into another program.</p>
<p>The most important table for statistics is the “revlog” table, which
stores an entry for each review that you conduct. The columns are as
follows:</p>
<p><strong>id</strong><br />
The time at which the review was conducted, as the number of
milliseconds that had passed since midnight UTC on January 1, 1970.
(This is sometimes known as “Unix epoch time”, especially when in
straight seconds instead of milliseconds.)</p>
<p><strong>cid</strong><br />
The ID of the card that was reviewed. You can look up this value in the
id field of the “cards” table to get more information about the card,
although note that the card could have changed between when the revlog
entry was recorded and when you are looking it up. It is also the
millisecond timestamp of the card’s creation time.</p>
<p><strong>usn</strong><br />
This column is used to keep track of the sync state of reviews and
provides no useful information for analysis.</p>
<p><strong>ease</strong><br />
Which button you pressed at the end of the review (1 for Again, 4 for
Easy).</p>
<p><strong>ivl</strong><br />
The new interval that the card was pushed to after the review. Positive
values are in days; negative values are in seconds (for learning cards).</p>
<p><strong>lastIvl</strong><br />
The interval the card had before the review. Cards introduced for the
first time have a last interval equal to the Again delay.</p>
<p><strong>factor</strong><br />
The new ease factor of the card in permille (parts per thousand). If the
ease factor is 2500, the card’s interval will be multiplied by 2.5 the
next time you press Good.</p>
<p><strong>time</strong><br />
The amount of time (in milliseconds) you spent on the question and
answer sides of the card before selecting an ease button.</p>
<p><strong>type</strong><br />
This is 0 for learning cards, 1 for review cards, 2 for relearning cards,
and 3 for early “cram” cards (cards being studied in a filtered deck when they
are not due).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="media-1"><a class="header" href="#media-1">Media</a></h1>
<p>Anki stores the sounds and images used in your notes in a folder next to
the collection. For more on the folder location, please see the <a href="files.html#user-data">file locations</a> section. When you add media within Anki, either by
using the paperclip icon in the <a href="editing.html">editor</a> or by pasting it into
a field, Anki will copy it from its original location into the media
folder. This makes it easy to back up your collection’s media or move it
to another computer.</p>
<p>If your media filenames contain spaces or other special characters such
as percentage signs, the way the filenames appear in the HTML editor will
differ from the way the filenames appear on disk. For example, a file called
<code>hello 100%.jpg</code> will appear as <code>hello%20100%25.jpg</code> in the HTML editor.
Internally, Anki still uses the original filenames, so if you would like to
<a href="searching.html">search</a> for the file or modify the filename with <a href="browsing.html#find-and-replace">Find&amp;Replace</a>, you will
need to use the name as it appears on disk, not as it appears in the
HTML editor. Exporting to a text file is another way to see the underlying
representation.</p>
<h2 id="checking-media"><a class="header" href="#checking-media">Checking Media</a></h2>
<p>You can use the Tools&gt;Check Media menu option to scan your notes and
media folder. It will generate a report of files in the media folder
that are not used by any notes, and media referenced in notes but
missing from your media folder. It also allows you:</p>
<ul>
<li>To delete unused media files.</li>
<li>To tag notes that refer to missing media files.</li>
<li>To empty your trash folder.</li>
<li>To restore the deleted files back to your media folder.</li>
</ul>
<p>This tool does not scan question or answer
templates, which is why you can’t place media references to fields in
the template. If you need a static image or sound on every card, name it
with a leading _ (e.g., <code>_dog.jpg</code>) to tell Anki to ignore it when
checking for media. If you delete media using the unused media check,
Anki will move it into your operating system’s trash folder, so you can
recover if you accidentally delete media that shouldn’t have been
deleted.</p>
<h2 id="manually-adding-media"><a class="header" href="#manually-adding-media">Manually Adding Media</a></h2>
<p>When you add media via Anki’s interface, Anki takes care of ensuring the
filenames are encoded in a way that should work across different devices,
removing characters that won’t work on certain operating systems,
and truncating very long filenames.</p>
<p>If you manually add files to your <a href="files.html#user-data">media folder</a>,
you should use Tools&gt;Check Media afterwards, to ensure the filenames are
encoded correctly. If you skip this step, any filenames that are not compatible
will be skipped when syncing.</p>
<p>Anki doesn’t follow symbolic links in the media folder when syncing. If you
rely on symlinks for including fonts, stylesheets, or other resources, these files
may appear to work on desktop but fail on mobile. To ensure files sync properly, copy
the actual files into the collection.media folder instead of using symlinks.</p>
<h2 id="supported-formats"><a class="header" href="#supported-formats">Supported Formats</a></h2>
<p>Anki uses a program called mpv (and mplayer as a fallback) in order to support
sounds and videos. A wide variety of file formats are supported, but not all of
these formats will work on AnkiWeb and the mobile clients. MP3 audio and
MP4 video seems to be the most universally supported.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="math-and-symbols"><a class="header" href="#math-and-symbols">Math and Symbols</a></h1>
<ul>
<li><a href="math.html#mathjax">MathJax</a>
<ul>
<li><a href="math.html#customize-mathjax">Customize MathJax</a></li>
</ul>
</li>
<li><a href="math.html#latex">LaTeX</a>
<ul>
<li><a href="math.html#security-warning">Security Warning</a></li>
<li><a href="math.html#assumed-knowledge">Assumed Knowledge</a></li>
<li><a href="math.html#webmobile">Web/Mobile</a></li>
<li><a href="math.html#example">Example</a></li>
<li><a href="math.html#packages">Packages</a></li>
<li><a href="math.html#template-conflicts">Template Conflicts</a></li>
<li><a href="math.html#cloze-conflicts">Cloze Conflicts</a></li>
<li><a href="math.html#unsafe-commands">Unsafe Commands</a></li>
</ul>
</li>
</ul>
<h2 id="mathjax"><a class="header" href="#mathjax">MathJax</a></h2>
<p><a href="https://www.mathjax.org">MathJax</a> is a modern, browser-based
typesetting system, useful for mathematical and chemical equations. It
does not require the installation of any extra software, so it is easy
to use, and it is recommended for most users.</p>
<p>MathJax is supported out of the box on Anki 2.1+, AnkiMobile, and
AnkiDroid 2.9+.</p>
<p>To try it out:</p>
<ol>
<li>
<p>Type the following in a field:</p>
<pre><code>\sqrt{x}
</code></pre>
</li>
<li>
<p>Select the text you just typed.</p>
</li>
<li>
<p>Click the rightmost button in the editor, and choose “MathJax
inline” from the menu. Anki will change the text so it reads:</p>
<pre><code>\(\sqrt{x}\)
</code></pre>
</li>
<li>
<p>Click the <strong>Cards…</strong> button. You’ll see a preview of how the
equation will appear when the card is reviewed.</p>
<p>$$
\sqrt{x}
$$
Anki’s MathJax support expects content in TeX format. If you’re not
familiar with TeX formatting, please see <a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">this cheatsheet</a>.
Please note that point 1 does not apply in Anki - Anki uses <code>\(</code> and
<code>\)</code> for inline equations, and <code>\[</code> and <code>\]</code> for display equations.</p>
</li>
</ol>
<p>If you want to use newlines in a MathJax expression, please use
<kbd>Shift</kbd>+<kbd>Enter</kbd> instead of just <kbd>Enter</kbd>, as a normal newline will prevent
MathJax from working correctly.</p>
<p>Anki includes built in support for mhchem for rendering chemical
equations. Please see the “chemical equations” section and the following
sections for more information:
<a href="https://mhchem.github.io/MathJax-mhchem/">https://mhchem.github.io/MathJax-mhchem/</a></p>
<h3 id="customize-mathjax"><a class="header" href="#customize-mathjax">Customize MathJax</a></h3>
<p>Anki’s bundled MathJax support is loaded before card content, so if you wish to customise MathJax you’ll have to do so in a specific way. An example is provided here.</p>
<pre><code class="language-javascript">&lt;script&gt;
MathJax.config.tex['macros'] = {
    R: '{\\mathbb {R}}',
};
if (typeof is_already_run == 'undefined') {
  is_already_run = true
  MathJax.startup.getComponents();
}
&lt;/script&gt;
</code></pre>
<p>Note that Anki has special logic for cloze deletions that might not work if you change the standard delimiters for MathJax equations.</p>
<h2 id="latex"><a class="header" href="#latex">LaTeX</a></h2>
<p>LaTeX is a powerful typesetting system, useful for entering mathematical
formulas, chemical formulas, musical notation and so on. Anki provides
some support for LaTeX, allowing you to enter LaTeX code in your notes.
When you review a card, Anki will call LaTeX and display the generated
image instead.</p>
<p>LaTeX is more work to set up, and images can only be generated with the
computer version of Anki - though once generated, the images can be
displayed by mobile clients. Because of the extra complexity LaTeX
brings, it is only recommended for users that need more features than
MathJax provides.</p>
<h3 id="security-warning"><a class="header" href="#security-warning">Security Warning</a></h3>
<p>LaTeX code can contain malicious commands that can read or write non-Anki
data on your computer. For this reason, recent Anki versions will refuse to
generate LaTeX images by default.</p>
<p>If you wish to use LaTeX on your own cards, you will need to enable the <strong>Generate LaTeX images</strong> option in the preferences screen.</p>
<p><strong>We strongly recommend you do not enable this option if you use shared decks, or think
you will import shared decks in the future, as you are potentially giving any shared
deck author access to your computer</strong>.</p>
<p>You do not need to enable this option for shared decks. If a shared deck author has
correctly generated all the images prior to them sharing the deck, the images should
already be available.</p>
<h3 id="assumed-knowledge"><a class="header" href="#assumed-knowledge">Assumed Knowledge</a></h3>
<p>Anki’s LaTeX support is not turn-key: it is assumed that you know how to
use LaTeX already, and that you have it installed. If you have no
experience with LaTeX, please consult one of the many guides available
on the internet. If you are having trouble with markup, please ask on a
LaTeX forum.</p>
<p>To install LaTeX, on Windows use MiKTeX; on macOS use MacTeX, and on Linux
use your distro’s package manager. Dvipng must also be installed.</p>
<p>On Windows, go to Settings in MikTeX’s maintenance window, and make sure
“Install missing packages on the fly” is set to “Always”, not to “Ask me
first”. If you continue to have difficulties, one user reported that
running Anki as an administrator until all the packages were fetched
helped.</p>
<p>On macOS, LaTeX has only been tested with MacTeX and BasicTeX. If you use
BasicTeX, you need to install dvipng separately, with the following
command:</p>
<pre><code>sudo tlmgr update --self; sudo tlmgr install dvipng
</code></pre>
<p>The command may not be on the path, so you may need to provide the full
path, e.g /usr/local/texlive/2014basic/bin/x86_64-darwin/tlmgr.</p>
<p>If you are not using the above LaTeX packages, you will need to use the
<a href="https://ankiweb.net/shared/info/937148547">edit LaTeX</a> add-on to specify
the full path to latex and dvipng.</p>
<h3 id="webmobile"><a class="header" href="#webmobile">Web/Mobile</a></h3>
<p>When you review a card with LaTeX on it, Anki will generate an image for
that LaTeX and place the image in your collection’s media folder for
future use. The web &amp; mobile clients will display these images if they
already exist, but can not generate the images on their own.</p>
<p>To avoid having to review all your cards at least once before you can
study on the other clients, Anki can generate the images in bulk for
you. To generate all the images, please go to Tools&gt;Check Media.
After that, syncing should upload the generated media to AnkiWeb and the
other clients.</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>The most general way to input LaTeX content is to surround it with
[latex][/latex] tags. There’s a shortcut button for this documented
in the <a href="editing.html">editor</a> section.</p>
<p>[latex] tags must be used inside a field - placing them in the card
template will <a href="templates/fields.html">cause problems</a>.</p>
<p>For example, entering the following on the front of an Anki flashcard:</p>
<pre><code>Does [latex]\begin{math}\sum_{k = 1}^{\infty}\frac{1}{k}\end{math}[/latex] converge?
</code></pre>
<p>will produce this when the flashcard is viewed:</p>
<p><img src="math/convergence_question.png" alt="convergence question" /></p>
<p>The formula in the example above is called a “text formula”, because it
is displayed right within the non-mathematical text. In contrast, the
following example shows a “displayed formula”:</p>
<pre><code>Does the sum below converge?

[latex]\begin{displaymath}\sum_{k = 1}^{\infty}\frac{1}{k}\end{displaymath}[/latex]
</code></pre>
<p><img src="math/convergence_question_2.png" alt="convergence question 2" /></p>
<p>“Text formulas” and “display formulas” are the most common type of LaTeX
expressions, so Anki provides abbreviated versions of them. Expressions
of the form:</p>
<pre><code>[latex]\begin{math}...\end{math}[/latex]
</code></pre>
<p>can be shortened to</p>
<pre><code>[$]...[/$]
</code></pre>
<p>and expressions of the form</p>
<pre><code>[latex]\begin{displaymath}...\end{displaymath}[/latex]
</code></pre>
<p>can be shortened to</p>
<pre><code>[$$]...[/$$]
</code></pre>
<p>For example, the two LaTeX snippets shown before are equivalent to</p>
<pre><code>Does [$]\sum_{k = 1}^{\infty}\frac{1}{k}[/$] converge?
</code></pre>
<p>and</p>
<pre><code>Does the sum below converge?

[$$]\sum_{k = 1}^{\infty}\frac{1}{k}[/$$]
</code></pre>
<p>respectively.</p>
<h3 id="packages"><a class="header" href="#packages">Packages</a></h3>
<p>Anki allows you to customize the LaTeX preamble so you can import custom
packages for chemistry, music and so on. For example, imagine you find
an example file for chemtex on the internet:</p>
<pre><code>\documentclass[a4paper,12pt]{report}
\usepackage{chemtex}
\begin{document}

\initial
\begin{figure}[h]\centering
\parbox{.3\textwidth}{\ethene{H}{H$_3$C}{CH$_3$}{Br}}
\hfil
\parbox{.3\textwidth}{\cbranch{H}{S}{H}{S}{C}{S}{}{S}{H}
  \xi=-200 \cright{}{Q}{C}{D}{O}{S}{OH}}
\hfil
\parbox{.3\textwidth}{\hetisix{Q}{Q}{Q}{Q}{Q}{Q}{O}{Q}{O}
  \xi=-171 \fuseup{Q}{Q}{Q}{Q}{D}{Q}{D}{Q}{D}}
\caption{Chemie mit {\tt CHEMTEX}\label{a1}}
\end{figure}

\end{document}
</code></pre>
<p>Firstly, follow the documentation of the package and MiKTeX/MacTeX in
order to install the package. To check the package is working, you’ll
want to put code like the above into a .latex file and test if you can
compile it from the command line. Once you’ve confirmed that the package
is available and working, we can integrate it with Anki.</p>
<p>To use the package with Anki, click “Add” in the main window, then click
the note type selection button. Click the “Manage” button, then select
the note type you plan to use and click “Options”. The LaTeX header and
footer are shown. The header will look something like:</p>
<pre><code>\documentclass[12pt]{article}
\special{papersize=3in,5in}
\usepackage{amssymb,amsmath}
\pagestyle{empty}
\setlength{\parindent}{0in}
\begin{document}
</code></pre>
<p>To use chemtex, you’d add the usepackage line in the earlier example, so
it looks like:</p>
<pre><code>\documentclass[12pt]{article}
\special{papersize=3in,5in}
\usepackage{amssymb,amsmath}
\usepackage{chemtex}
\pagestyle{empty}
\setlength{\parindent}{0in}
\begin{document}
</code></pre>
<p>After that, you should be able to include lines like the following in
your Anki cards:</p>
<pre><code>[latex]\ethene{H}{H$_3$C}{CH$_3$}{Br}[/latex]
</code></pre>
<h3 id="template-conflicts"><a class="header" href="#template-conflicts">Template Conflicts</a></h3>
<p>As of Anki 2.1.20 / AnkiMobile 2.0.56 / AnkiDroid 2.13, this workaround is no
longer required, as <code>{{field}}</code> text inside fields no longer causes problems. If
you need to support older versions and want to keep using this syntax, please
make sure you place the <code>{{=&lt;% %&gt;=}}</code> string at the very top of your front and
back template, as recent Anki versions will not recognize it anywhere but the
start.</p>
<p>For older versions:</p>
<p>It’s not uncommon for {{ and }} to pop up in LaTeX code when writing
mathematical equations. To ensure that your LaTeX equations don’t
conflict with Anki’s field replacements, it’s possible to change the
separator to something else.</p>
<p>For example, if you have a template:</p>
<pre><code>{{latex field}}
</code></pre>
<p>Changing it to the following will make it unlikely that the LaTeX will
conflict:</p>
<pre><code>{{=&lt;% %&gt;=}}
&lt;%latex field%&gt;
</code></pre>
<h3 id="cloze-conflicts"><a class="header" href="#cloze-conflicts">Cloze Conflicts</a></h3>
<p>Cloze deletions are terminated with <code>}}</code>, which can conflict with a <code>}}</code>
appearing in your LaTeX. To prevent LaTeX from being interpreted as a closing
cloze marker, you can put a space between any double closing braces that do not
indicate the end of the cloze, so</p>
<pre><code>{{c1::[$]\frac{foo}{\frac{bar}{baz}}[/$] blah blah blah.}}
</code></pre>
<p>will not work, but</p>
<pre><code>{{c1::[$]\frac{foo}{\frac{bar}{baz} }[/$] blah blah blah.}}
</code></pre>
<p>will (and LaTeX ignores spaces in math mode, so your equation will
render the same). If you want to avoid adding the extra space into the
rendered text (for example, when you are making Cloze cards for learning
programming languages), another option is to use a HTML comment when
editing the card in HTML mode:</p>
<pre><code>{{c1::[$]\frac{foo}{\frac{bar}{baz}&lt;!-- --&gt;}[/$] blah blah blah.}}
</code></pre>
<p>You may use either workaround if you need to use the <code>::</code> character
sequence within the Cloze-deleted text. The first card generated for the
following note text will read <code>[type] in C++ is a type-safe union</code>:</p>
<pre><code>{{c1::std:&lt;!-- --&gt;:variant::~type~}} in C++ is a {{c2::type-safe union}}
</code></pre>
<h3 id="unsafe-commands"><a class="header" href="#unsafe-commands">Unsafe Commands</a></h3>
<p>Anki prohibits certain commands like \input or \def from being used on
cards or in templates, because allowing them could allow malicious
shared decks to damage your system. (To be on the safe side, these
commands are prohibited even in comments, so if you’re getting this
error but don’t think you’ve used one, please double-check any comments
you have in your headers, templates, and cards.) If you need to use
these commands, please add them to a system package and import that
package as described in the previous section.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="leeches-1"><a class="header" href="#leeches-1">Leeches</a></h1>
<ul>
<li><a href="leeches.html#editing">Editing</a></li>
<li><a href="leeches.html#deleting">Deleting</a></li>
<li><a href="leeches.html#waiting">Waiting</a></li>
</ul>
<p>Leeches are cards that you keep forgetting. Because they require so
many reviews, they take up a lot more of your time, compared to other cards.</p>
<p>Anki can help you identify leeches. Each time a review card “lapses” (is
failed while it is in review mode), a counter increases. When this counter
reaches 8, Anki tags the note as a leech and suspends the card. The
threshold, and whether to suspend or not, can be adjusted in the
<a href="deck-options.html">deck options</a>.</p>
<p>If you keep failing that card, Anki will continue to alert you about the
leech periodically. These warnings occur at half the initial leech
threshold. For example, if you set the warning at 8 lapses, future
warnings will happen every 4 lapses (at 12, 16, and so on).</p>
<p>Once a leech is found, there are several ways to handle it.</p>
<h2 id="editing-2"><a class="header" href="#editing-2">Editing</a></h2>
<p>The most efficient method to deal with leeches is to change how the
information is presented. Maybe your cards have too much information, or
you’re trying to memorize something without fully understanding it. Often,
it helps to follow the <a href="https://supermemo.guru/wiki/20_rules_of_knowledge_formulation">20 rules of formulating
knowledge</a>,
proposed by Dr Piotr Wozniak, the creator of SuperMemo. Some cards can
benefit from a mnemonic. Even some well-written cards may need a boost in
coherence, e.g. by adding cards for related concepts. However, it takes a
lot of experience to know how to formulate the material properly, break it
down into smallest possible components, and use mnemonic techniques.</p>
<h2 id="deleting"><a class="header" href="#deleting">Deleting</a></h2>
<p>If the material you’re struggling with isn’t important enough to justify
the time spent, you can simply delete the card. By selectively deleting
difficult and obscure items, you can spend more time learning other
material, making studying more enjoyable. If you think the card might be
useful for future reference, you can leave it suspended.</p>
<h2 id="waiting"><a class="header" href="#waiting">Waiting</a></h2>
<p>Some leeches are caused by “interference”. For example, an English
learner may have recently learned the words “disappoint” and “disappear”.
As they look similar, the learner may find themselves confusing the two
when trying to answer. In such situations, it’s often helpful to
concentrate on one idea at a time. Once that idea is firmly ingrained in
your mind, you can then start learning the other idea. So, in these
situations, you might want to leave one of the words suspended until you
have learned the other one well, and then unsuspend it.</p>
<p>For a more detailed discussion, you can refer to the article “<a href="https://controlaltbackspace.org/leech/">Dealing
with Leeches</a>”, written by Soren
Bjornstad.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add-ons"><a class="header" href="#add-ons">Add-ons</a></h1>
<p>Anki’s capabilities can be extended with add-ons. Add-ons can provide
features like extra support for specific languages, extra control over
scheduling, and so on.</p>
<p>To browse the list of available add-ons, select <code>Tools</code> → <code>Add-ons</code>, then click on <code>Get Add-ons</code>.
Alternatively, open <a href="https://ankiweb.net/shared/addons">ankiweb.net/shared/addons</a> in a web browser.</p>
<p>If you have downloaded an add-on that is not working properly, or if you
accidentally made a mistake when editing an add-on, you can use the
“Delete” option in the menu to remove it.</p>
<p>Add-ons use and modify arbitrary parts of Anki’s codebase, so in some
cases, updating Anki can break the compatibility with older add-ons. If
one of your add-ons stops working after updating Anki, please consider
reporting the issue to the add-on author. If you rely on this add-on,
you will need to keep using an older Anki version until the add-on gets
an update.</p>
<p>There is a “Contact Author” button on most add-ons pages on AnkiWeb,
and many authors include their email address in the add-on, so if you
need to get in touch with the author, editing the add-on and looking at
the top of the file may help.</p>
<p>To learn how to write your own add-ons, please see the <a href="https://addon-docs.ankiweb.net">add-on writing guide</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h1>
<p>If you encounter a problem with Anki, please try the following steps in order:</p>
<h3 id="1-restart-anki"><a class="header" href="#1-restart-anki">1. Restart Anki</a></h3>
<p>Please close Anki, then start it again.</p>
<p>If you are unable to close Anki because of an error message, you can either
terminate Anki using your task manager, or restart your computer. Anki saves
periodically, so you should not lose more than a few minutes of work in most
circumstances.</p>
<p>If the problem does not occur again, you can skip the following steps.</p>
<h3 id="2-check-add-ons"><a class="header" href="#2-check-add-ons">2. Check add-ons</a></h3>
<p>Please close Anki, then open it in safe mode by holding down the
<kbd>Shift</kbd> key while starting Anki. Keep holding <kbd>Shift</kbd> down
until the on-screen message informs you that Anki has started in safe mode.
If you’re on Linux and that didn’t work, run ‘anki –safemode’.</p>
<p>If the problem goes away, that indicates an add-on is causing the problem.
Remove any add-ons you don’t need, and disable half of the others. If the
problem continues, try the other half. Repeat the process until you’ve figured
out which add-on is causing the problem. Then please report the issue to the
add-on author, using the Copy Debug Info button, and pasting that into the
report.</p>
<h3 id="3-check-your-anki-version"><a class="header" href="#3-check-your-anki-version">3. Check your Anki version</a></h3>
<p>You can find the version you’re using in the <strong>Help → About</strong> or <strong>Anki →
About</strong> menu. If the version you’re using is not the latest version published on
<a href="https://apps.ankiweb.net">https://apps.ankiweb.net</a>, please close Anki, install the latest version, and
then start Anki again to see if the problem has gone away.</p>
<p>If you’re using Linux, please make sure you can reproduce the error using the
packaged version on the Anki website, as distros often distribute <a href="platform/linux/distro-packages.html">broken versions</a>.</p>
<h3 id="4-check-your-database"><a class="header" href="#4-check-your-database">4. Check your database</a></h3>
<p>After restarting Anki, please try the <strong>Tools → Check Database</strong> menu item to
make sure your collection doesn’t have any problems.</p>
<h3 id="5-restart-your-computer"><a class="header" href="#5-restart-your-computer">5. Restart your computer</a></h3>
<p>Sometimes restarting your computer may help.</p>
<h3 id="6-change-the-video-driver"><a class="header" href="#6-change-the-video-driver">6. Change the Video Driver</a></h3>
<p>Crashes and display issues can be caused by the video driver. Changing to a
different video driver may help. Make sure you try all the driver options and
restart Anki after each change.</p>
<p>If you’re using Anki version 23.10 or above, the easiest way is to open
<strong>Tools → Preferences</strong> (or <strong>Anki → Preferences</strong> if you’re on a Mac) and
change the driver from the dropdown menu.</p>
<p>If you are on an older Anki version or if you cannot access the preferences for
some reason, you can use the command-line instructions instead and manually
change the gldriver file:</p>
<ul>
<li><a href="https://docs.ankiweb.net/platform/windows/display-issues.html">Windows</a></li>
<li><a href="https://docs.ankiweb.net/platform/mac/display-issues.html">Mac</a></li>
<li><a href="https://docs.ankiweb.net/platform/linux/display-issues.html">Linux</a></li>
</ul>
<h3 id="7-reset-window-sizes"><a class="header" href="#7-reset-window-sizes">7. Reset window sizes</a></h3>
<p>Sometimes pressing <strong>reset window sizes</strong> button in the preferences screen
immediately after starting Anki will help.</p>
<h3 id="8-if-the-problem-remains"><a class="header" href="#8-if-the-problem-remains">8. If the problem remains</a></h3>
<p>If you’ve confirmed you are using the latest Anki version, and are still
receiving errors even with add-ons disabled,
please <a href="./getting-help.html">report the problem</a>, including the next error you
receive in your post.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="self-hosted-sync-server-1"><a class="header" href="#self-hosted-sync-server-1">Self-Hosted Sync Server</a></h1>
<p>Advanced users who cannot or do not wish to use AnkiWeb can use a self-hosted
sync server instead.</p>
<p>Things to be aware of:</p>
<ul>
<li>This is an advanced feature, targeted at users who are comfortable with
networking and the command line. If you use this, the expectation is you
can resolve any setup/network/firewall issues you run into yourself, and
use of this is entirely at your own risk.</li>
<li>Newer clients may depend on changes to the sync protocol, so syncing may
stop working if you update your Anki clients without also updating the server.</li>
<li>Third-party sync servers also exist. No testing is done against them, and
they tend to take time to catch up when the sync protocol changes, so they
are not recommended.</li>
<li>The messages inside Anki will use the term “AnkiWeb” even if a custom server
has been configured, (e.g “Cannot connect to AnkiWeb” when your server is down).</li>
</ul>
<h2 id="installingrunning"><a class="header" href="#installingrunning">Installing/Running</a></h2>
<p>There are various ways you can install and run the server. You can use either:</p>
<ul>
<li>the sync server bundled with the desktop version of Anki</li>
<li>a separate minimal sync server that doesn’t include Anki’s GUI dependencies. Python and Rust implementations are available.</li>
</ul>
<h3 id="from-a-packaged-build"><a class="header" href="#from-a-packaged-build">From a Packaged Build</a></h3>
<p>This uses the sync server built into the desktop version of Anki as of version 2.1.57+.</p>
<p>On Windows in a cmd.exe session:</p>
<pre><code>set SYNC_USER1=user:pass
"\Program Files\anki\anki-console" --syncserver
</code></pre>
<p>Or MacOS, in Terminal.app:</p>
<pre><code>SYNC_USER1=user:pass /Applications/Anki.app/Contents/MacOS/launcher --syncserver
</code></pre>
<p>Replace ‘launcher’ with ‘anki’ for old packaged builds prior to 25.07.</p>
<p>Or Linux:</p>
<pre><code>SYNC_USER1=user:pass anki --syncserver
</code></pre>
<h3 id="with-pip"><a class="header" href="#with-pip">With Pip</a></h3>
<p>To avoid downloading desktop Anki’s GUI dependencies, you can run a standalone Anki sync server using a Python package downloaded from PyPI instead.
Make sure you have Python 3.9+ installed.</p>
<pre><code>python3 -m venv ~/syncserver
~/syncserver/bin/pip install anki
SYNC_USER1=user:pass ~/syncserver/bin/python -m anki.syncserver
</code></pre>
<h3 id="with-cargo"><a class="header" href="#with-cargo">With Cargo</a></h3>
<p>From Anki 2.1.66+, you can alternatively build a Rust implementation of the standalone sync server using the below command.
Make sure you have Rustup installed.</p>
<pre><code>cargo install --locked --git https://github.com/ankitects/anki.git --tag 25.02.5 anki-sync-server
</code></pre>
<p>Replace 25.02.5 with whatever the latest Anki version is.</p>
<p>Protobuf (protoc) will need to be installed.</p>
<p>After building, you can run it with:</p>
<pre><code>SYNC_USER1=user:pass anki-sync-server
</code></pre>
<h3 id="from-a-source-checkout"><a class="header" href="#from-a-source-checkout">From a source checkout</a></h3>
<p>If you’ve cloned the Anki repo from GitHub, you can install from there:</p>
<pre><code>./ninja extract:protoc ftl_repo
cargo install --path rslib/sync
</code></pre>
<h3 id="with-docker"><a class="header" href="#with-docker">With Docker</a></h3>
<p>You can find a user-contributed Dockerfile and some instructions
<a href="https://github.com/ankitects/anki/tree/main/docs/syncserver">here</a>.</p>
<h2 id="multiple-users"><a class="header" href="#multiple-users">Multiple Users</a></h2>
<p><code>SYNC_USER1</code> declares the first user and password, and must be set.
You can optionally declare <code>SYNC_USER2</code>, <code>SYNC_USER3</code> and so on, if you
wish to set up multiple accounts.</p>
<h2 id="hashed-passwords"><a class="header" href="#hashed-passwords">Hashed Passwords</a></h2>
<p>Advanced users may wish to use hashed passwords instead of plain text
passwords. If you wish to do this, you’ll need to use a separate tool (such as
<a href="https://git.sr.ht/~laalsaas/pbkdf2-password-hash">this one</a>) to generate a
password hash. You can then tell the server to expect hashed passwords by
setting the env var PASSWORDS_HASHED to 1 (or any other value).</p>
<p>When hashed passwords are used, SYNC_USER variables are expected to be in
username:password_hash format, where password_hash is a hash of the password in
the PHC Format.</p>
<h2 id="storage-location"><a class="header" href="#storage-location">Storage Location</a></h2>
<p>The server needs to store a copy of your collection and media in a folder.
By default it is ~/.syncserver; you can change this by defining
a <code>SYNC_BASE</code> environmental variable.</p>
<ul>
<li>This must not be the same location as your normal Anki data folder, as the
server and client must store separate copies.</li>
<li>You must sync your data to the server, not manually copy files into the
server folder.</li>
</ul>
<h2 id="public-access"><a class="header" href="#public-access">Public Access</a></h2>
<p>The server listens on an unencrypted HTTP connection, so it’s not a good
idea to expose it directly to the internet. You’ll want to either restrict
usage to your local network, or place some form of encryption in front of
the server, such as a VPN (Tailscale is apparently easy), or a HTTPS
reverse proxy.</p>
<p>You can define <code>SYNC_HOST</code> and <code>SYNC_PORT</code> to change the host and port
that the server binds to.</p>
<h2 id="client-setup"><a class="header" href="#client-setup">Client Setup</a></h2>
<p>You’ll need to determine your computer’s network IP address, and then
point each of your Anki clients to the address, e.g something like
<code>http://192.168.1.200:8080/</code>. The URL can be configured in the preferences.</p>
<p>If you’re using AnkiMobile and are unable to connect to a server on your local
network, please go into the iOS settings, locate Anki near the bottom, and
toggle “Allow Anki to access local network” off and then on again.</p>
<p>Older desktop clients required you to define <code>SYNC_ENDPOINT</code> and
<code>SYNC_ENDPOINT_MEDIA</code>. If using an older client, you’d put it as e.g.
<code>http://192.168.1.200:8080/sync/</code> and <code>http://192.168.1.200:8080/msync/</code>
respectively. AnkiDroid clients before 2.16 require separate configuration for
the two endpoints.</p>
<h2 id="reverse-proxies"><a class="header" href="#reverse-proxies">Reverse Proxies</a></h2>
<p>If using a reverse proxy to provide HTTPS access (e.g. nginx), and binding to a subpath
(e.g. <code>http://example.com/custom/</code> -&gt; <code>http://localhost:8080/</code>), you must make sure to
including a trailing slash when configuring Anki. If you put <code>http://example.com/custom</code>
instead, it will not work.</p>
<p>On iOS, TLS 1.3 is not supported, so your reverse proxy will need to have TLS 1.2
enabled, or you’ll get an “error code -9836”.</p>
<h2 id="large-requests"><a class="header" href="#large-requests">Large Requests</a></h2>
<p>The standard AnkiWeb limit on uploads is applied by default. You can optionally
set <code>MAX_SYNC_PAYLOAD_MEGS</code> to something greater than 100 if you wish to
increase the limit. Bear in mind that if you’re using a reverse proxy, you may
need to adjust the limit there as well.</p>
<h2 id="contributing-changes"><a class="header" href="#contributing-changes">Contributing Changes</a></h2>
<p>Because this server is bundled with Anki, simplicity is a design goal - it is
targeted at individual/family use, and PRs that add things like a REST API or
external databases are unlikely to be accepted at this time. If in doubt, please
reach out before starting work on a PR.</p>
<p>If you’re looking for an existing API solution, the AnkiConnect add-on may
meet your needs.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="miscellanea"><a class="header" href="#miscellanea">Miscellanea</a></h1>
<ul>
<li><a href="misc.html#menu-shortcuts">Menu Shortcuts</a></li>
<li><a href="misc.html#debug-console">Debug Console</a></li>
</ul>
<h2 id="menu-shortcuts"><a class="header" href="#menu-shortcuts">Menu Shortcuts</a></h2>
<p>On Windows/Linux you can hold down the <kbd>Alt</kbd> key and press a highlighted
letter to activate a particular menu.</p>
<p>Although macOS doesn’t support this feature, it does allow you instead to assign
shortcuts to specific menu items. Please see
<a href="https://support.apple.com/en-au/guide/mac-help/mchlp2271/mac">https://support.apple.com/en-au/guide/mac-help/mchlp2271/mac</a>
for more information.</p>
<h2 id="debug-console"><a class="header" href="#debug-console">Debug Console</a></h2>
<p>Sometimes you may be asked to use the debug console to change a setting
or check something. Unless asked to enter text in the “debug console”,
you will probably not need this. Advanced users may like to read more
about it in the <a href="https://addon-docs.ankiweb.net/debugging.html#debug-console">add-on writing guide</a>.</p>
<p>When asked to enter text into the “debug console”, please start Anki,
and in the main window, press</p>
<p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>;</kbd></p>
<p>(the control key, shift key, and semi-colon key at the same time)</p>
<p>On a Mac, press</p>
<p><kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>;</kbd></p>
<p>(the command key, shift key, and semi-colon key at the same time)</p>
<p>On some non-English keyboards, you may need to press <kbd>:</kbd> or <kbd>+</kbd> instead
of <kbd>;</kbd>.</p>
<p>In the window that has popped up, please paste the text you were asked
to paste in the top section. When you’ve done so, please press
<kbd>Ctrl</kbd>+<kbd>Return</kbd> (On Mac, <kbd>Command</kbd>+<kbd>Return</kbd>), and some text should appear in
the bottom section. If you’ve been asked to paste the resulting output,
please copy it from the bottom area, and paste it back to the support
person.</p>
<p>If you press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Return</kbd> instead of just <kbd>Ctrl</kbd>+<kbd>Return</kbd>, Anki will
try to print the result rather than doing what you asked it to. If you
are getting unexpected errors, please make sure you’re not holding down
the <kbd>Shift</kbd> key.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributing"><a class="header" href="#contributing">Contributing</a></h1>
<ul>
<li><a href="contrib.html#sharing-decks-publicly">Sharing Decks Publicly</a></li>
<li><a href="contrib.html#sharing-decks-privately">Sharing Decks Privately</a></li>
<li><a href="contrib.html#sharing-add-ons">Sharing Add-ons</a></li>
<li><a href="contrib.html#translating-anki">Translating Anki</a></li>
<li><a href="contrib.html#contributing-code">Contributing Code</a></li>
</ul>
<h2 id="sharing-decks-publicly"><a class="header" href="#sharing-decks-publicly">Sharing Decks Publicly</a></h2>
<p>To share decks with the general public, <a href="syncing.html">synchronize</a> them
with AnkiWeb, then log into AnkiWeb and click on “Share” from the menu
next to the deck you wish to share.</p>
<p>If you shared a deck previously (including with previous versions of
Anki), you can update it by clicking “Share” as above. Updating a shared
deck will not reset the download counts or ratings. You can delete a
shared deck that you have uploaded using the Delete button on the shared
deck’s page.</p>
<p>When updating a deck, AnkiWeb expects the deck to be at the same
location as before. If you shared a deck when it was called “Korean
Verbs” for example, and then renamed it to “Korean::Korean Verbs”,
resharing will not be able to update the existing copy. If you have
forgotten the original name, you can guess it by downloading the
deck on AnkiWeb and importing it (File &gt; Import) in a new profile
(File &gt; Switch profile &gt; Add). Then you can copy the exact name of the
deck when it was first shared. If this doesn’t work, please contact
support.</p>
<p>When you update a shared deck, users who downloaded the deck previously
will not automatically receive updates. If they download the deck again
and re-import it, newly added material will be imported without altering
their existing study progress, provided neither you nor the user has
altered the note type since the first import.</p>
<h2 id="sharing-decks-privately"><a class="header" href="#sharing-decks-privately">Sharing Decks Privately</a></h2>
<p>If you’d like to share decks with a limited group of people (such as a
study group or class) rather than the general public, you can do so by
sharing them outside of AnkiWeb.</p>
<p>To share a deck privately, go to the File menu and choose Export. Select
a single deck (not “All Decks”), and turn off “include scheduling
information”. This will produce an .apkg file which you can share with
others.</p>
<p>You can share the .apkg file by emailing it to people, placing it on a
website or shared folder, or using a free file sharing service like
Dropbox or Google Drive and sending people a link.</p>
<p>Both the computer version and mobile clients make it easy to import from
an apkg file simply by clicking or tapping on it. AnkiWeb does not have
the ability to import apkg files however, so the recipients of your deck
will need to have the computer version or Anki on their mobile device.</p>
<p>When a user imports an .apkg file, cards that already exist in their
collection will be ignored and any new cards will be added. As long as
they use the same note type, modified cards will also be updated. To
prevent data loss, cards that have been deleted in the new apkg file
will not be deleted in the user’s collection, so if you need to delete
cards from users’ decks for whatever reason, you will need to contact
them about it.</p>
<h2 id="sharing-add-ons"><a class="header" href="#sharing-add-ons">Sharing Add-ons</a></h2>
<p>Please see <a href="https://addon-docs.ankiweb.net/sharing.html">https://addon-docs.ankiweb.net/sharing.html</a></p>
<h2 id="translating-anki"><a class="header" href="#translating-anki">Translating Anki</a></h2>
<p>Please see <a href="https://translating.ankiweb.net">https://translating.ankiweb.net</a></p>
<h2 id="contributing-code"><a class="header" href="#contributing-code">Contributing Code</a></h2>
<p>Anki’s source code is available at <a href="https://github.com/ankitects/anki">https://github.com/ankitects/anki</a></p>
<p>Before contributing, please see <a href="https://github.com/ankitects/anki/blob/main/docs/contributing.md">contributing.md</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="frequently-asked-questions"><a class="header" href="#frequently-asked-questions">Frequently Asked Questions</a></h1>
<p>Please see <a href="https://faqs.ankiweb.net">https://faqs.ankiweb.net</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="resources"><a class="header" href="#resources">Resources</a></h1>
<p>You can find guides, templates, custom schedulers and other resources in <a href="https://forums.ankiweb.net/t/collection-of-anki-resources/60044">this resource list</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </div>
    </body>
</html>
