<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Card Generation - Anki Manual</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../css/kbd.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../intro.html">Introduction</a></li><li class="chapter-item "><a href="../background.html"><strong aria-hidden="true">1.</strong> Background</a></li><li class="chapter-item "><a href="../platform/intro.html"><strong aria-hidden="true">2.</strong> Platform Notes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../platform/windows/installing.html"><strong aria-hidden="true">2.1.</strong> Windows</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../platform/windows/installing.html"><strong aria-hidden="true">2.1.1.</strong> Install & Upgrade</a></li><li class="chapter-item "><a href="../platform/windows/installation-issues.html"><strong aria-hidden="true">2.1.2.</strong> Installation Issues</a></li><li class="chapter-item "><a href="../platform/windows/startup-issues.html"><strong aria-hidden="true">2.1.3.</strong> Startup Issues</a></li><li class="chapter-item "><a href="../platform/windows/display-issues.html"><strong aria-hidden="true">2.1.4.</strong> Display Issues</a></li><li class="chapter-item "><a href="../platform/windows/copy-and-paste.html"><strong aria-hidden="true">2.1.5.</strong> Copy and Paste Issues</a></li><li class="chapter-item "><a href="../platform/windows/text-size.html"><strong aria-hidden="true">2.1.6.</strong> Text Size</a></li><li class="chapter-item "><a href="../platform/windows/permission-problems.html"><strong aria-hidden="true">2.1.7.</strong> Permission Problems</a></li></ol></li><li class="chapter-item "><a href="../platform/mac/installing.html"><strong aria-hidden="true">2.2.</strong> macOS</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../platform/mac/installing.html"><strong aria-hidden="true">2.2.1.</strong> Install & Upgrade</a></li><li class="chapter-item "><a href="../platform/mac/display-issues.html"><strong aria-hidden="true">2.2.2.</strong> Display Issues</a></li></ol></li><li class="chapter-item "><a href="../platform/linux/installing.html"><strong aria-hidden="true">2.3.</strong> Linux</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../platform/linux/installing.html"><strong aria-hidden="true">2.3.1.</strong> Install & Upgrade</a></li><li class="chapter-item "><a href="../platform/linux/missing-libraries.html"><strong aria-hidden="true">2.3.2.</strong> Missing Libraries</a></li><li class="chapter-item "><a href="../platform/linux/display-issues.html"><strong aria-hidden="true">2.3.3.</strong> Display Issues</a></li><li class="chapter-item "><a href="../platform/linux/blank-window.html"><strong aria-hidden="true">2.3.4.</strong> Blank Main Window</a></li><li class="chapter-item "><a href="../platform/linux/distro-packages.html"><strong aria-hidden="true">2.3.5.</strong> Linux Distro Packages</a></li><li class="chapter-item "><a href="../platform/linux/gtk-theme.html"><strong aria-hidden="true">2.3.6.</strong> Incorrect GTK Theme</a></li><li class="chapter-item "><a href="../platform/linux/wayland.html"><strong aria-hidden="true">2.3.7.</strong> Wayland</a></li><li class="chapter-item "><a href="../platform/linux/input-methods.html"><strong aria-hidden="true">2.3.8.</strong> Input Methods</a></li></ol></li></ol></li><li class="chapter-item "><a href="../getting-started.html"><strong aria-hidden="true">3.</strong> Getting Started</a></li><li class="chapter-item "><a href="../studying.html"><strong aria-hidden="true">4.</strong> Studying</a></li><li class="chapter-item "><a href="../editing.html"><strong aria-hidden="true">5.</strong> Adding/Editing</a></li><li class="chapter-item expanded "><a href="../templates/intro.html"><strong aria-hidden="true">6.</strong> Card Templates</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../templates/fields.html"><strong aria-hidden="true">6.1.</strong> Field Replacements</a></li><li class="chapter-item expanded "><a href="../templates/generation.html" class="active"><strong aria-hidden="true">6.2.</strong> Card Generation</a></li><li class="chapter-item "><a href="../templates/styling.html"><strong aria-hidden="true">6.3.</strong> Styling & HTML</a></li><li class="chapter-item "><a href="../templates/errors.html"><strong aria-hidden="true">6.4.</strong> Checks and Errors</a></li></ol></li><li class="chapter-item "><a href="../preferences.html"><strong aria-hidden="true">7.</strong> Preferences</a></li><li class="chapter-item "><a href="../deck-options.html"><strong aria-hidden="true">8.</strong> Deck Options</a></li><li class="chapter-item "><a href="../syncing.html"><strong aria-hidden="true">9.</strong> Syncing with AnkiWeb</a></li><li class="chapter-item "><a href="../profiles.html"><strong aria-hidden="true">10.</strong> Profiles</a></li><li class="chapter-item "><a href="../browsing.html"><strong aria-hidden="true">11.</strong> Browsing</a></li><li class="chapter-item "><a href="../filtered-decks.html"><strong aria-hidden="true">12.</strong> Filtered Decks</a></li><li class="chapter-item "><a href="../searching.html"><strong aria-hidden="true">13.</strong> Searching</a></li><li class="chapter-item "><a href="../importing.html"><strong aria-hidden="true">14.</strong> Importing</a></li><li class="chapter-item "><a href="../exporting.html"><strong aria-hidden="true">15.</strong> Exporting</a></li><li class="chapter-item "><a href="../backups.html"><strong aria-hidden="true">16.</strong> Backups</a></li><li class="chapter-item "><a href="../files.html"><strong aria-hidden="true">17.</strong> Managing Files</a></li><li class="chapter-item "><a href="../stats.html"><strong aria-hidden="true">18.</strong> Statistics</a></li><li class="chapter-item "><a href="../media.html"><strong aria-hidden="true">19.</strong> Media</a></li><li class="chapter-item "><a href="../math.html"><strong aria-hidden="true">20.</strong> Math & Symbols</a></li><li class="chapter-item "><a href="../leeches.html"><strong aria-hidden="true">21.</strong> Leeches</a></li><li class="chapter-item "><a href="../addons.html"><strong aria-hidden="true">22.</strong> Add-ons</a></li><li class="chapter-item "><a href="../sync-server.html"><strong aria-hidden="true">23.</strong> Sync Server</a></li><li class="chapter-item "><a href="../misc.html"><strong aria-hidden="true">24.</strong> Miscellaneous</a></li><li class="chapter-item affix "><a href="../contrib.html">Contributing</a></li><li class="chapter-item affix "><a href="../faqs.html">FAQs</a></li><li class="chapter-item affix "><a href="../resources.html">Resources</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Anki Manual</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ankitects/anki-manual/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="card-generation"><a class="header" href="#card-generation">Card Generation</a></h1>
<ul>
<li><a href="#reverse-cards">Reverse Cards</a></li>
<li><a href="#card-generation--deletion">Card Generation &amp; Deletion</a></li>
<li><a href="#selective-card-generation">Selective Card Generation</a></li>
<li><a href="#conditional-replacement">Conditional Replacement</a></li>
<li><a href="#blank-back-sides">Blank Back Sides</a></li>
<li><a href="#limitations-in-older-anki-versions">Limitations in Older Anki Versions</a></li>
<li><a href="#adding-empty-notes">Adding Empty Notes</a></li>
<li><a href="#cloze-templates">Cloze Templates</a></li>
</ul>
<h2 id="reverse-cards"><a class="header" href="#reverse-cards">Reverse Cards</a></h2>
<p>You can watch <a href="http://www.youtube.com/watch?v=DnbKwHEQ1mA&amp;yt:cc=on">a video about reversing
cards</a> on YouTube.</p>
<p>If you want to create cards that go in both directions (e.g., both
“ookii”→“big” and “big”→“ookii”), you have several options. The simplest
is to select the “Basic (and reversed card)” built-in note type. This
will generate two cards, one in each direction.</p>
<p>If you want to generate reverse cards for only some of your material
(perhaps you only want to take the time to study reverses for the most
important material, or some of your cards don’t make sense reversed),
you can select the “Basic (optional reversed card)” note type. This note
type generates a forward-only card when you fill in only the first two
fields; if you additionally enter something in the “Add Reverse” field
(like a 'y'), Anki will generate a reverse card as well. The contents of
this field will never be displayed on a card.</p>
<h2 id="card-generation--deletion"><a class="header" href="#card-generation--deletion">Card Generation &amp; Deletion</a></h2>
<p>Anki will not create cards with empty front sides. Thus if “My Field”
was empty, and one card’s front template included only that field, the
card would not be created.</p>
<p>If no cards can be created because all of the cards would have empty
front sides, then the Add Notes window will warn you and not allow the
note to be added until at least one card would be generated.</p>
<p>When you edit a previously added note, Anki will automatically create
extra cards if they were previously blank but no longer are. If your
edits have made some cards blank when they previously were not, however,
Anki will not delete them immediately, as that could lead to accidental
data loss. To remove the empty cards, go to Tools → Empty Cards in the
main window. You will be shown a list of empty cards and be given the
option to delete them.</p>
<p>Because of the way that card generation works, it is not possible to
manually delete individual cards, as they would just end up being recreated
the next time the note was edited. Instead, you should make the
relevant conditional replacement fields empty and then use the Empty
Cards option.</p>
<p>Anki does not consider special fields or non-field text for the purposes
of card generation. Thus if your front template looked like the
following, no card would be generated if Country was empty:</p>
<pre><code>Where is {{Country}} on the map?
</code></pre>
<h2 id="selective-card-generation"><a class="header" href="#selective-card-generation">Selective Card Generation</a></h2>
<p>Sometimes you may want to generate extra cards for only some of your
material, such as testing your ability to recall the most important
words of a set. You can accomplish this by adding an extra field to your
note, and adding some text into it (such as &quot;1&quot;) on the notes you want
the extra card. Then in the card template, you can make the card’s
creation depend on that field being non-empty. For more information on
this, please see the conditional replacement section below.</p>
<h2 id="conditional-replacement"><a class="header" href="#conditional-replacement">Conditional Replacement</a></h2>
<p>It is possible to include certain text, fields, or HTML on your cards
only if a field is empty or not empty. An example:</p>
<pre><code>This text is always shown.

{{#FieldName}}
    This text is only shown if FieldName has text in it
{{/FieldName}}

{{^FieldName}}
    This text is only shown if FieldName is empty
{{/FieldName}}
</code></pre>
<p>A real life example is only showing a label if the field is not empty:</p>
<pre><code>{{#Tags}}
    Tags: {{Tags}}
{{/Tags}}
</code></pre>
<p>Or say you want to display a specific field in blue on the front of your
card if there are extra notes on the back (perhaps the fact that there
are notes serves as a reminder that you should spend more time thinking
about the answer). You can style the field as follows:</p>
<pre><code>{{#Notes}}
    &lt;span style=&quot;color:blue;&quot;&gt;
{{/Notes}}

{{FieldToFormat}}

{{#Notes}}
    &lt;/span&gt;
{{/Notes}}
</code></pre>
<p>You can also use conditional replacement to control which cards are
generated. This works since Anki will not generate
cards which would have a blank front side. For
example, consider a card with two fields on the front:</p>
<pre><code>{{Expression}}
{{Notes}}
</code></pre>
<p>Normally a card would be generated if either the expression or notes
field had text in it. If you only wanted a card generated if expression
was not empty, then you could change the template to this:</p>
<pre><code>{{#Expression}}
    {{Expression}}
    {{Notes}}
{{/Expression}}
</code></pre>
<p>And if you wanted to require both fields, you could use two conditional
replacements:</p>
<pre><code>{{#Expression}}
    {{#Notes}}
        {{Expression}}
        {{Notes}}
    {{/Notes}}
{{/Expression}}
</code></pre>
<p>Keep in mind that this only works when you place the
conditional replacement code on the <em>front</em> of the card; if you do this
on the back, you will simply end up with cards with a blank back side.
Similarly, since this works by checking if the front field would be
empty, it is important to make sure you wrap the 'entire' front side in
the conditional replacement; for instance, the following would not work
as expected:</p>
<pre><code>{{#Expression}}
    {{Expression}}
{{/Expression}}
{{Notes}}
</code></pre>
<h2 id="blank-back-sides"><a class="header" href="#blank-back-sides">Blank Back Sides</a></h2>
<p>Card generation only looks at the front side of the card. For example, if you have a
front template:</p>
<pre><code>{{Field 1}}
</code></pre>
<p>and a back template:</p>
<pre><code>{{Field 2}}
</code></pre>
<p>Then a card will be generated if Field 1 is non-empty. If Field 2 is empty, the card
will still be generated, and you will get a blank back side.</p>
<p>If you wish to avoid a blank back side, you will need to place a required field
on the front template as a conditional, like so:</p>
<pre><code>{{#Field 2}}
    {{Field 1}}
{{/Field 2}}
</code></pre>
<p>This will ensure the card is generated only if both Field 2 and Field 1 are non-empty.</p>
<h2 id="limitations-in-older-anki-versions"><a class="header" href="#limitations-in-older-anki-versions">Limitations in Older Anki Versions</a></h2>
<p>The following limitations do not apply to Anki 2.1.28+ and AnkiMobile 2.0.64+.</p>
<p>Older Anki versions cannot use negated conditionals for card generation.
For example, on Anki 2.1.28, the following would add a card if a field
called AddIfEmpty is empty, and Front is non-empty:</p>
<pre><code>{{^AddIfEmpty}}
    {{Front}}
{{/AddIfEmpty}}
</code></pre>
<p>On earlier Anki versions, the negated conditional is ignored, and card
generation will depend only on Front being non-empty.</p>
<p>Mixing <strong>AND</strong> and <strong>OR</strong> conditions can also cause problems on older versions.
For example, the following (&quot;add the card if A <strong>OR</strong> B <strong>OR</strong> C is non-empty&quot;)
is fine:</p>
<pre><code>{{A}}
{{B}}
{{C}}
</code></pre>
<p>And the following (&quot;add the card if A <strong>AND</strong> B <strong>AND</strong> C are non-empty&quot;) is fine:</p>
<pre><code>{{#A}}
    {{#B}}
        {{#C}}
            {{A}}
        {{/C}}
    {{/B}}
{{/A}}
</code></pre>
<p>But the following (&quot;add the card if A <strong>OR</strong> (B <strong>AND</strong> C) are non-empty&quot;) will not work properly:</p>
<pre><code>{{A}}
{{#B}}
    {{#C}}
        {{B}}
    {{/C}}
{{/B}}
</code></pre>
<h2 id="adding-empty-notes"><a class="header" href="#adding-empty-notes">Adding Empty Notes</a></h2>
<p>When you add a new note in Anki 2.1.28+ and AnkiMobile 2.0.64+, if the card
templates and note fields combine to produce no cards, a blank card will be
created using the first template. This allows you to add material even if it's
incomplete, and modify it or the template later to make it valid. If you don't
wish to keep an empty note, you can remove it with the Empty Cards function.</p>
<p>On older Anki versions, Anki refuses to add or import a note if no cards
would be generated.</p>
<h2 id="cloze-templates"><a class="header" href="#cloze-templates">Cloze Templates</a></h2>
<p>Please see the <a href="../editing.html#cloze-deletion">cloze deletion</a> section for background info.</p>
<p>The cloze note type functions differently from regular note types.
Instead of a customizable number of card types, it has a single type
which is shared by all cloze deletions on a note.</p>
<p>As mentioned in the card generation section above, generation of regular
cards depends on one or more fields on the question being non-empty.
Cloze deletion note types are generated differently:</p>
<ul>
<li>
<p>Anki looks on the front template for one or more cloze replacements,
like {{cloze:FieldName}}.</p>
</li>
<li>
<p>It then looks in the FieldName field for all cloze references, like
{{c1::text}}.</p>
</li>
<li>
<p>For each separate number, a card will be generated.</p>
</li>
</ul>
<p>Because card generation functions differently for cloze deletion cards,
{{cloze:…​}} tags can not be used with a regular note type - they
will only function properly when used with a cloze note type.</p>
<p>Conditional generation provides a special field so you can check which
card you are rendering. If you wanted to display the &quot;hint1&quot; field on
the first cloze, and &quot;hint2&quot; field on the second cloze for example, you
could use the following template:</p>
<pre><code>{{cloze:Text}}

{{#c1}}
    {{Hint1}}
{{/c1}}

{{#c2}}
    {{Hint2}}
{{/c2}}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../templates/fields.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../templates/styling.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../templates/fields.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../templates/styling.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
