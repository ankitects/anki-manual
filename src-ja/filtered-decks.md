# フィルターデッキと詰め込み学習

<!-- toc -->

Ankiで通常のデッキを学習するとき、限られた数のカードのみが表示されます：Ankiがあなたが忘れそうだと判断したカードと、新しいカードの1日の上限です。これは一般的に有用で、必要以上に学習に時間を費やさないことを保証します。しかし、テストのための復習、特定の教材への集中など、これらの通常の制限を超えて学習することが有用な場合があります。これを可能にするため、Ankiは「フィルターデッキ」と呼ばれる異なるタイプのデッキを提供しています。

フィルターデッキは多くの可能性を提供します。カードのプレビュー、テスト前の詰め込み学習、特定のタグの学習、特定の並び順でのバックログの解消、予定より早い復習、その日の失敗したカードの復習などに使用できます。

## カスタム学習

フィルターデッキを作成する最も簡単な方法は、デッキをクリックしたときに画面下部に表示されるカスタム学習ボタンを使用することです。その日に失敗したカードを復習するなど、一般的なタスクのための便利なプリセットフィルターを提供します。「カスタム学習セッション」というフィルターデッキを作成し、自動的に開きます。

既存の「カスタム学習セッション」デッキが存在する場合、新しいものが作成される前に空になります。カスタム学習デッキを保持したい場合は、デッキリストから名前を変更できます。

各オプションの概要は次のとおりです：

**今日の新しいカードの上限を増やす**\
現在学習しているデッキに新しいカードを追加します。他のオプションとは異なり、これは新しいフィルターデッキを作成「しません」。既存のデッキを変更します。

**今日の復習カードの上限を増やす**\
1日の復習上限のために今日期限のすべての復習が表示されなかった場合、このオプションでより多くを表示できます。新しいカードのオプションと同様に、これは既存のデッキを変更します。

**忘れたカードを復習**\
指定した日数内に「もう一度」（1）と答えたすべてのカードを表示します。

**先行復習**\
近い将来（指定した日数）に期限となるカードを表示します。これは休暇前に古いカードの一部を処理するのに便利ですが、最近学習したカードには役立ちません。詳細については、下記の[先行復習](#先行復習)セクションを参照してください。

**新しいカードをプレビュー**\
最近追加したカードを、答えた後も復習カードに変換せずに表示します。

**カードの状態またはタグで学習**\
現在のデッキから特定の数のカードを選択して学習します。新しいカードのみ、期限のカードのみ、またはすべてのカードを選択できます。「タグを選択」をクリックした後、タグで選択したカードを制限することもできます。デッキ内のすべてのカードを見たい場合（例えば、大きなテストの前に学習する場合）、カードの数をデッキ内のカード数より多く設定できます。

## ホームデッキ

カードがフィルターデッキに移動されると、元のデッキへのリンクが保持されます。その以前のデッキは、カードの「ホームデッキ」と呼ばれます。

カードはフィルターデッキで学習された後、自動的にホームデッキに戻ります。これは設定に応じて、1回の復習後または複数回の復習後になります。

すべてのカードを一度にホームデッキに戻すことも可能です：

- 学習概要の「空にする」ボタンは、フィルターデッキ内のすべてのカードをホームデッキに戻しますが、空のフィルターデッキは削除しません。後で再度（再構築ボタンを使用して）満たしたい場合に便利です。

- フィルターデッキを削除すると、「空にする」と同じことを行いますが、空になったデッキをデッキリストから削除します。フィルターデッキを削除してもカードは削除されません。

## 手動で作成

上級ユーザーは、プリセットフィルターに頼る代わりに、任意の検索文字列（または「フィルター」）でフィルターデッキを作成できます。フィルターデッキを手動で作成するには、ツールメニューから「フィルターデッキを作成」を選択します。

構築ボタンをクリックすると、Ankiは指定した設定に一致するカードを見つけ、既存のデッキから新しいフィルターデッキに一時的に移動して学習します。

同じフィルターオプションを使用して再度カードを取得したい場合（例えば、特定のタグを持つすべてのカードを毎日学習したい場合）、デッキの概要画面の下部にある再構築ボタンを使用できます。

**検索**エリアは、Ankiが収集するカードを制御します。ブラウザで可能なすべての検索は、フィルターデッキでも可能です。タグへの制限、特定の回数忘れたカードの検索などです。さまざまな可能性についての詳細は、マニュアルの[検索](searching.md)セクションを参照してください。

フィルターデッキは、保留中、延期中、またはすでに別のフィルターデッキにあるカードを取り込むことはできません。このため、ブラウザでの検索で表示されたカードがフィルターデッキに含まれない場合があります。

**制限**オプションは、デッキに収集されるカードの数を制御します。選択した順序は、カードが収集される順序と復習される順序の両方を制御します。例えば「最も忘却」を選択し、制限を20にすると、Ankiは最も忘却した20枚のカードのみを表示します。

**2番目のフィルターを有効にする**オプションでは、2つの異なる検索で構成されるフィルターデッキを作成できます。例えば、ある順序で期限のカードを含め、別の順序で少数の新しいカードを含めることができます。

## 順序

「カードの選択基準」オプションは、カードが表示される順序を制御します。選択する最大カード数がフィルター基準に一致するカード数より少ない場合、Ankiはこのソート済みリストの最後のカードを最初に除外します。

**最も古く見たものから**\
復習で最も長い間見ていないカードを最初に表示します。

**ランダム**\
フィルター基準に一致するすべてのカードの順序をランダム化します（設定された順序を使用しません）。

**間隔の昇順**\
最も小さい間隔を持つカードを最初に表示します。

**間隔の降順**\
最も大きい間隔を持つカードを最初に表示します。

**最も忘却**\
最も多く失敗したカードを最初に表示します。

**追加順**\
最初に追加したカードを表示します（つまり、最も早い作成日を持つカード）。

**期日順**\
最も早い期日を持つカードを最初に表示します。

**最新追加順**\
最も最近デッキに追加したカードを最初に表示します。
（これは「追加順」の反対です。）

**相対的な期限超過**\
忘れている可能性が最も高いカードを最初に表示します。これは、処理に時間がかかる可能性のある大きなバックログがある場合に便利で、より多くのカードを忘れる可能性を減らしたい場合に有用です。

SM-2アルゴリズムを使用している場合、期限超過はカードがどれだけ期限を過ぎているか、および間隔がどれだけ長いかを比較して決定されます。例えば、現在の間隔が5日で2日期限を過ぎているカードは、現在の間隔が10日で3日期限を過ぎているカードより先に表示されます。

FSRSを使用している場合、期限超過は各カードの検索可能性とデッキプリセットの望ましい保持率に基づいて計算されます。

## ステップと戻り

デフォルトでは、Ankiはカードのホームデッキのステップを使用します。新しいカードが通常学習時に2回復習される場合、フィルターデッキで学習するときも同じことが起こります。
（再）学習ステップの動作については、[デッキオプション](deck-options.md#学習ステップ)セクションを参照してください。

カードは（再）学習が完了するとホームデッキに戻ります。したがって、3つの学習ステップがある場合、新しいカードは「良い」を3回押すか、「簡単」を1回押すとホームデッキに戻ります。

再スケジュールが無効になっているフィルターデッキは4つのボタンを表示します。**もう一度**、**難しい**、**良い**ボタンには設定可能な遅延があります。**簡単**ボタンはカードをフィルターデッキから削除します。

## 期限の復習

フィルターデッキに復習期限のカードが含まれている場合、それらは元のデッキで表示されるのと同じように表示されます：画面下部の復習カード数に表示され、どれだけよく覚えていたかについて4つの選択肢があります。正解すると、カードはホームデッキに戻され、次の遅延はホームデッキの設定を使用して調整されます。カードを忘れた場合、ホームデッキで定義された再学習ステップに従って表示されます。

## 先行復習

検索に期限でないカードが含まれている場合、Ankiは復習を予定より早く表示します。

Ankiは、どれだけ早く復習しているかを考慮した特別なアルゴリズムをこれらの復習に使用します。カードがほぼ表示される予定だった場合、時間通りに復習した場合に受け取ったであろうものと同様の新しい遅延が与えられます。しかし、カードが予定されてすぐに復習された場合、新しい遅延は以前の遅延と同様になります。この計算はスライディングスケールで機能します。

カードを予定直後に復習することはスケジューリングにほとんど影響を与えないため（例：1日間隔で明日期限のカードは、早めに復習しても明日期限のままです）、**「先行復習」カスタム学習設定は繰り返し使用には適していません**。旅行前に1週間分のカードを処理するために使用する場合、成熟したカードは将来に再スケジュールされ、新しいカードは小さな間隔のままになります。なぜなら、それらをさらに再スケジュールするのに十分なほどよく知らないからです。翌日再び先行復習すると、結局同じ新しいカードを再度処理することになり、ほとんど利益がありません。

## 再スケジュール

デフォルトでは、Ankiはフィルターデッキでのパフォーマンスに基づいて、変更されたスケジューリングでカードをホームデッキに戻します。

この動作を変更するには、**私の回答に基づいてカードを再スケジュール**をオフにします。これがオフの場合、カードは単純な「プレビューモード」で表示され、元のデッキに戻されるときは、開始時とまったく同じ状態で戻されます。

## 追いつく

フィルターデッキは、復習に遅れをとったときに追いつくのに便利です。あるAnkiユーザーは、追いつくためにフィルターデッキを使用する方法を次のように説明しています：

    私は800枚のカードのバックログに対してフィルターサブデッキでこれを行いました。
    非常にうまくいきました。

    期限内フィルター： "is:due prop:due>-7"

    期限超過フィルター： "is:due prop:due<=-7"

    期限内デッキには、過去1週間に期限となったカードが含まれます。これは、定期的に
    期限となるカードを取得するため、毎日学習すべきデッキです。これにより、バック
    ログがないかのように学習できます。

    期限超過デッキにはバックログ（時間内に学習しなかったカード）が含まれます。
    新しいカードを学習するのと同じ方法で学習できます。それらは通常のカードに戻る
    ため、期限内デッキをチェックし続ける限り、期限超過の数は決して増えません。

    どれくらい時間がかかるかは、定期的に期限となるカードに加えて、毎日どれだけの
    期限超過カードを学習するかによります。気が向いたときにまだ高速で処理できます - 
    または新しいカードのように1日あたり特定の数を行うことができます。あなた次第です。