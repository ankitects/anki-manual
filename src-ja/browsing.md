# ブラウザ

<!-- toc -->

ブラウザウィンドウでは、カードとノートを検索し、編集することができます。メインウィンドウで**ブラウザ**をクリックするか、<kbd>B</kbd>を押すことで開きます。ブラウザは3つのセクションで構成されています：左側の_サイドバー_、右上の_カード/ノートテーブル_、右下の_編集エリア_です。2つのセクション間にマウスを置いて、クリックしてドラッグすることで、一方のセクションを拡大し、もう一方を縮小できます。

## テーブルモード

![テーブルモード](media/browser_table_modes.png)

Anki 2.1.45以降では、データテーブルにカードまたはノートを表示する2つのモードがあります。検索エリアの左上にあるスイッチをクリックするか、<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd>または<kbd>Cmd</kbd>+<kbd>Opt</kbd>+<kbd>T</kbd>を押すことで現在のモードを変更できます。スイッチには現在**C**ards（カード）または**N**otes（ノート）のどちらが表示されているかも示されます。

**注意**：簡潔さのため、このマニュアルでは一般的にカードモードがアクティブであることを前提としています。「カード」の選択/検索などが言及される場合、読者はアクティブなモードに応じて「カードまたはノート」に置き換えることができます。

## サイドバー

左側の_サイドバー_は、一般的な検索語句への素早いアクセスを可能にします。Anki 2.1.45以降では、検索バー、タグとデッキを編集する機能、および以下のセクションで説明する2つの異なるツールの選択肢も提供されます。サイドバーの上部にあるツールバーまたはショートカット<kbd>Alt</kbd>+<kbd>1</kbd>/<kbd>2</kbd>を使用してツールを切り替えることができます。

### 検索ツール

![検索ツール](media/browser_search_tool.png)

このツールでは、サイドバーは以前のバージョンと同様に動作します：項目をクリックすると検索が実行されます。

<kbd>Ctrl</kbd>（Macでは<kbd>Command</kbd>）を押しながらクリックすると、新しい検索を開始する代わりに、クリックした項目をAND条件で現在の検索に追加できます。例えば、ドイツ語デッキにある_学習中_のカードを表示したい場合、「学習中」をクリックしてから、<kbd>Ctrl</kbd>を押しながら「ドイツ語」をクリックします。

<kbd>Shift</kbd>を押しながらクリックすると、ANDではなくOR検索を作成できます。例えば、あるデッキをクリックしてから、<kbd>Shift</kbd>を押しながら別のデッキをクリックすると、どちらかのデッキのカードを同じビューに表示できます。

<kbd>Alt</kbd>（Macでは<kbd>Option</kbd>）を押しながらクリックすると、検索を反転（`-`を前に付ける）できます：例えば、現在のデッキにある特定のタグを持た_ない_すべてのカードを表示できます。<kbd>Alt</kbd>/<kbd>Option</kbd>は<kbd>Ctrl</kbd>または<kbd>Shift</kbd>と組み合わせることができます（例：<kbd>Ctrl</kbd>+<kbd>Alt</kbd>でクリックすると、否定された新しい検索語句が追加されます）。

Anki 2.1.39以降では、検索語句をクリックする際に<kbd>Ctrl</kbd>と<kbd>Shift</kbd>を同時に押すと、同じ種類の検索のすべての出現箇所を新しいものに置き換えることができます。
例えば、以前に`deck:Swahili (is:due or tag:important)`のような複雑な検索式を入力し、今度はウルドゥー語デッキで同じ検索を実行したいとします。サイドバーでウルドゥー語デッキを<kbd>Ctrl</kbd>+<kbd>Shift</kbd>を押しながらクリックすると、次の検索式が得られます：
`deck:Urdu (is:due or tag:important)`。

### 選択ツール

![選択ツール](media/browser_selection_tool2.png)

選択ツールでは、<kbd>Ctrl</kbd>または<kbd>Shift</kbd>を押しながらクリックすることで、同時に複数のアイテムを選択できます。また、ドラッグ＆ドロップでデッキやタグを並べ替えることも可能です。

例を示します：`数学`、`微積分`、`代数`というタグがあるとします。
`微積分`タグをクリックし、次に<kbd>Ctrl</kbd>を押しながら`代数`タグをクリックします。これで両方のタグが選択されているので、どちらかをクリックして`数学`タグにドラッグすると、両方のタグがこのタグの子になります。バックグラウンドでは、Ankiは2つのタグをそれぞれ`数学::微積分`と`数学::代数`に名前を変更し、ノートを更新しています。

複数のアイテムを選択するもう一つの使用例は検索です：選択したアイテムを右クリックすると、**検索 &gt; 選択したすべて/いずれか**を選択できます。これは[検索ツール](#検索ツール)で説明したキーボード修飾子と組み合わせて、結果の検索を現在の検索に追加できます。

### 保存された検索

同じものを定期的に検索する場合、サイドバーの最上部のアイテムを右クリックし、「現在の検索を保存」を選択して名前を入力することで、現在の検索を保存できます。
また、サイドバーのアイテムをこのエリアにドラッグ＆ドロップして、同等の保存された検索を追加し、実質的に上部に固定することもできます。

### アイテムの編集

タグ、デッキ、保存された検索は、サイドバーから直接、右クリックメニューから、またはショートカットキー（Windowsでは<kbd>Del</kbd>と<kbd>F2</kbd>）を使用して削除または名前変更できます。削除は複数のアイテムに対して一度に実行することもできます（[選択ツール](#選択ツール)を参照）。

### アイテムの検索

サイドバーツリーで特定のアイテムを見つけるには、上部の検索バーに名前の一部を入力します。

## 検索ボックス

カードリストの上には検索ボックスがあります。そこに様々なものを入力してカードを検索できます。検索構文については、[検索](searching.md)を参照してください。

## カード/ノートテーブル

テーブルの行は現在の検索に一致するカードまたはノートを表します。
行をクリックすると、対応するノートが下部セクションに表示されます。

### 行

マウスをドラッグするか、<kbd>Ctrl</kbd>または<kbd>Command</kbd>を押しながら複数の行を選択すると、エディタは一時的に非表示になります。様々な操作（デッキの変更など）は、アクティブなモードに関係なく、一度に複数のカードまたはノートに対して実行できます。したがって、カードモードでは、ノートのカードのいずれかが選択されている場合、そのノートは選択されているとみなされ、ノートモードでは、そのノートが選択されている場合、カードは選択されているとみなされます。

他の操作（カード情報の表示など）は単一のカードまたはノートに対してのみ実行されます。これは_現在の_カードまたはノートと呼ばれ、通常は最後に選択またはクリックされたものです。
カードモードでは、現在のノートは現在のカードのノートであり、ノートモードでは、現在のカードは現在のノートの最初のカードです。

背景色はカードとノートに応じて変わります。カードモードでは、最初に一致するものが使用されます：

1. カードに**フラグ**が付いている場合、フラグの色を使用
2. カードが**保留**されている場合、黄色
3. カードのノートに**マーク**が付いている場合、紫色

ノートモードでは、マークされたノートにのみ色が適用されます。\
マークされたノートと保留されたカードの詳細については、[編集とその他](studying.md#編集とその他)を参照してください。

### 列

列は設定可能です：列を右クリック（Macでは<kbd>Ctrl</kbd>-クリック）して、表示したい列を選択してください。
列をドラッグして並べ替えることができます。列をクリックするとその列でソートされ、もう一度クリックするとソート順が逆になります。質問列と解答列ではソートできないことに注意してください。

すべての列は[カードモードとノートモード](#テーブルモード)の両方で利用可能ですが、時には若干異なる名前とデータを持ちます。次の表は両方のモードの動作を示します。

<!-- prettier-ignore -->

| 列              | カードモード                                                                                                                                                                                                                           | ノートモード                                                                                                                                                                                                   |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 解答            | カードの裏側を質問を除いて1行で表示。カードタイプエディタで[カスタムフォーマット](templates/styling.md#ブラウザの外観)を選択することもできます。                                                                                      | カードモードと同じですが、ノートの最初のカードのみ。                                                                                                                                                           |
| カード          | カードのテンプレート名。                                                                                                                                                                                                               | ノートが持つカードの数。                                                                                                                                                                                       |
| カード変更日時  | カードに変更が加えられた最後の時刻（例：カードを復習して復習履歴と間隔が更新されたとき）。                                                                                                                                             | ノートのカードのいずれかに変更が加えられた最後の時刻。                                                                                                                                                         |
| 作成日時        | カードのノートと同じ。                                                                                                                                                                                                                 | ノートが作成された日付。                                                                                                                                                                                       |
| デッキ          | カードがあるデッキの名前。                                                                                                                                                                                                             | ノートのカードがある異なるデッキの数、またはすべてのカードが同じデッキにある場合はデッキ名。                                                                                                                   |
| 期日            | 復習または（再）学習中のカードの期日、新しいカードの新しいカードキューでの位置。カードが保留または延期されている場合、行は括弧で囲まれます。ソートはタイプによって行われ、その後日付または位置によって行われます。                   | 保留、延期、またはフィルターデッキにないノートの次の期日の復習または（再）学習カード。                                                                                                                         |
| (平均) 易しさ   | 新しくない場合のカードの易しさ。                                                                                                                                                                                                       | 新しくないノートのカードの平均易しさ。                                                                                                                                                                         |
| (平均) 間隔     | カードが復習または再学習中の場合のカードの間隔。                                                                                                                                                                                       | 復習または再学習中のノートのカードの平均間隔。                                                                                                                                                                 |
| 忘却            | カードが「もう一度」と評価された回数。                                                                                                                                                                                                 | ノートのすべてのカードの合計忘却数。                                                                                                                                                                           |
| ノート          | カードのノートと同じ。                                                                                                                                                                                                                 | ノートのノートタイプの名前。                                                                                                                                                                                   |
| ノート変更日時  | カードのノートと同じ。                                                                                                                                                                                                                 | ノート（例：フィールドの内容）が最後に編集された時刻。                                                                                                                                                         |
| 質問            | カードの表側を1行で表示。カードタイプエディタで[カスタムフォーマット](templates/styling.md#ブラウザの外観)を選択することもできます。                                                                                                  | カードモードと同じですが、ノートの最初のカードのみ。                                                                                                                                                           |
| 復習回数        | カードが復習された回数。                                                                                                                                                                                                               | ノートのすべてのカードの合計復習回数。                                                                                                                                                                         |
| ソートフィールド | カードのノートと同じ。                                                                                                                                                                                                                 | ノートタイプのソートフィールドとして定義されたノートのフィールドの内容。この1つのフィールドのみ表示およびソートできます。編集エリアの**フィールド...**をクリックしてソートフィールドを変更できます。         |
| タグ            | カードのノートと同じ。                                                                                                                                                                                                                 | ノートのタグ。                                                                                                                                                                                                 |

## 編集エリア

右下のエリアには現在選択されている行のノートが表示されます。カードとノートの詳細については、[はじめに](getting-started.md)を参照してください。
フォーマットボタンの詳細については、[編集](editing.md)を参照してください。

編集エリアの上部にある**プレビュー**ボタンをクリックすると、現在選択されているカードが復習時にどのように見えるかのプレビューを見ることができます。
これは答えを入力するフィールドは表示されないことに注意してください。これによりカードを素早くプレビューしやすくなります。
ノートモードでは、選択されたノートの最初のカードのプレビューが表示されます。

## メニューとアクション

ブラウザウィンドウの上部には、様々なメニューを持つツールバーがあり、ブラウザで実行できる様々なアクションを提供します。

### 編集

<!-- prettier-ignore -->

| 名前                 | アクション                                                                                                                                                                                                                    |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 元に戻す             | 最後に実行された操作を元に戻す。                                                                                                                                                                                              |
| すべて選択           | 表示されているすべての行を選択。                                                                                                                                                                                              |
| ノートを選択         | 現在選択されているノートのみを表示し、すべての行を選択。                                                                                                                                                                      |
| 選択を反転           | 選択されていない行を選択し、現在選択されている行の選択を解除。                                                                                                                                                                |
| フィルターデッキを作成 | [フィルターデッキ](filtered-decks.md#手動で作成)ダイアログを表示し、現在のブラウザ検索をフィルターとして設定。<kbd>Alt</kbd> / <kbd>Option</kbd>を使用して代わりに2番目のフィルターを設定。|

### ノート

以下のアクションのほとんどは、選択されたノートに対して動作します。ノートモードで選択された行を右クリックした際のコンテキストメニューからも利用できます。カードモードでは、コンテキストメニューのサブメニューにあります。

<!-- prettier-ignore -->

| 名前              | アクション                                                                                                                                                                                                                                                                                                                                                 |
| ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ノートを追加      | [追加](editing.md#カードとノートの追加)ダイアログを開く。                                                                                                                                                                                                                                                                                                  |
| コピーを作成      | 現在のノートの[複製](browsing.md#重複の検索)を[エディタ](editing.md#カードとノートの追加)で開き、カードのバリエーションを簡単に作成できるように少し変更できます。デフォルトでは、複製カードは元のカードと同じデッキに作成されます。                                                                                                                      |
| ノートをエクスポート | [エクスポート](exporting.md)ダイアログを開く。                                                                                                                                                                                                                                                                                                           |
| タグを追加        | 選択されたすべてのノートに指定されたタグを追加。                                                                                                                                                                                                                                                                                                           |
| タグを削除        | タグを入力し、選択されたすべてのノートから削除。                                                                                                                                                                                                                                                                                                          |
| 未使用のタグをクリア | どのノートでも使用されていないサイドバーからすべてのタグを削除。                                                                                                                                                                                                                                                                                          |
| マークを切り替え  | 現在のノートがマークされている（つまり、_マーク済み_タグがある）場合、選択されたすべてのノートのマークを解除。現在のノートがマークされていない場合、選択されたすべてのノートをマーク。                                                                                                                                                                      |
| ノートタイプを変更 | 選択されたノートをあるタイプから別のタイプに変換。例えば、_ロシア語_ノートタイプと_コンピュータ_ノートタイプがあり、誤ってコンピュータ関連のテキストを_ロシア語_ノートに追加したとします。このオプションを使用してその間違いを修正できます。カードのスケジューリングは影響を受けません。ノートのタイプを変更するには一方向同期が必要です。 |
| 重複を検索        | [重複](#重複の検索)ダイアログを開く。                                                                                                                                                                                                                                                                                                                      |
| 検索と置換        | [検索と置換](#検索と置換)ダイアログを開く。                                                                                                                                                                                                                                                                                                                |
| ノートタイプを管理 | [ノートタイプ](editing.md#ノートタイプの追加)ダイアログを開く。                                                                                                                                                                                                                                                                                            |
| 削除              | 選択されたすべてのノートとそのカードを削除。個々のカードは[テンプレート](templates/intro.md)によって制御されるため、個々のカードを削除することはできません。                                                                                                                                                                                                |

### カード

以下のアクションは、現在選択されているカードに対して動作します。カードモードで選択された行を右クリックした際のコンテキストメニューからも利用できます。ノートモードでは、コンテキストメニューのサブメニューにあります。

<!-- prettier-ignore -->

| 名前           | アクション                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| デッキを変更   | 現在選択されているカードを別のデッキに移動。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 期日を設定     | 新しいカードの場合は復習カードに変換し、特定の日付に期日を設定。学習スケジュールが中断された場合に、カードを数日前後に移動するのに便利です。`60-90`のような範囲を入力すると、選択されたカードを今から60〜90日後に期日を設定します。新しいカードは同じ遅延に間隔が設定されますが、復習カードは現在の間隔を変更せずに再スケジュールされます。ただし、範囲の最後に感嘆符（`!`）が含まれている場合を除きます。手動でカードをスケジュールする場合、アクションは復習外でも実行でき、Ankiはその時点でどのカードが表示される可能性があるかを認識していないため、解答時間は記録されません。                                                                                                                                                                                                                                                                                                                                                                                                                              |
| リセット       | 現在選択されているカードを新しいキューの最後に移動。既存の復習履歴は保持されます。2.1.50以降では、元のカード位置を復元し、カードの忘却と繰り返しカウンターをリセットするオプションがあります。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 位置変更       | 新しいカードが表示される順序を変更。既存の位置は、上記の[テーブル](#カードノートテーブル)セクションで説明したように、_期日_列を有効にすることで確認できます。複数のカードが選択されているときに位置変更コマンドを実行すると、各カードに順番に増加する番号が適用されます。デフォルトでは、各カードごとに番号が1ずつ増加しますが、これは「ステップ」設定を変更することで調整できます。**既存のカードの位置をシフト**オプションを使用すると、現在存在するカードの間にカードを挿入でき、現在存在するカードを押し分けます。例えば、5枚のカードがあり、3、4、5を1と2の間に移動したい場合、この設定を選択すると、カードは1、3、4、5、2の順序になります。対照的に、このオプションをオフにすると、1と2は同じ位置番号を取得します（したがって、同じ番号のカードのどれが最初に出てくるかは予測できません）。有効にすると、より高い位置を持つカードはすべて変更され、変更されたすべてのカードは次回同期時に送信される必要があることに注意してください。 |
| 保留を切り替え | 現在のカードが保留されているかどうかに応じて、選択されたすべてのカードを[保留](studying.md#編集とその他)または保留解除。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| フラグ         | 選択されたすべてのカードのフラグを切り替え。フラグが追加されるか削除されるかは、現在のカードが選択されたフラグを持っているかどうかによります。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 情報           | 復習履歴を含む、現在のカードに関する様々な情報を表示。詳細については、[カード情報](stats.md#カード情報)を参照してください。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

### 移動

このメニューは、ブラウザの様々な部分にジャンプし、カードリストを上下に移動するためのキーボードショートカットを提供するために存在します。

## 検索と置換

このダイアログでは、ノートのテキストを置換できます。上記のように、ツールバーとテーブルのコンテキストメニューから利用できます。

最初の入力フィールドは置換されるテキスト用で、2番目は置換テキスト用です。次に、Ankiがテキストを置換する場所を指定できるドロップダウンメニューがあります：ノートのタグ（Anki 2.1.45以降が必要）、すべてのフィールド、または特定のフィールド（選択されたノートに属するフィールドのみがリストされます）。

デフォルトでは、選択されたノートのみが影響を受けます。この制限を解除したい場合は、「選択されたノートのみ」チェックボックスのチェックを外すことができます（Anki 2.1.45以降が必要）。

正規表現オプションを使用すると、複雑な置換を実行できます。
例えば、フィールドに次のテキストがあるとします：

    <img src="pic.jpg" />

これらの設定を使用します：

![検索と置換ダイアログ](media/find_and_replace.png)

（注：Anki 2.1.28より前のバージョンでは、`${1}`を`\1`に置き換える必要があります。）

その後、想定されるフィールドの内容は次のように変更されます：

    pic.jpg

正規表現の完全な説明はこのドキュメントの範囲外です。
ウェブ上には多くの構文ガイドがあります：

- Anki 2.1.28以降については、<https://docs.rs/regex/latest/regex/index.html#syntax>を参照してください。
- 古いAnkiバージョンについては、<http://docs.python.org/library/re.html>を参照してください。

## 重複の検索

**ノート > 重複を検索**オプションを使用して、同じ内容を持つノートを検索できます。ウィンドウを開くと、Ankiはすべてのノートタイプを調べ、すべての可能なフィールドのリストを表示します。_裏面_フィールドで重複を探したい場合は、リストから選択して**検索**をクリックします。

デフォルトでは、指定したフィールドを持つすべてのノートタイプで検索されます。
これは、単一のノートタイプに限定される手動でカードを追加する際の重複チェックとは異なります。

**オプションフィルター**テキストボックスを使用すると、Ankiが重複を検索する場所を絞り込むことができます。「フランス語単語」と「フランス語動詞」のノートタイプでのみ重複を検索したい場合は、次のように入力します：

    "note:french vocab" or "note:french verbs"

または、特定のデッキでのみ重複を検索したい場合は、次のように使用できます：

    "deck:myDeck"

検索構文はブラウザで検索する際に使用されるものと同じです。
詳細については、[検索](searching.md)を参照してください。

検索結果リストのリンクの1つをクリックして、そのセットの重複ノートを表示できます。検索で多数の重複が見つかった場合は、代わりに**重複にタグ付け**ボタンをクリックすることができます。これにより、一致するすべてのノートに_duplicate_タグが付けられます。その後、ブラウザでこのタグを検索し、同じ画面からすべてを処理できます。